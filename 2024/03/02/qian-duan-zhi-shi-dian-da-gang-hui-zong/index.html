<!DOCTYPE HTML>
<html lang="zh-CN">
    
    

<head>
    <meta charset="utf-8">
    <meta name="keywords" content="å‰ç«¯çŸ¥è¯†ç‚¹å¤§çº²æ±‡æ€», QT-7274">
    <meta name="description" content="ä¼˜åŒ–ç›¸å…³ä¸€æ¬¡åŠ è½½å¤§é‡DOM
ç±»ä¼¼çš„é—®é¢˜åœ¨å…¶å®ƒè¯­è¨€æœ€ä½³çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¤šçº¿ç¨‹ï¼ŒJavaScriptè™½ç„¶æ²¡æœ‰å¤šçº¿ç¨‹ï¼Œä½†æ˜¯setTimeoutå’ŒsetIntervalä¸¤ä¸ªå‡½æ•°å´èƒ½èµ·åˆ°å’Œå¤šçº¿ç¨‹å·®ä¸å¤šçš„æ•ˆæœã€‚ å› æ­¤ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ å…¶ä¸­çš„setTi">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    

    <title>å‰ç«¯çŸ¥è¯†ç‚¹å¤§çº²æ±‡æ€» | QT-7274</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>

    
<body>


    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    <div>
                    
                    <img src="/medias/images/loading.gif" data-original="/medias/logo.gif" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">QT-7274</span>
                </div>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>é¦–é¡µ</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>æ ‡ç­¾</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>åˆ†ç±»</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>å½’æ¡£</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>å…³äº</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>å‹æƒ…é“¾æ¥</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="æœç´¢" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">
    <div class="mobile-head bg-color">
      <div>
        
        <img no-lazy src="/medias/logo.gif" class="logo-img circle responsive-img">
        
        <div class="logo-name">QT-7274</div>
        <div class="logo-desc">
          
              Never really desperate, only the lost of the soul.
              
            </div>
      </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			é¦–é¡µ
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			æ ‡ç­¾
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			åˆ†ç±»
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			å½’æ¡£
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			å…³äº
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			å‹æƒ…é“¾æ¥
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/QT-7274/QT-7274.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #003a8c;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/QT-7274/QT-7274.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('è¯·è¾“å…¥è®¿é—®æœ¬æ–‡ç« çš„å¯†ç ')).toString(CryptoJS.enc.Hex)) {
                alert('å¯†ç é”™è¯¯ï¼Œå°†è¿”å›ä¸»é¡µï¼');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/21.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">å‰ç«¯çŸ¥è¯†ç‚¹å¤§çº²æ±‡æ€»</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æ–‡ç« å†…å®¹è¯¦æƒ… -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%89%8D%E7%AB%AF/">
                                <span class="chip bg-color">å‰ç«¯</span>
                            </a>
                        
                            <a href="/tags/%E8%83%9C%E5%A4%A9/">
                                <span class="chip bg-color">èƒœå¤©</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" class="post-category">
                                å‰ç«¯å¼€å‘
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>å‘å¸ƒæ—¥æœŸ:&nbsp;&nbsp;
                    2024-03-02
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>æ›´æ–°æ—¥æœŸ:&nbsp;&nbsp;
                    2024-07-06
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>æ–‡ç« å­—æ•°:&nbsp;&nbsp;
                    35.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>é˜…è¯»æ—¶é•¿:&nbsp;&nbsp;
                    138 åˆ†
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>é˜…è¯»æ¬¡æ•°:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- æ˜¯å¦åŠ è½½ä½¿ç”¨è‡ªå¸¦çš„ prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="ä¼˜åŒ–ç›¸å…³"><a href="#ä¼˜åŒ–ç›¸å…³" class="headerlink" title="ä¼˜åŒ–ç›¸å…³"></a>ä¼˜åŒ–ç›¸å…³</h2><h3 id="ä¸€æ¬¡åŠ è½½å¤§é‡DOM"><a href="#ä¸€æ¬¡åŠ è½½å¤§é‡DOM" class="headerlink" title="ä¸€æ¬¡åŠ è½½å¤§é‡DOM"></a>ä¸€æ¬¡åŠ è½½å¤§é‡DOM</h3><ol>
<li><p>ç±»ä¼¼çš„é—®é¢˜åœ¨å…¶å®ƒè¯­è¨€æœ€ä½³çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¤šçº¿ç¨‹ï¼ŒJavaScriptè™½ç„¶æ²¡æœ‰å¤šçº¿ç¨‹ï¼Œä½†æ˜¯setTimeoutå’ŒsetIntervalä¸¤ä¸ªå‡½æ•°å´èƒ½èµ·åˆ°å’Œå¤šçº¿ç¨‹å·®ä¸å¤šçš„æ•ˆæœã€‚ å› æ­¤ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ å…¶ä¸­çš„setTimeoutä¾¿å¯ä»¥å¤§æ˜¾èº«æ‰‹ã€‚ setTimeoutå‡½æ•°çš„åŠŸèƒ½å¯ä»¥çœ‹ä½œæ˜¯åœ¨æŒ‡å®šæ—¶é—´ä¹‹åå¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥å®Œæˆä»»åŠ¡ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function loadAll(response) &#123;
	&#x2F;&#x2F;å°†10ä¸‡æ¡æ•°æ®åˆ†ç»„ï¼Œ æ¯ç»„500æ¡ï¼Œä¸€å…±200ç»„
	var groups &#x3D; group(response);
	for (var i &#x3D; 0; i &lt; groups.length; i++) &#123;
		&#x2F;&#x2F;é—­åŒ…ï¼Œ ä¿æŒiå€¼çš„æ­£ç¡®æ€§
		window.setTimeout(function () &#123;
			var group &#x3D; groups[i];
			var index &#x3D; i + 1;
			return function () &#123;
				&#x2F;&#x2F;åˆ†æ‰¹æ¸²æŸ“
				loadPart( group, index );
			&#125;
		&#125;(), 1);
	&#125;
&#125;

&#x2F;&#x2F;æ•°æ®åˆ†ç»„å‡½æ•°ï¼ˆæ¯ç»„500æ¡ï¼‰
function group(data) &#123;
	var result &#x3D; [];
	var groupItem;
	for (var i &#x3D; 0; i &lt; data.length; i++) &#123;
		if (i % 500 &#x3D;&#x3D; 0) &#123;
			groupItem !&#x3D; null &amp;&amp; result.push(groupItem);
			groupItem &#x3D; [];
		&#125;
		groupItem.push(data[i]);
	&#125;
	result.push(groupItem);
	return result;
&#125;
var currIndex &#x3D; 0;
&#x2F;&#x2F;åŠ è½½æŸä¸€æ‰¹æ•°æ®çš„å‡½æ•°
function loadPart( group, index ) &#123;
	var html &#x3D; â€œâ€;
	for (var i &#x3D; 0; i &lt; group.length; i++) &#123;
		var item &#x3D; group[i];
		html +&#x3D; â€œtitle:â€ + item.title + index + &quot; content:&quot; +item.content+ index + â€œâ€;
	&#125;
&#x2F;&#x2F;ä¿è¯é¡ºåºä¸é”™ä¹±
while (index - currIndex &#x3D;&#x3D; 1) &#123;
	$(â€œ#contentâ€).append(html);
		currIndex &#x3D; index;
	&#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><code>window.requestAnimationFrame</code>
 æ¥å—å‚æ•°ä¸ºå‡½æ•°ï¼Œæ¯”èµ·setTimeoutå’ŒsetIntervalæœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š
 1.æŠŠæ¯ä¸€å¸§ä¸­çš„æ‰€æœ‰DOMæ“ä½œé›†ä¸­èµ·æ¥ï¼Œåœ¨ä¸€æ¬¡çš„é‡æ’/é‡ç»˜ä¸­å®Œæˆã€‚æ¯ç§’60å¸§ã€‚
 2.åœ¨éšè—æˆ–è€…ä¸å¯è§çš„å…ƒç´ ä¸­ï¼ŒrequestAnimationFrameå°†ä¸ä¼šé‡ç»˜/é‡æ’ã€‚</p>
</blockquote>
</li>
<li><p>document.createDocumentFragment() ç”¨æ¥åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„èŠ‚ç‚¹å¯¹è±¡ï¼ŒèŠ‚ç‚¹å¯¹è±¡ä¸å±äºæ–‡æ¡£æ ‘ã€‚ å½“éœ€è¦æ·»åŠ å¤šä¸ªDOMå…ƒç´ æ—¶ï¼Œå¯ä»¥å…ˆæŠŠDOMæ·»åŠ åˆ°è¿™ä¸ªè™šæ‹ŸèŠ‚ç‚¹ä¸­ã€‚ç„¶åå†ç»Ÿä¸€å°†è™šæ‹ŸèŠ‚ç‚¹æ·»åŠ åˆ°é¡µé¢ï¼Œè¿™ä¼šå‡å°‘é¡µé¢æ¸²æŸ“DOMçš„æ¬¡æ•°ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//æ€»æ•°æ®</span>
<span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
<span class="token comment">//æ¯æ¬¡æ’å…¥çš„æ•°æ®</span>
<span class="token keyword">const</span> once <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token comment">//éœ€è¦æ’å…¥çš„æ¬¡æ•°</span>
<span class="token keyword">const</span> times <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>total<span class="token operator">/</span>once<span class="token punctuation">)</span>
<span class="token comment">//å½“å‰æ’å…¥çš„æ¬¡æ•°</span>
<span class="token keyword">let</span> curTimes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">//éœ€è¦æ’å…¥çš„ä½ç½®</span>
<span class="token keyword">const</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> once<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        li<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i <span class="token operator">+</span> curTimes <span class="token operator">*</span> once<span class="token punctuation">)</span><span class="token punctuation">;</span>
        frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    curTimes<span class="token operator">++</span><span class="token punctuation">;</span>
    ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>curTimes <span class="token operator">&lt;</span> times<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<blockquote>
<p>çŸ¥è¯†é“¾ï¼šsetTimeoutå’ŒsetIntervalç›¸å…³çŸ¥è¯†ç‚¹ğŸ”œsetTimeoutå’ŒsetIntervalçš„äº’ç›¸å®ç°ğŸ”œrequestAnimationFrameç›¸å…³çŸ¥è¯†ç‚¹ğŸ”œ$nextTick()çš„å®ç°åŸç†ğŸ”œJavaScriptäº‹ä»¶å¾ªç¯</p>
</blockquote>
<h3 id="Webpackå’ŒViteçš„åŒºåˆ«"><a href="#Webpackå’ŒViteçš„åŒºåˆ«" class="headerlink" title="Webpackå’ŒViteçš„åŒºåˆ«"></a>Webpackå’ŒViteçš„åŒºåˆ«</h3><h4 id="è¿è¡ŒåŸç†"><a href="#è¿è¡ŒåŸç†" class="headerlink" title="è¿è¡ŒåŸç†"></a>è¿è¡ŒåŸç†</h4><h5 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h5><p>å½“æˆ‘ä»¬ä½¿ç”¨webpackå¯åŠ¨é¡¹ç›®æ—¶ï¼Œwebpackä¼šæ ¹æ®æˆ‘ä»¬é…ç½®æ–‡ä»¶ï¼ˆ<code>webpack.config.js</code>ï¼‰ ä¸­çš„å…¥å£æ–‡ä»¶ï¼ˆ<code>entry</code>ï¼‰ï¼Œåˆ†æå‡ºé¡¹ç›®é¡¹ç›®æ‰€æœ‰ä¾èµ–å…³ç³»ï¼Œç„¶åæ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼ˆ<code>bundle.js</code>ï¼‰ï¼Œäº¤ç»™æµè§ˆå™¨å»åŠ è½½æ¸²æŸ“ã€‚</p>
<p><strong>è¿™æ ·å°±ä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œé¡¹ç›®è¶Šå¤§ï¼Œéœ€è¦æ‰“åŒ…çš„ä¸œè¥¿è¶Šå¤šï¼Œå¯åŠ¨æ—¶é—´è¶Šé•¿ã€‚</strong></p>
<h5 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h5><p>åœ¨<code>&lt;script type=&quot;module&quot;&gt;</code>ä¸­ï¼Œæµè§ˆå™¨é‡åˆ°å†…éƒ¨çš„importå¼•ç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨å‘èµ·httpè¯·æ±‚ï¼Œå»åŠ è½½å¯¹åº”çš„æ¨¡å—ã€‚</p>
<p>viteä¹Ÿæ­£æ˜¯åˆ©ç”¨äº†<code>ES module</code>è¿™ä¸ªç‰¹æ€§ï¼Œä½¿ç”¨viteè¿è¡Œé¡¹ç›®æ—¶ï¼Œé¦–å…ˆä¼šç”¨<code>esbuild</code>è¿›è¡Œé¢„æ„å»ºï¼Œå°†æ‰€æœ‰æ¨¡å—è½¬æ¢ä¸º<code>es module</code>ï¼Œä¸éœ€è¦å¯¹æˆ‘ä»¬æ•´ä¸ªé¡¹ç›®è¿›è¡Œç¼–è¯‘æ‰“åŒ…ï¼Œè€Œæ˜¯åœ¨æµè§ˆå™¨éœ€è¦åŠ è½½æŸä¸ªæ¨¡å—æ—¶ï¼Œ<strong>æ‹¦æˆªæµè§ˆå™¨å‘å‡ºçš„è¯·æ±‚</strong>ï¼Œæ ¹æ®è¯·æ±‚è¿›è¡Œ<code>æŒ‰éœ€ç¼–è¯‘</code>ï¼Œç„¶åè¿”å›ç»™æµè§ˆå™¨ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œé¦–æ¬¡å¯åŠ¨é¡¹ç›®ï¼ˆå†·å¯åŠ¨ï¼‰æ—¶ï¼Œè‡ªç„¶ä¹Ÿå°±æ¯”webpackå¿«å¾ˆå¤šäº†ï¼Œå¹¶ä¸”é¡¹ç›®å¤§å°å¯¹viteå¯åŠ¨é€Ÿåº¦çš„å½±å“ä¹Ÿå¾ˆå°ã€‚</p>
<h4 id="æ„å»ºæ–¹å¼"><a href="#æ„å»ºæ–¹å¼" class="headerlink" title="æ„å»ºæ–¹å¼"></a>æ„å»ºæ–¹å¼</h4><h5 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h5><p>webpackæ˜¯åŸºäº<code>nodejs</code>è¿è¡Œçš„ï¼Œä½†<code>js</code>åªèƒ½å•çº¿ç¨‹è¿è¡Œï¼Œæ— æ³•åˆ©ç”¨å¤šæ ¸CPUçš„ä¼˜åŠ¿ï¼Œå½“é¡¹ç›®è¶Šæ¥è¶Šå¤§æ—¶ï¼Œæ„å»ºé€Ÿåº¦ä¹Ÿå°±è¶Šæ¥è¶Šæ…¢äº†ã€‚</p>
<h5 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h5><p>vite<code>é¢„æ„å»º</code>ä¸<code>æŒ‰éœ€ç¼–è¯‘</code>çš„è¿‡ç¨‹ï¼Œéƒ½æ˜¯ä½¿ç”¨<code>esbuild</code>å®Œæˆçš„ã€‚</p>
<p><code>esbuild</code>æ˜¯ç”¨<code>go</code>è¯­è¨€ç¼–å†™çš„ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„ä¼˜åŠ¿ï¼Œæ‰€ä»¥viteå¼€å‘ç¯å¢ƒä¸‹çš„<code>é¢„æ„å»º</code>ä¸<code>æŒ‰éœ€ç¼–è¯‘</code>é€Ÿåº¦ï¼Œéƒ½æ˜¯éå¸¸å¿«çš„ã€‚</p>
<h4 id="http2"><a href="#http2" class="headerlink" title="http2"></a>http2</h4><p>viteå……åˆ†åˆ©ç”¨äº†http2å¯ä»¥å¹¶å‘è¯·æ±‚çš„ä¼˜åŠ¿ï¼Œè¿™ä¹Ÿæ˜¯é€Ÿåº¦å¿«çš„ä¸€ä¸ªä¸»è¦åŸå› ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬äº†è§£ä¸€ä¸‹<strong>http2</strong>çš„æ¥é¾™å»è„‰ã€‚</p>
<p>åœ¨ä¹‹å‰http1çš„æ—¶å€™ï¼Œæµè§ˆå™¨å¯¹åŒä¸€ä¸ªåŸŸåçš„è¯·æ±‚ï¼Œæ˜¯æœ‰å¹¶å‘é™åˆ¶çš„ï¼Œä¸€èˆ¬ä¸º6ä¸ªï¼Œå¦‚æœå¹¶å‘è¯·æ±‚6ä¸ªä»¥ä¸Šï¼Œå°±ä¼šé€ æˆé˜»å¡é—®é¢˜ï¼Œæ‰€ä»¥åœ¨http1çš„æ—¶ä»£ï¼Œæˆ‘ä»¬è¦å‡å°‘æ‰“åŒ…äº§ç‰©çš„æ–‡ä»¶æ•°é‡ï¼Œå‡å°‘å¹¶å‘è¯·æ±‚ï¼Œæ¥æé«˜é¡¹ç›®çš„åŠ è½½é€Ÿåº¦ã€‚</p>
<p>2015å¹´ä»¥åï¼Œhttp2å‡ºç°äº†ï¼Œä»–å¯ä»¥å¹¶å‘å‘é€å¤šä¸ªè¯·æ±‚ï¼Œä¸ä¼šå‡ºç°http1çš„å¹¶å‘é™åˆ¶ã€‚è¿™æ—¶å€™ï¼Œå°†æ‰“åŒ…äº§ç‰©åˆ†æˆå¤šä¸ªå°æ¨¡å—ï¼Œå¹¶è¡Œå»åŠ è½½ï¼Œåè€Œä¼šæ›´å¿«ã€‚</p>
<p>viteä¹Ÿå……åˆ†åˆ©ç”¨äº†è¿™ä¸€ä¼˜åŠ¿ï¼Œå¯¹é¡¹ç›®èµ„æºè¿›è¡Œäº†åˆç†çš„æ‹†åˆ†ï¼Œè®¿é—®é¡¹ç›®æ—¶ï¼ŒåŒæ—¶åŠ è½½å¤šä¸ªæ¨¡å—ï¼Œæ¥æå‡é¡¹ç›®è®¿é—®é€Ÿåº¦ã€‚</p>
<h4 id="çƒ­æ›´æ–°"><a href="#çƒ­æ›´æ–°" class="headerlink" title="çƒ­æ›´æ–°"></a>çƒ­æ›´æ–°</h4><p><strong>æˆ‘ä»¬é¦–å…ˆæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯HMRã€‚</strong></p>
<p>æ¨¡å—çƒ­æ›¿æ¢(hot module replacement - HMR)ï¼Œè¯¥åŠŸèƒ½å¯ä»¥å®ç°åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„<code>çƒ­æ›´æ–°</code>ã€‚</p>
<p>viteä¸webpackè™½ç„¶éƒ½æ”¯æŒHMR,ä½†ä¸¤ä¸ªå·¥å…·çš„å®ç°åŸç†æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<h5 id="webpack-1"><a href="#webpack-1" class="headerlink" title="webpack"></a>webpack</h5><p>webpacké¡¹ç›®ä¸­ï¼Œæ¯æ¬¡ä¿®æ”¹æ–‡ä»¶ï¼Œéƒ½ä¼šå¯¹æ•´ä¸ªé¡¹ç›®é‡æ–°è¿›è¡Œæ‰“åŒ…ï¼Œè¿™å¯¹å¤§é¡¹ç›®æ¥è¯´ï¼Œæ˜¯éå¸¸ä¸å‹å¥½çš„ã€‚</p>
<blockquote>
<p>è¿™é‡Œå¯¹æ•´ä¸ªé¡¹ç›®ï¼Œæˆ‘ç†è§£çš„æ˜¯æ•´ä¸ªé¡¹ç›®çš„æ¨¡å—ä¾èµ–å…³ç³»é‡æ–°æ¢³ç†ç¼–è¯‘ï¼Œè¿™ä¸ªæ˜¯æœ€èŠ±æ—¶é—´çš„ï¼Œè‡³äºæ›´æ–°ï¼Œåº”è¯¥éƒ½æ˜¯å¯¹ç›®å‰æ­£åœ¨ç¼–è¾‘çš„æ¨¡å—æ›´æ–°ã€‚</p>
</blockquote>
<p>è™½ç„¶webpackç°åœ¨æœ‰äº†ç¼“å­˜æœºåˆ¶ï¼Œä½†è¿˜æ˜¯æ— æ³•ä»æ ¹æœ¬ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h5 id="vite-1"><a href="#vite-1" class="headerlink" title="vite"></a>vite</h5><p>viteé¡¹ç›®ä¸­ï¼Œç›‘å¬åˆ°æ–‡ä»¶å˜æ›´åï¼Œä¼šç”¨<code>websocket</code>é€šçŸ¥æµè§ˆå™¨ï¼Œé‡æ–°å‘èµ·æ–°çš„è¯·æ±‚ï¼Œåªå¯¹è¯¥æ¨¡å—è¿›è¡Œé‡æ–°ç¼–è¯‘ï¼Œç„¶åè¿›è¡Œæ›¿æ¢ã€‚</p>
<p>å¹¶ä¸”åŸºäº<code>es module</code>çš„ç‰¹æ€§ï¼Œviteåˆ©ç”¨æµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥ï¼Œé’ˆå¯¹æºç æ¨¡å—ï¼ˆæˆ‘ä»¬è‡ªå·±å†™çš„ä»£ç ï¼‰åšäº†<code>åå•†ç¼“å­˜</code>å¤„ç†ï¼Œé’ˆå¯¹ä¾èµ–æ¨¡å—ï¼ˆç¬¬ä¸‰æ–¹åº“ï¼‰åšäº†<code>å¼ºç¼“å­˜</code>å¤„ç†ï¼Œè¿™æ ·æˆ‘ä»¬é¡¹ç›®çš„è®¿é—®çš„é€Ÿåº¦ä¹Ÿå°±æ›´å¿«äº†ã€‚</p>
<blockquote>
<p>çŸ¥è¯†é“¾ï¼šwebpackå®ç°åŸç†ğŸ”œES moduleç›¸å…³çŸ¥è¯†ğŸ”œhttpåè®®ç›¸å…³ğŸ”œwebsocketå®ç°åŸç†ğŸ”œJavaScriptäº‹ä»¶å¾ªç¯</p>
</blockquote>
<h3 id="è·¯ç”±æ‡’åŠ è½½"><a href="#è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="è·¯ç”±æ‡’åŠ è½½"></a>è·¯ç”±æ‡’åŠ è½½</h3><ol>
<li><p>å› ä¸ºæ‡’åŠ è½½æ˜¯å¯¹å­æ¨¡å—ï¼ˆå­ç»„ä»¶ï¼‰è¿›è¡Œå»¶ååŠ è½½ã€‚å¦‚æœå­æ¨¡å—ï¼ˆå­ç»„ä»¶ï¼‰ä¸å•ç‹¬æ‰“åŒ…ï¼Œè€Œæ˜¯å’Œåˆ«çš„æ¨¡å—æºå’Œåœ¨ä¸€èµ·ï¼Œé‚£å…¶ä»–æ¨¡å—åŠ è½½æ—¶å°±ä¼šå°†æ•´ä¸ªæ–‡ä»¶åŠ è½½å‡ºæ¥äº†ï¼Œè¿™æ ·å­æ¨¡å—ï¼ˆå­ç»„ä»¶ï¼‰å°±è¢«æå‰åŠ è½½å‡ºæ¥äº†ã€‚æ‰€ä»¥ï¼Œ <strong>è¦å®ç°æ‡’åŠ è½½ï¼Œå°±å¾—å…ˆå°†è¿›è¡Œæ‡’åŠ è½½çš„å­æ¨¡å—ï¼ˆå­ç»„ä»¶ï¼‰åˆ†ç¦»å‡ºæ¥ã€‚</strong></p>
<p><strong>æ‡’åŠ è½½å®ç°çš„å‰æï¼šES6çš„åŠ¨æ€åŠ è½½æ¨¡å— - importï¼ˆï¼‰</strong></p>
<blockquote>
<p>è°ƒç”¨import()ä¹‹å¤„ï¼Œè¢«ä½œä¸ºåˆ†ç¦»çš„æ¨¡å—èµ·ç‚¹ï¼Œæ„æ€æ˜¯ï¼Œè¢«è¯·æ±‚çš„æ¨¡å—å’Œå®ƒå¼•ç”¨çš„æ‰€æœ‰å­æ¨¡å—ï¼Œä¼šåˆ†ç¦»åˆ°ä¸€ä¸ªå•ç‹¬çš„ chunk ä¸­ã€‚
---- æ¥è‡ªã€Šwebpack - æ¨¡å—æ–¹æ³•ã€‹çš„import()å°èŠ‚</p>
</blockquote>
</li>
<li><p><strong>å°çŸ¥è¯†ç‚¹ï¼š<code>import()</code>ä¸­çš„æ³¨é‡Šã€‚</strong> æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œ<code>import()</code>æ‹¬å·é‡Œé¢æœ‰ä¸€ä¸²æ³¨é‡Šï¼Œå¦‚ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "con" */</span> <span class="token string">'./con.js'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>é€šè¿‡è¿™ä¸ªæ³¨é‡Šï¼Œå†é…åˆ<code>webpacj.config.js</code>çš„<code>output.chunkFilename</code>ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆ<code>chunk</code>ï¼‰çš„åå­—ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢ä¾‹å­çš„<code>Webpack</code>çš„é…ç½®ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token string">'./src/main.js'</span><span class="token punctuation">,</span> <span class="token comment">//å…¥å£æ–‡ä»¶</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">'[name].bundle.js'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>æ— è®ºä½¿ç”¨å‡½æ•°å£°æ˜è¿˜æ˜¯å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºå‡½æ•°ï¼Œå‡½æ•°è¢«åˆ›å»ºåå¹¶ä¸ä¼šç«‹å³æ‰§è¡Œå‡½æ•°å†…éƒ¨çš„ä»£ç ï¼Œåªæœ‰ç­‰åˆ°å‡½æ•°è¢«è°ƒç”¨ä¹‹åï¼Œæ‰æ‰§è¡Œå†…éƒ¨çš„ä»£ç ã€‚</strong> ç›¸ä¿¡å¯¹äºè¿™ä¸ªå‡½æ•°ç‰¹æ€§ï¼Œå¤§å®¶éƒ½ååˆ†æ¸…æ¥šåœ°ã€‚çœ‹åˆ°è¿™é‡Œï¼Œå¤§å®¶å¯¹äºæ‡’åŠ è½½çš„å®ç°å¯èƒ½å·²ç»æœ‰äº†æ€è·¯ã€‚</p>
<p><strong>åªè¦å°†éœ€è¦è¿›è¡Œæ‡’åŠ è½½çš„<code>å­æ¨¡å—æ–‡ä»¶ï¼ˆchildren chunkï¼‰</code>çš„å¼•å…¥è¯­å¥ï¼ˆ<code>æœ¬æ–‡ç‰¹æŒ‡import()</code>ï¼‰æ”¾åˆ°ä¸€ä¸ªå‡½æ•°å†…éƒ¨ã€‚ç„¶åå†éœ€è¦åŠ è½½çš„æ—¶å€™æ‰§è¡Œè¯¥å‡½æ•°ã€‚è¿™æ ·å°±å¯ä»¥å®ç°æ‡’åŠ è½½ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰ã€‚è¿™ä¹Ÿå°±æ˜¯æ˜¯æ‡’åŠ è½½ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰çš„åŸç†äº†</strong></p>
</li>
<li><p>webpackæä¾›çš„require.ensure()å®ç°æ‡’åŠ è½½ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">1</span>ï¼švue<span class="token operator">-</span>routeré…ç½®è·¯ç”±ï¼Œä½¿ç”¨webpackçš„require<span class="token punctuation">.</span>ensureæŠ€æœ¯ï¼Œä¹Ÿå¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ã€‚
<span class="token number">2</span>ï¼šè¿™ç§æƒ…å†µä¸‹ï¼Œå¤šä¸ªè·¯ç”±æŒ‡å®šç›¸åŒçš„chunkNameï¼Œä¼šåˆå¹¶æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶ã€‚
<span class="token number">3</span>ï¼šrequire<span class="token punctuation">.</span>ensureå¯å®ç°æŒ‰éœ€åŠ è½½èµ„æºï¼ŒåŒ…æ‹¬js<span class="token punctuation">,</span>cssç­‰ã€‚ä»–ä¼šç»™é‡Œé¢requireçš„æ–‡ä»¶å•ç‹¬æ‰“åŒ…ï¼Œä¸ä¼šå’Œä¸»æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ã€‚
<span class="token number">4</span>ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„ï¼Œè¡¨æ˜ç¬¬äºŒä¸ªå‚æ•°é‡Œéœ€è¦ä¾èµ–çš„æ¨¡å—ï¼Œè¿™äº›ä¼šæå‰åŠ è½½ã€‚
<span class="token number">5</span>ï¼šç¬¬äºŒä¸ªæ˜¯å›è°ƒå‡½æ•°<span class="token punctuation">,</span>åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°é‡Œé¢requireçš„æ–‡ä»¶ä¼šè¢«å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªchunk<span class="token punctuation">,</span>ä¸ä¼šå’Œä¸»æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œè¿™æ ·å°±ç”Ÿæˆäº†ä¸¤ä¸ªchunk<span class="token punctuation">,</span>ç¬¬ä¸€æ¬¡åŠ è½½æ—¶åªåŠ è½½ä¸»æ–‡ä»¶ã€‚
<span class="token number">6</span>ï¼šç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯é”™è¯¯å›è°ƒã€‚
<span class="token number">7</span>ï¼šç¬¬å››ä¸ªå‚æ•°æ˜¯å•ç‹¬æ‰“åŒ…çš„chunkçš„æ–‡ä»¶å<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="è·¯ç”±çº§æƒé™"><a href="#è·¯ç”±çº§æƒé™" class="headerlink" title="è·¯ç”±çº§æƒé™"></a>è·¯ç”±çº§æƒé™</h3><h4 id="ç®€å•è§’è‰²åŠ¨æ€è·¯ç”±"><a href="#ç®€å•è§’è‰²åŠ¨æ€è·¯ç”±" class="headerlink" title="ç®€å•è§’è‰²åŠ¨æ€è·¯ç”±"></a>ç®€å•è§’è‰²åŠ¨æ€è·¯ç”±</h4><h5 id="é…ç½®è·¯ç”±æ–‡ä»¶ï¼Œå®šä¹‰è·¯ç”±ä¿¡æ¯"><a href="#é…ç½®è·¯ç”±æ–‡ä»¶ï¼Œå®šä¹‰è·¯ç”±ä¿¡æ¯" class="headerlink" title="é…ç½®è·¯ç”±æ–‡ä»¶ï¼Œå®šä¹‰è·¯ç”±ä¿¡æ¯"></a>é…ç½®è·¯ç”±æ–‡ä»¶ï¼Œå®šä¹‰è·¯ç”±ä¿¡æ¯</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">"@/store"</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é»˜è®¤é™æ€è·¯ç”±</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/login/index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// åŠ¨æ€é…ç½®çš„è·¯ç”±ï¼ˆé…ç½®æƒé™ï¼‰</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> asyncRoutes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/test1"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Test1"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/test1/index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"admin"</span><span class="token punctuation">,</span> <span class="token string">"editor"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//  æ‹¥æœ‰è¿™äº›è§’è‰²æƒé™çš„ç”¨æˆ·æ‰èƒ½è®¿é—®</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"æµ‹è¯•1"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"children1"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Test1Children1"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/test1/test1-children1/index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"admin"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"æµ‹è¯•1å­è·¯ç”±1"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"children2"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Test1Children2"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/test1/test1-children2/index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"editor"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"æµ‹è¯•1å­è·¯ç”±2"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"children3"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Test1Children3"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/test1/test1-children3/index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"admin"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"æµ‹è¯•1å­è·¯ç”±3"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/test2"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Test2"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/test2/index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"admin"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"æµ‹è¯•2"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ªè·¯ç”±å™¨å®ä¾‹</span>
<span class="token keyword">const</span> <span class="token function-variable function">createRouter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'hash'</span><span class="token punctuation">,</span>
    routes<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åˆ›å»ºè·¯ç”±å™¨</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é‡ç½®è·¯ç”±å™¨</span>
<span class="token comment">// åœ¨Vue Routerä¸­ï¼Œä¸€æ—¦è·¯ç”±å™¨è¢«åˆ›å»ºå¹¶ä¸”è·¯ç”±è¢«æ·»åŠ ï¼Œä½ å°±ä¸èƒ½å†æ·»åŠ æ›´å¤šçš„è·¯ç”±ã€‚è¿™å¯èƒ½ä¼šåœ¨æŸäº›æƒ…å†µä¸‹é€ æˆé—®é¢˜ï¼Œä¾‹å¦‚ï¼Œå½“ä½ éœ€è¦åŸºäºç”¨æˆ·è§’è‰²åŠ¨æ€æ·»åŠ è·¯ç”±æ—¶ã€‚</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">resetRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> newRouter <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// é‡ç½®routerå¯¹è±¡</span>
  router<span class="token punctuation">.</span>matcher <span class="token operator">=</span> newRouter<span class="token punctuation">.</span>matcher<span class="token punctuation">;</span>
  <span class="token comment">// æäº¤ç”¨æˆ·è·¯ç”±çš„æ¸…é™¤çŠ¶æ€çš„mutation</span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"user/CLEAR_ROUTERS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="permissionæ¨¡å—ï¼Œé›†æˆå°è£…æ ¹æ®æƒé™è¿‡æ»¤è·¯ç”±çš„vuexæ–¹æ³•"><a href="#permissionæ¨¡å—ï¼Œé›†æˆå°è£…æ ¹æ®æƒé™è¿‡æ»¤è·¯ç”±çš„vuexæ–¹æ³•" class="headerlink" title="permissionæ¨¡å—ï¼Œé›†æˆå°è£…æ ¹æ®æƒé™è¿‡æ»¤è·¯ç”±çš„vuexæ–¹æ³•"></a>permissionæ¨¡å—ï¼Œé›†æˆå°è£…æ ¹æ®æƒé™è¿‡æ»¤è·¯ç”±çš„vuexæ–¹æ³•</h5><p>å†™å…¥<code>generateRoutes</code>æ–¹æ³•ï¼Œæ–¹ä¾¿é¡¹ç›®ä¸­å…¨å±€è°ƒç”¨ï¼Œä¼ å…¥<code>è§’è‰²æƒé™æ•°ç»„</code>æ¥è¿›è¡Œè·¯ç”±è¿‡æ»¤ï¼ˆä¸€èˆ¬æ˜¯è¯·æ±‚åˆ°çš„æ•°ç»„</p>
<p>æ ¹æ® <strong>æƒé™è§’è‰²</strong> æ¥ <strong>è¿‡æ»¤åŠ¨æ€é…ç½®è·¯ç”±</strong> å¾—åˆ°<strong>éœ€è¦ç”Ÿæˆçš„è·¯ç”±ä¿¡æ¯</strong></p>
<p><code>/src/store/modules/permission.js</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> asyncRoutes <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/router"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// åŠ¨æ€é…ç½®çš„è·¯ç”±</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">SET_ROUTES</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> routes</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    state<span class="token punctuation">.</span>routes <span class="token operator">=</span> routes<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">/**
   * ç”Ÿæˆè·¯ç”±
   * @param &#123;Object&#125; commit - æäº¤æ–¹æ³•
   * @param &#123;Array&#125; roles - ç”¨æˆ·è§’è‰²æƒé™æ•°ç»„
   * @returns &#123;Promise&#125; - è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œç”¨äºå¼‚æ­¥å¤„ç†
   */</span>
  <span class="token function">generateRoutes</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> roles</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> accessedRoutes <span class="token operator">=</span> <span class="token function">filterAsyncRoutes</span><span class="token punctuation">(</span>asyncRoutes<span class="token punctuation">,</span> roles<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¼ å…¥åŠ¨æ€é…ç½®è·¯ç”±æ•°ç»„,è§’è‰²æƒé™æ•°ç»„</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>accessedRoutes<span class="token punctuation">,</span> <span class="token string">'accessedRoutes'</span><span class="token punctuation">)</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"SET_ROUTES"</span><span class="token punctuation">,</span> accessedRoutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>accessedRoutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨actionå¼‚æ­¥ <strong>generateRoutes</strong> æ–¹æ³•ä¸­è°ƒç”¨ <strong>filterAsyncRoutes</strong> æ–¹æ³•å¯¹ <strong>asyncRoutes</strong> æ•°ç»„è¿›è¡Œè¿‡æ»¤</p>
<p><strong>filterAsyncRoutes</strong> æ–¹æ³•ä½¿ç”¨é€’å½’è¿›è¡Œè¿‡æ»¤ç›´åˆ°æ²¡æœ‰childrenå­—æ®µä¸ºæ­¢</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&#x2F;**
 * ä½¿ç”¨ meta.role ç¡®å®šå½“å‰ç”¨æˆ·æ˜¯å¦å…·æœ‰æƒé™
 * @param &#123;Array&#125; roles - ç”¨æˆ·çš„è§’è‰²åˆ—è¡¨
 * @param &#123;Object&#125; route - è·¯ç”±å¯¹è±¡
 * @returns &#123;boolean&#125; - å¦‚æœç”¨æˆ·å…·æœ‰è®¿é—®æƒé™åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false
 *&#x2F;
function hasPermission(roles, route) &#123;
  if (route.meta &amp;&amp; route.meta.roles) &#123;
      &#x2F;&#x2F; å¦‚æœè·¯ç”±çš„roleså±æ€§åŒ…å«ç”¨æˆ·çš„ä»»ä½•ä¸€ä¸ªè§’è‰²ï¼Œé‚£ä¹ˆsomeæ–¹æ³•å°±ä¼šè¿”å›trueï¼Œè¡¨ç¤ºç”¨æˆ·æœ‰æƒé™è®¿é—®è¿™ä¸ªè·¯ç”±ã€‚
    return roles.some(role &#x3D;&gt; route.meta.roles.includes(role))
  &#125; else &#123;
    return true
  &#125;
&#125;
&#x2F;**
 * é€šè¿‡é€’å½’ç­›é€‰å¼‚æ­¥è·¯ç”±è¡¨
 * @param routes - asyncRoutes åŠ¨æ€é…ç½®çš„è·¯ç”±
 * @param roles - ç”¨æˆ·çš„è§’è‰²åˆ—è¡¨
 *&#x2F;
export function filterAsyncRoutes(routes, roles) &#123;
  &#x2F;&#x2F; åˆå§‹åŒ–ç»“æœæ•°ç»„
  const res &#x3D; []
  &#x2F;&#x2F; éå†è·¯ç”±æ•°ç»„
  routes.forEach(route &#x3D;&gt; &#123;
    &#x2F;&#x2F; åˆ›å»ºä¸´æ—¶å˜é‡ï¼Œå¤åˆ¶routeå¯¹è±¡
    const tmp &#x3D; &#123; ...route &#125;
    &#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦æœ‰æƒé™
    if (hasPermission(roles, tmp)) &#123;
      &#x2F;&#x2F; å¦‚æœæœ‰æƒé™ï¼Œç»§ç»­éå†å­è·¯ç”±
      if (tmp.children) &#123;
        &#x2F;&#x2F; é€’å½’è°ƒç”¨filterAsyncRouteså‡½æ•°ï¼Œè¿‡æ»¤å­è·¯ç”±
        tmp.children &#x3D; filterAsyncRoutes(tmp.children, roles)
      &#125;
      &#x2F;&#x2F; å°†ç¬¦åˆæ¡ä»¶çš„è·¯ç”±æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­
      res.push(tmp)
    &#125;
  &#125;)
  &#x2F;&#x2F; è¿”å›ç»“æœæ•°ç»„
  return res
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="useræ¨¡å—ï¼Œæ¨¡æ‹Ÿè·å–ç”¨æˆ·ä¿¡æ¯æ–¹æ³•"><a href="#useræ¨¡å—ï¼Œæ¨¡æ‹Ÿè·å–ç”¨æˆ·ä¿¡æ¯æ–¹æ³•" class="headerlink" title="useræ¨¡å—ï¼Œæ¨¡æ‹Ÿè·å–ç”¨æˆ·ä¿¡æ¯æ–¹æ³•"></a>useræ¨¡å—ï¼Œæ¨¡æ‹Ÿè·å–ç”¨æˆ·ä¿¡æ¯æ–¹æ³•</h5><p>åˆ›å»ºvuexæ¨¡å— user.js ï¼Œç”¨äºæ¨¡æ‹Ÿæ¥å£è·å–ç”¨æˆ·è§’è‰²ä¿¡æ¯å¹¶ä¿å­˜çŠ¶æ€</p>
<p><code>/src/store/modules/user.js</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨æˆ·ä¿¡æ¯</span>
  <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// è§’è‰²æƒé™æ•°ç»„</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token constant">SET_USERINFO</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> userInfo</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    state<span class="token punctuation">.</span>userInfo <span class="token operator">=</span> userInfo<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token constant">SET_ROLES</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> roles</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    state<span class="token punctuation">.</span>roles <span class="token operator">=</span> roles<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// è·å–ç”¨æˆ·ä¿¡æ¯æ–¹æ³•</span>
  <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> commit <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"admin"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">introduction</span><span class="token operator">:</span> <span class="token string">"I am a super administrator"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token literal-property property">phone</span><span class="token operator">:</span> <span class="token string">"1234567890"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token literal-property property">createTime</span><span class="token operator">:</span> <span class="token string">"2016-11-22 10:30:30"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lastLoginTime</span><span class="token operator">:</span> <span class="token string">"2019-05-27 10:30:30"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lastLoginIp</span><span class="token operator">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"SET_USERINFO"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®ç”¨æˆ·ä¿¡æ¯</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"SET_ROLES"</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>roles<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®è§’è‰²æƒé™</span>
      <span class="token comment">// å»¶æ—¶æ¨¡æ‹Ÿå¼‚æ­¥</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="åˆ›å»ºå…¨å±€è·¯ç”±å®ˆå«ï¼Œæ§åˆ¶è·¯ç”±æƒé™å¹¶åŠ¨æ€ç”Ÿæˆè·¯ç”±"><a href="#åˆ›å»ºå…¨å±€è·¯ç”±å®ˆå«ï¼Œæ§åˆ¶è·¯ç”±æƒé™å¹¶åŠ¨æ€ç”Ÿæˆè·¯ç”±" class="headerlink" title="åˆ›å»ºå…¨å±€è·¯ç”±å®ˆå«ï¼Œæ§åˆ¶è·¯ç”±æƒé™å¹¶åŠ¨æ€ç”Ÿæˆè·¯ç”±"></a>åˆ›å»ºå…¨å±€è·¯ç”±å®ˆå«ï¼Œæ§åˆ¶è·¯ç”±æƒé™å¹¶åŠ¨æ€ç”Ÿæˆè·¯ç”±</h5><p>å®šä¹‰å¥½äº†ä¸Šè¿°çš„ä¸€ç³»åˆ—æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨ä»€ä¹ˆæ—¶æœºè°ƒç”¨ï¼Œå¹¶ä¸”æ·»åŠ åˆ°è·¯ç”±ä¸­å‘¢ï¼Ÿ</p>
<p><strong>1 =&gt;</strong>  æ­£ç¡®çš„æ—¶æœºåº”å½“æ˜¯ ç”¨æˆ·å·²ç»ç™»å½•å¹¶å–å¾—å¾—ç”¨æˆ·ä¿¡æ¯åï¼Œå†æ ¹æ®ç”¨æˆ·è§’è‰²è¿‡æ»¤è·¯ç”±ï¼Œæœ€åç”Ÿæˆè·¯ç”±</p>
<p><strong>2 =&gt;</strong>  å½“ç”¨æˆ·é€€å‡ºç™»å½•æˆ–è€…æœªç™»å½•æ—¶ï¼Œæ¸…ç©ºç”¨æˆ·ä¿¡æ¯ä»¥åŠè·¯ç”±ï¼Œæ¢å¤ä¸ºåˆå§‹çŠ¶æ€ï¼Œè·³è½¬å›ç™»å½•é¡µ</p>
<p>ä½¿ç”¨ vue-routerçš„å…¨å±€è·¯ç”±å®ˆå« å®šä¹‰ä¸€ä¸ªè·¯ç”±æƒé™æ–‡ä»¶ è¿›è¡Œæƒé™æ§åˆ¶</p>
<p><code>/src/router/permission.js</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> router<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> resetRouter <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@/router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">"@/store"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> whiteList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"/login"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// è·¯ç”±ç™½åå•ï¼Œæ— éœ€ç™»å½•ä¾¿å¯ä»¥è®¿é—®çš„è·¯ç”±</span>

router<span class="token punctuation">.</span><span class="token function">beforeResolve</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// è·å–ç”¨æˆ·ç™»å½•çš„token</span>
  <span class="token keyword">const</span> hasToken <span class="token operator">=</span> <span class="token string">"xxxxxxxx"</span><span class="token punctuation">;</span> <span class="token comment">// getToken() // è¿™é‡Œç”¨è™šæ‹Ÿå€¼ä»£æ›¿ï¼Œè¡¨ç¤ºå·²ç™»å½•</span>

  <span class="token comment">// åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦ç™»å½•</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>hasToken<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">"/login"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// å¦‚æœå½“å‰ç”¨æˆ·å·²ç»ç™»å½•ï¼Œåˆ™è·³è½¬åˆ°é¦–é¡µ</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// ä»store useræ¨¡å—ä¸­è·å–ç”¨æˆ·æƒé™è§’è‰²ï¼Œå¦‚æœæœ‰è§’è‰²åˆ™ä»£è¡¨å·²ç»è·å–äº†ç”¨æˆ·ä¿¡æ¯ç™»å½•ä¸­ï¼Œç›´æ¥æ”¾è¡Œ</span>
      <span class="token keyword">const</span> hasRoles <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>roles <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">.</span>roles<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>hasRoles<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// è·å–äº†tokenï¼Œä½†æ˜¯æ²¡æœ‰è§’è‰²ï¼Œåˆ™è°ƒç”¨è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£è·å–è§’è‰²æƒé™æ•°ç»„</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
          <span class="token comment">// è°ƒç”¨è·å–å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶å–å¾—è§’è‰²æƒé™æ•°ç»„ï¼Œä¾‹å¦‚ ['admin'] or ,['developer','editor']</span>
           <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> roles <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">"user/getInfo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// è·å–ç”¨æˆ·è§’è‰²æƒé™æ•°ç»„åè°ƒç”¨vuexçš„generateRoutesæ–¹æ³•è¿‡æ»¤æ‰æ²¡æœ‰æƒé™çš„è·¯ç”±è¡¨å¹¶è¿”å›</span>
          <span class="token keyword">const</span> accessRoutes <span class="token operator">=</span> <span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">"permission/generateRoutes"</span><span class="token punctuation">,</span> roles<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// ä½¿ç”¨addRouteå°† åŠ¨æ€é…ç½®çš„è·¯ç”± æ·»åŠ åˆ° layout é¦–é¡µå­çº§ä¸­</span>
          router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">redirect</span><span class="token operator">:</span> accessRoutes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>path<span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/layout"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"é¦–é¡µ"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">// è·¯ç”±å…ƒä¿¡æ¯</span>
            <span class="token literal-property property">children</span><span class="token operator">:</span> accessRoutes<span class="token punctuation">,</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// ç„¶åå†æ·»åŠ 404å¯¼èˆªè·¯ç”±ï¼Œé˜²æ­¢åˆ·æ–°åé»˜è®¤å¯¼å‘404é¡µ</span>
          router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/404"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">"/404"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"@/views/notFoundPage.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">"/404"</span><span class="token punctuation">,</span> <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// è®¾ç½®replace:trueï¼Œè¿™æ ·å¯¼èˆªå°±ä¸ä¼šç•™ä¸‹å†å²è®°å½•</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span>to<span class="token punctuation">,</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token comment">// æ•è·é”™è¯¯å¼‚å¸¸é€€å‡ºç™»å½•æ¸…é™¤ç”¨æˆ·ä¿¡æ¯</span>
          <span class="token function">resetRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡ç½®è·¯ç”±</span>
          <span class="token comment">// await store.dispatch("user/resetToken");</span>
          <span class="token function">next</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/login?redirect=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>to<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ç”¨æˆ·æœªç™»å½•</span>
    <span class="token function">resetRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é‡ç½®è·¯ç”±</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>whiteList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// éœ€è¦è·³è½¬çš„è·¯ç”±æ˜¯å¦æ˜¯ç™½åå•whiteListä¸­çš„è·¯ç”±ï¼Œè‹¥æ˜¯ï¼Œåˆ™ç›´æ¥è·³è½¬</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// éœ€è¦è·³è½¬çš„è·¯ç”±ä¸æ˜¯ç™½åå•whiteListä¸­çš„è·¯ç”±ï¼Œç›´æ¥è·³è½¬åˆ°ç™»å½•é¡µ</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/login?redirect=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>to<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>ä¸ºé˜²æ­¢<strong>é¡µé¢åˆ·æ–°æ—¶ä¼šé‡ç½®è·¯ç”±åæ‰¾ä¸åˆ°å¯¹åº”çš„è·¯ç”±åœ°å€</strong>ä¼šå¯¼å‘404é¡µï¼Œæ‰€ä»¥å°†404é¡µæ”¾åœ¨ç­‰å¾…æ¥å£è¿”å›ç”¨æˆ·ä¿¡æ¯è·å–å®Œæˆï¼ŒåŠ¨æ€æ·»åŠ è·¯ç”±åå†æ·»åŠ ã€‚å°†404é¡µé¢çš„è·¯ç”±æ”¾åœ¨åŠ¨æ€æ·»åŠ è·¯ç”±ä¹‹åï¼Œé‚£ä¹ˆåœ¨åŠ¨æ€æ·»åŠ è·¯ç”±çš„è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·æ­£åœ¨è®¿é—®çš„è·¯ç”±å°±æœ‰å¯èƒ½è¢«æ·»åŠ è¿›æ¥ï¼Œä»è€Œé¿å…è¢«é‡å®šå‘åˆ°404é¡µé¢ã€‚å› ä¸ºä¸€æ—¦ç”¨æˆ·æ­£åœ¨è®¿é—®çš„è·¯ç”±è¢«æ·»åŠ ï¼Œé‚£ä¹ˆå®ƒå°±ä¸å†æ˜¯æœªå®šä¹‰çš„è·¯ç”±ï¼Œå°±ä¸ä¼šè¢«404é¡µé¢çš„è·¯ç”±åŒ¹é…ã€‚</p>
</blockquote>
<h3 id="æŒ‰é’®çº§æƒé™"><a href="#æŒ‰é’®çº§æƒé™" class="headerlink" title="æŒ‰é’®çº§æƒé™"></a>æŒ‰é’®çº§æƒé™</h3><p>Vueçš„è‡ªå®šä¹‰æŒ‡ä»¤é€šè¿‡<code>Vue.directive</code>æ–¹æ³•æ¥åˆ›å»ºï¼š</p>
<ul>
<li><code>bind</code>ï¼šæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥æ‰§è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚</li>
<li><code>inserted</code>ï¼šè¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶å…ƒç´ æ—¶è°ƒç”¨ã€‚æ³¨æ„ï¼Œçˆ¶å…ƒç´ å¯èƒ½è¿˜æœªå­˜åœ¨ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡ŒDOMæ“ä½œã€‚</li>
<li><code>update</code>ï¼šè¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„ç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨ï¼Œä½†æ˜¯å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ç»„ä»¶æ›´æ–°ä¹‹å‰ã€‚å¯ä»¥æ¯”è¾ƒæ›´æ–°å‰åçš„å€¼ï¼Œæ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</li>
<li><code>componentUpdated</code>ï¼šè¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„ç»„ä»¶åŠå…¶å­ç»„ä»¶å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚å¯ä»¥æ‰§è¡Œæ“ä½œï¼Œä¾‹å¦‚æ›´æ–°DOMã€‚</li>
<li><code>unbind</code>ï¼šæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚å¯ä»¥æ‰§è¡Œæ¸…ç†æ“ä½œã€‚</li>
</ul>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">Vue.directive(&#39;my-directive&#39;, &#123;
  bind(el, binding, vnode) &#123;
    &#x2F;&#x2F; åˆå§‹åŒ–è®¾ç½®
  &#125;,
  inserted(el, binding, vnode) &#123;
    &#x2F;&#x2F; å…ƒç´ æ’å…¥çˆ¶å…ƒç´ æ—¶è°ƒç”¨
  &#125;,
  update(el, binding, vnode) &#123;
    &#x2F;&#x2F; ç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨
  &#125;,
  componentUpdated(el, binding, vnode) &#123;
    &#x2F;&#x2F; ç»„ä»¶åŠå­ç»„ä»¶æ›´æ–°åè°ƒç”¨
  &#125;,
  unbind(el, binding, vnode) &#123;
    &#x2F;&#x2F; è§£ç»‘æ—¶è°ƒç”¨
  &#125;
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸€èˆ¬å¸¸è§çš„æ–¹æ¡ˆæœ‰ï¼š</p>
<ul>
<li>å°†æŒ‰é’®å°è£…æˆç»„ä»¶ï¼Œç„¶åé€šè¿‡ props ä¼ é€’å‚æ•°ï¼Œæ¥æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºorå¯æ“ä½œ</li>
<li>å°è£…ä¸€ä¸ªç»„ä»¶ï¼Œé€šè¿‡æ’æ§½å½¢å¼ä¼ é€’æŒ‰é’®ï¼Œå†é€šè¿‡propä¼ å€¼æ§åˆ¶</li>
<li>å†™ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤ï¼Œé€šè¿‡ value æ§åˆ¶å…ƒç´ æ˜¯å¦æ˜¾ç¤º</li>
</ul>
<p>ç›¸æ¯” v-if çš„å¥½å¤„æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å¯ä»¥è½»æ¾åœ°æ‰©å±•æƒé™æ§åˆ¶åŠŸèƒ½ã€‚</li>
<li>æ”¯æŒå¤šä¸ªæƒé™ç ã€æ”¯æŒå¼‚æ­¥è·å–æƒé™ç­‰ã€‚</li>
<li>è¯­ä¹‰åŒ–æ•ˆæœæ›´åŠ æ˜æ˜¾ã€‚</li>
</ol>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&#x2F;&#x2F; å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤
Vue.directive(&quot;permission&quot;, &#123;
  &#x2F;&#x2F; åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM ä¸­æ—¶è§¦å‘
  inserted(el, binding) &#123;
    &#x2F;&#x2F; å¦‚æœç»‘å®šå€¼ä¸º falseï¼Œåˆ™ä»çˆ¶èŠ‚ç‚¹ä¸­ç§»é™¤å…ƒç´ 
    if (!binding.value) &#123;
      el.parentNode.removeChild(el); &#x2F;&#x2F; ç§»é™¤å…ƒç´ 
    &#125;
  &#125;,
  &#x2F;&#x2F; åœ¨å…ƒç´ æ›´æ–°æ—¶è§¦å‘
  update(el, binding) &#123;
    &#x2F;&#x2F; å¦‚æœç»‘å®šå€¼ä¸º true
    if (binding.value) &#123;
      &#x2F;&#x2F; å¦‚æœå…ƒç´ æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼ˆå³ä¹‹å‰è¢«ç§»é™¤äº†ï¼‰
      if (!el.parentNode) &#123;
        &#x2F;&#x2F; å°†å…ƒç´ æ’å…¥åˆ°åŸæ¥çš„ä½ç½®
        el.__v_originalParent.insertBefore(el, el.__v_anchor || null);
      &#125;
    &#125; else &#123;
      &#x2F;&#x2F; å¦‚æœå…ƒç´ æœ‰çˆ¶èŠ‚ç‚¹
      if (el.parentNode) &#123;
        &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªæ³¨é‡ŠèŠ‚ç‚¹ä½œä¸ºæ›¿æ¢å…ƒç´ çš„å ä½ç¬¦
        el.__v_anchor &#x3D; document.createComment(&quot;&quot;);
        el.__v_originalParent &#x3D; el.parentNode;
        &#x2F;&#x2F; ç”¨æ³¨é‡ŠèŠ‚ç‚¹æ›¿æ¢åŸæ¥çš„å…ƒç´ 
        el.parentNode.replaceChild(el.__v_anchor, el); 
      &#125;
    &#125;
  &#125;,
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åŠ å…¥è¯·æ±‚åçš„æ”¹è¿›ä»£ç ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">Vue.directive(&quot;permission&quot;, &#123;
  async inserted(el, binding) &#123;
    el.style.display &#x3D; &quot;none&quot;;
    try &#123;
      const hasPermission &#x3D; await checkPermission(binding.value);
      if (hasPermission) &#123;
        el.style.display &#x3D; &quot;&quot;;
      &#125; else if (el.parentNode) &#123;
        el.parentNode.removeChild(el);
      &#125;
    &#125; catch (error) &#123;
      console.error(&#39;Error checking permission:&#39;, error);
      if (el.parentNode) &#123;
        el.parentNode.removeChild(el);
      &#125;
    &#125;
  &#125;,
  ...
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å›¾ç‰‡æ‡’åŠ è½½"><a href="#å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="å›¾ç‰‡æ‡’åŠ è½½"></a>å›¾ç‰‡æ‡’åŠ è½½</h3><h4 id="ä½¿ç”¨åŸç”ŸJavaScriptå®ç°"><a href="#ä½¿ç”¨åŸç”ŸJavaScriptå®ç°" class="headerlink" title="ä½¿ç”¨åŸç”ŸJavaScriptå®ç°"></a>ä½¿ç”¨åŸç”ŸJavaScriptå®ç°</h4><ol>
<li><strong>HTMLç»“æ„è°ƒæ•´</strong>ï¼šåœ¨<code>&lt;img&gt;</code>æ ‡ç­¾çš„<code>src</code>å±æ€§ä¸­ä¸ç›´æ¥è®¾ç½®å›¾ç‰‡åœ°å€ï¼Œè€Œæ˜¯ä½¿ç”¨è‡ªå®šä¹‰å±æ€§ï¼ˆå¦‚<code>data-src</code>ï¼‰æ¥å­˜å‚¨å›¾ç‰‡åœ°å€ã€‚</li>
</ol>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy-load<span class="token punctuation">"</span></span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>path/to/image.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç¤ºä¾‹å›¾ç‰‡<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol>
<li><strong>ç¼–å†™JavaScriptä»£ç </strong>ï¼šç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œæ£€æŸ¥å›¾ç‰‡æ˜¯å¦è¿›å…¥å¯è§†åŒºåŸŸï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†<code>data-src</code>çš„å€¼èµ‹ç»™<code>src</code>å±æ€§ï¼Œè§¦å‘å›¾ç‰‡åŠ è½½ã€‚</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> lazyImages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"img.lazy-load"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">lazyLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        lazyImages<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>img<span class="token punctuation">.</span>offsetTop <span class="token operator">&lt;</span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">+</span> window<span class="token punctuation">.</span>scrollY<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// offsetTop:è¡¨ç¤ºå…ƒç´ çš„é¡¶éƒ¨è¾¹ç¼˜ç›¸å¯¹äºå…¶offsetParentå…ƒç´ é¡¶éƒ¨çš„è·ç¦»ï¼ˆæœ€è¿‘çš„å…·æœ‰å®šä½çš„ç¥–å…ˆå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸ºbody)</span>
                img<span class="token punctuation">.</span>src <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-src"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                img<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"lazy-load"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">lazyLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> lazyLoad<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ä½¿ç”¨Intersection-Observer-API"><a href="#ä½¿ç”¨Intersection-Observer-API" class="headerlink" title="ä½¿ç”¨Intersection Observer API"></a>ä½¿ç”¨Intersection Observer API</h4><p><code>Intersection Observer API</code>æä¾›äº†ä¸€ç§å¼‚æ­¥ç›‘å¬ç›®æ ‡å…ƒç´ ä¸å…¶ç¥–å…ˆå…ƒç´ æˆ–é¡¶çº§æ–‡æ¡£<code>viewport</code>äº¤å‰çŠ¶æ€çš„æ–¹å¼ã€‚å½“è¢«è§‚å¯Ÿçš„å…ƒç´ è¿›å…¥æˆ–ç¦»å¼€è§†å£æ—¶ï¼Œä¼šè§¦å‘ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"DOMContentLoaded"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> lazyImages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"img.lazy-load"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> imageObserver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">entries<span class="token punctuation">,</span> observer</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        entries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">var</span> image <span class="token operator">=</span> entry<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
                image<span class="token punctuation">.</span>src <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-src"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                image<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"lazy-load"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                imageObserver<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    lazyImages<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        imageObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="é¦–å±åŠ è½½æ—¶é—´"><a href="#é¦–å±åŠ è½½æ—¶é—´" class="headerlink" title="é¦–å±åŠ è½½æ—¶é—´"></a>é¦–å±åŠ è½½æ—¶é—´</h3><h4 id="å¯¹é¦–å±çš„ç†è§£"><a href="#å¯¹é¦–å±çš„ç†è§£" class="headerlink" title="å¯¹é¦–å±çš„ç†è§£"></a>å¯¹é¦–å±çš„ç†è§£</h4><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>é¦–å±æ—¶é—´æ˜¯æŒ‡ä»ç”¨æˆ·æ‰“å¼€ç½‘é¡µåˆ°é¦–å±å†…å®¹å®Œå…¨æ˜¾ç¤ºå‡ºæ¥çš„æ—¶é—´ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ€§èƒ½æŒ‡æ ‡ï¼Œå› ä¸ºå®ƒç›´æ¥å½±å“åˆ°ç”¨æˆ·çš„ä½“éªŒã€‚</p>
<p>é¦–å±æ—¶é—´åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>DNS è§£ææ—¶é—´</strong>ï¼šæµè§ˆå™¨å°†ç½‘ç«™çš„åŸŸåè§£æä¸º IP åœ°å€çš„æ—¶é—´ã€‚</li>
<li><strong>TCP è¿æ¥æ—¶é—´</strong>ï¼šæµè§ˆå™¨ä¸æœåŠ¡å™¨å»ºç«‹ TCP è¿æ¥çš„æ—¶é—´ã€‚</li>
<li><strong>HTTP è¯·æ±‚å’Œå“åº”æ—¶é—´</strong>ï¼šæµè§ˆå™¨å‘é€ HTTP è¯·æ±‚å¹¶æ¥æ”¶åˆ° HTTP å“åº”çš„æ—¶é—´ã€‚</li>
<li><strong>DOM è§£ææ—¶é—´</strong>ï¼šæµè§ˆå™¨è§£æ HTML æ–‡æ¡£ï¼Œæ„å»º DOM æ ‘çš„æ—¶é—´ã€‚</li>
<li><strong>CSSOM æ„å»ºæ—¶é—´</strong>ï¼šæµè§ˆå™¨è§£æ CSS æ–‡ä»¶ï¼Œæ„å»º CSSOM æ ‘çš„æ—¶é—´ã€‚</li>
<li><strong>JavaScript æ‰§è¡Œæ—¶é—´</strong>ï¼šæµè§ˆå™¨æ‰§è¡Œ JavaScript ä»£ç çš„æ—¶é—´ã€‚</li>
<li><strong>æ¸²æŸ“æ—¶é—´</strong>ï¼šæµè§ˆå™¨å°† DOM æ ‘å’Œ CSSOM æ ‘åˆå¹¶ä¸ºæ¸²æŸ“æ ‘ï¼Œè®¡ç®—å¸ƒå±€ï¼Œç»˜åˆ¶é¡µé¢çš„æ—¶é—´ã€‚</li>
</ol>
<p>é¦–å±æ—¶é—´çš„è®¡ç®—æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œä¸åŒçš„æ–¹æ³•å¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé¦–å±æ—¶é—´åº”è¯¥åŒ…æ‹¬ä¸Šè¿°æ‰€æœ‰é˜¶æ®µçš„æ—¶é—´ã€‚</p>
<h4 id="è·å–é¦–å±åŠ è½½æ—¶é—´"><a href="#è·å–é¦–å±åŠ è½½æ—¶é—´" class="headerlink" title="è·å–é¦–å±åŠ è½½æ—¶é—´"></a>è·å–é¦–å±åŠ è½½æ—¶é—´</h4><p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ä½¿ç”¨ <code>performance.timing.loadEventEnd</code> -<code>performance.timing.navigationStart</code> æ¥è·å–é¡µé¢åŠ è½½æ‰€éœ€çš„æ€»æ—¶é—´</p>
<blockquote>
<ul>
<li><code>performance.timing.loadEventEnd</code> è¡¨ç¤ºæµè§ˆå™¨åŠ è½½å®Œé¡µé¢ä¸Šçš„æ‰€æœ‰èµ„æºï¼ˆå¦‚å›¾åƒã€CSSã€JavaScript ç­‰ï¼‰çš„æ—¶é—´ç‚¹ã€‚å®ƒè¡¨ç¤ºæµè§ˆå™¨å®Œæˆäº†é¡µé¢åŠ è½½çš„æ‰€æœ‰å·¥ä½œï¼Œå¹¶ä¸”å¯ä»¥å¼€å§‹å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“å’Œäº¤äº’ã€‚</li>
<li><code>performance.timing.navigationStart</code> è¡¨ç¤ºæµè§ˆå™¨å¼€å§‹åŠ è½½é¡µé¢çš„æ—¶é—´ç‚¹ã€‚å®ƒè¡¨ç¤ºæµè§ˆå™¨æ¥æ”¶åˆ°è¯·æ±‚å¹¶å¼€å§‹åŠ è½½é¡µé¢çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ç‚¹ã€‚</li>
</ul>
</blockquote>
<h4 id="gzipå‹ç¼©"><a href="#gzipå‹ç¼©" class="headerlink" title="gzipå‹ç¼©"></a>gzipå‹ç¼©</h4><h5 id="nginx-å¼€å¯"><a href="#nginx-å¼€å¯" class="headerlink" title="nginx å¼€å¯"></a>nginx å¼€å¯</h5><p>åœ¨éƒ¨ç½²å‰ç«¯é¡µé¢çš„<code>nginx</code>æœåŠ¡ä¸­ï¼Œä¿®æ”¹<code>server</code>é¡¹é…ç½®ï¼Œä»¥å¼€å¯gzipå‹ç¼©</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">server <span class="token punctuation">&#123;</span>
    listen       <span class="token number">8080</span><span class="token punctuation">;</span>
    server_name  <span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token punctuation">;</span>
 
    # å¼€å¯gzip
    gzip on<span class="token punctuation">;</span>
    # è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚
	gzip_types text<span class="token operator">/</span>plain text<span class="token operator">/</span>css application<span class="token operator">/</span>javascript application<span class="token operator">/</span>json<span class="token punctuation">;</span>
	# æ˜¯å¦åœ¨http headerä¸­æ·»åŠ Vary<span class="token operator">:</span> Accept<span class="token operator">-</span>Encodingï¼Œå»ºè®®å¼€å¯
	gzip_vary on<span class="token punctuation">;</span>
	# å…è®¸ä½¿ç”¨é¢„å‹ç¼©çš„ <span class="token punctuation">.</span>gz æ–‡ä»¶
	gzip_static on<span class="token punctuation">;</span>
	# è®¾ç½® Gzip å‹ç¼©çº§åˆ«
	gzip_comp_level <span class="token number">5</span><span class="token punctuation">;</span>
	# è®¾ç½®å“åº”æ•°æ®çš„æœ€å°é•¿åº¦ä»¥å¯ç”¨ Gzip å‹ç¼©
	gzip_min_length <span class="token number">256</span><span class="token punctuation">;</span>
	# æŒ‡å®šå¯ç”¨å‹ç¼©çš„ä»£ç†åˆ—è¡¨
	gzip_proxied any<span class="token punctuation">;</span>
	# ç¦ç”¨ Gzip å‹ç¼©çš„æµè§ˆå™¨ User<span class="token operator">-</span>Agent åˆ—è¡¨
	gzip_disable <span class="token string">"msie6"</span><span class="token punctuation">;</span>
	# é…ç½®å†…å­˜ç¼“å†²åŒºçš„æ•°é‡å’Œå¤§å°
	gzip_buffers <span class="token number">16</span> 8k<span class="token punctuation">;</span>
    
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="vue2-vue-cli-é¡¹ç›®ä¸­é…ç½®"><a href="#vue2-vue-cli-é¡¹ç›®ä¸­é…ç½®" class="headerlink" title="vue2 + vue-cli é¡¹ç›®ä¸­é…ç½®"></a>vue2 + vue-cli é¡¹ç›®ä¸­é…ç½®</h5><h5 id="vue3-vite-é¡¹ç›®ä¸­é…ç½®"><a href="#vue3-vite-é¡¹ç›®ä¸­é…ç½®" class="headerlink" title="vue3 + vite é¡¹ç›®ä¸­é…ç½®"></a>vue3 + vite é¡¹ç›®ä¸­é…ç½®</h5><p>å®‰è£… <strong>vite </strong>å‹ç¼©æ’ä»¶ <strong>vite-plugin-compression</strong></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i vite-plugin-compression --save-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨ <code>vite.config.js</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> compression <span class="token keyword">from</span> <span class="token string">'vite-plugin-compression'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">compression</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">'gzip'</span><span class="token punctuation">,</span> <span class="token comment">// å‹ç¼©ç®—æ³•ï¼Œå¯é€‰['gzip'ï¼Œ'brotliCompress'ï¼Œ'deflate'ï¼Œ'deflateRaw']</span>
      <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span> <span class="token comment">// å¦‚æœä½“ç§¯å¤§äº10kbé˜ˆå€¼ï¼Œåˆ™è¿›è¡Œå‹ç¼©ï¼Œå‚æ•°å•ä½ä¸ºb</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é…ç½®å¥½ä¹‹åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼Œ<strong>F12</strong>æŸ¥çœ‹æ§åˆ¶å°ï¼Œå¦‚æœè¯¥æ–‡ä»¶èµ„æºçš„å“åº”å¤´é‡Œæ˜¾ç¤ºæœ‰<code>Content-Encoding: gzip</code> æ ‡è¯†ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ”¯æŒå¹¶ä¸”å¯ç”¨äº†<strong>gzip</strong>å‹ç¼©çš„èµ„æº</p>
<h4 id="cdn"><a href="#cdn" class="headerlink" title="cdn"></a>cdn</h4><blockquote>
<p>CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰æ˜¯ä¸€ç§ç”¨äºåŠ é€Ÿç½‘ç»œå†…å®¹ä¼ è¾“çš„æŠ€æœ¯å’Œæ¶æ„ã€‚å®ƒé€šè¿‡å°†å†…å®¹åˆ†å¸ƒåˆ°å…¨çƒå„åœ°çš„æœåŠ¡å™¨èŠ‚ç‚¹ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥ä»ç¦»ä»–ä»¬æ›´è¿‘çš„æœåŠ¡å™¨ä¸Šè·å–æ‰€éœ€çš„å†…å®¹ï¼Œä»è€Œå‡å°‘äº†ç½‘ç»œå»¶è¿Ÿå’Œæé«˜äº†å†…å®¹çš„ä¼ è¾“é€Ÿåº¦ã€‚</p>
<p>CDN çš„ä½¿ç”¨ä¸€èˆ¬æ˜¯é€šè¿‡å°†é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€æ ·å¼è¡¨ã€è„šæœ¬ç­‰ï¼‰éƒ¨ç½²åˆ° CDN æä¾›å•†çš„æœåŠ¡å™¨ä¸Šï¼Œå¹¶åœ¨ç½‘é¡µä¸­å¼•ç”¨ CDN ä¸Šçš„èµ„æºé“¾æ¥ã€‚</p>
<p>ä½¿ç”¨ CDN å¯ä»¥åŠ é€Ÿç½‘ç«™çš„åŠ è½½é€Ÿåº¦ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œå¹¶å‡è½»æœåŠ¡å™¨çš„è´Ÿè½½å‹åŠ›ã€‚</p>
</blockquote>
<h4 id="å¼‚æ­¥åŠ è½½æ–¹æ¡ˆ"><a href="#å¼‚æ­¥åŠ è½½æ–¹æ¡ˆ" class="headerlink" title="å¼‚æ­¥åŠ è½½æ–¹æ¡ˆ"></a>å¼‚æ­¥åŠ è½½æ–¹æ¡ˆ</h4><h5 id="è·¯ç”±æ‡’åŠ è½½-1"><a href="#è·¯ç”±æ‡’åŠ è½½-1" class="headerlink" title="è·¯ç”±æ‡’åŠ è½½"></a>è·¯ç”±æ‡’åŠ è½½</h5><h5 id="æŒ‰éœ€å¼‚æ­¥åŠ è½½ç»„ä»¶"><a href="#æŒ‰éœ€å¼‚æ­¥åŠ è½½ç»„ä»¶" class="headerlink" title="æŒ‰éœ€å¼‚æ­¥åŠ è½½ç»„ä»¶"></a>æŒ‰éœ€å¼‚æ­¥åŠ è½½ç»„ä»¶</h5><p>å…¨å±€æ³¨å†Œä½¿ç”¨ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">Vue.component(&#39;async-example&#39;, function (resolve, reject) &#123;
  setTimeout(function () &#123;
    &#x2F;&#x2F; å‘ &#96;resolve&#96; å›è°ƒä¼ é€’ç»„ä»¶å®šä¹‰
    resolve(&#123;
      template: &#39;&lt;div&gt;I am async!&lt;&#x2F;div&gt;&#39;
    &#125;)
  &#125;, 1000)
&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å±€éƒ¨æ³¨å†Œä½¿ç”¨ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">components: &#123;
    &#39;my-component&#39;: () &#x3D;&gt; import(&#39;.&#x2F;my-async-component&#39;)
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h5 id="ä¾èµ–æŒ‰éœ€å¼•å…¥"><a href="#ä¾èµ–æŒ‰éœ€å¼•å…¥" class="headerlink" title="ä¾èµ–æŒ‰éœ€å¼•å…¥"></a>ä¾èµ–æŒ‰éœ€å¼•å…¥</h5><h3 id="å›¾ç‰‡å‹ç¼©"><a href="#å›¾ç‰‡å‹ç¼©" class="headerlink" title="å›¾ç‰‡å‹ç¼©"></a>å›¾ç‰‡å‹ç¼©</h3><p>åœ¨å‰ç«¯å®ç°å›¾ç‰‡å‹ç¼©ï¼Œå¯ä»¥ä½¿ç”¨ HTML5 çš„ File API å’Œ Canvas APIã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ­¥éª¤ï¼š</p>
<ol>
<li>ä½¿ç”¨ File API è¯»å–ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶ã€‚</li>
<li>ä½¿ç”¨ Image å¯¹è±¡åŠ è½½å›¾ç‰‡ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ª Canvas å¯¹è±¡ï¼Œè®¾ç½®å…¶å¤§å°ä¸ºç›®æ ‡å‹ç¼©å¤§å°ã€‚</li>
<li>ä½¿ç”¨ Canvas çš„ drawImage æ–¹æ³•å°†å›¾ç‰‡ç»˜åˆ¶åˆ° Canvas ä¸Šã€‚</li>
<li>ä½¿ç”¨ Canvas çš„ toDataURL æ–¹æ³•å°† Canvas è½¬æ¢ä¸º data URLï¼Œè¿™ä¸ª data URL å°±æ˜¯å‹ç¼©åçš„å›¾ç‰‡ã€‚</li>
</ol>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å®ç°ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function compressImage(file, maxWidth, maxHeight, quality &#x3D; 0.8) &#123;
  return new Promise((resolve, reject) &#x3D;&gt; &#123;
    const img &#x3D; new Image();
    img.src &#x3D; URL.createObjectURL(file);
    img.onload &#x3D; () &#x3D;&gt; &#123;
      const canvas &#x3D; document.createElement(&#39;canvas&#39;);
      const ctx &#x3D; canvas.getContext(&#39;2d&#39;);

      let width &#x3D; img.width;
      let height &#x3D; img.height;

      &#x2F;&#x2F; å¦‚æœå›¾ç‰‡å¤§äºç›®æ ‡å°ºå¯¸ï¼Œè¿›è¡Œç­‰æ¯”ä¾‹ç¼©æ”¾
      if (width &gt; height) &#123;
        if (width &gt; maxWidth) &#123;
          height *&#x3D; maxWidth &#x2F; width;
          width &#x3D; maxWidth;
        &#125;
      &#125; else &#123;
        if (height &gt; maxHeight) &#123;
          width *&#x3D; maxHeight &#x2F; height;
          height &#x3D; maxHeight;
        &#125;
      &#125;

      canvas.width &#x3D; width;
      canvas.height &#x3D; height;
      ctx.drawImage(img, 0, 0, width, height);

      &#x2F;&#x2F; å°† canvas è½¬æ¢ä¸º data URL
      const dataUrl &#x3D; canvas.toDataURL(&#39;image&#x2F;jpeg&#39;, quality);
      resolve(dataUrl);
    &#125;;
    img.onerror &#x3D; reject;
  &#125;);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç™½å±æ£€æµ‹æ–¹æ¡ˆ"><a href="#ç™½å±æ£€æµ‹æ–¹æ¡ˆ" class="headerlink" title="ç™½å±æ£€æµ‹æ–¹æ¡ˆ"></a>ç™½å±æ£€æµ‹æ–¹æ¡ˆ</h3><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fxy-sea%2Fweb-see">web-see</a> å‰ç«¯ç›‘æ§æ–¹æ¡ˆï¼Œæä¾›äº† <strong>é‡‡æ ·å¯¹æ¯”+ç™½å±ä¿®æ­£æœºåˆ¶</strong> çš„æ£€æµ‹æ–¹æ¡ˆï¼Œå…¼å®¹æœ‰éª¨æ¶å±ã€æ— éª¨æ¶å±è¿™ä¸¤ç§æƒ…å†µï¼Œæ¥è§£å†³å¼€å‘è€…çš„ç™½å±ä¹‹å¿§</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">import webSee from &#39;web-see&#39;;

Vue.use(webSee, &#123;
  dsn: &#39;http:&#x2F;&#x2F;localhost:8083&#x2F;reportData&#39;, &#x2F;&#x2F; ä¸ŠæŠ¥çš„åœ°å€
  apikey: &#39;project1&#39;, &#x2F;&#x2F; é¡¹ç›®å”¯ä¸€çš„id
  userId: &#39;89757&#39;, &#x2F;&#x2F; ç”¨æˆ·id
  silentWhiteScreen: true, &#x2F;&#x2F; å¼€å¯ç™½å±æ£€æµ‹
  skeletonProject: true, &#x2F;&#x2F; é¡¹ç›®æ˜¯å¦æœ‰éª¨æ¶å±
  whiteBoxElements: [&#39;html&#39;, &#39;body&#39;, &#39;#app&#39;, &#39;#root&#39;] &#x2F;&#x2F; ç™½å±æ£€æµ‹çš„å®¹å™¨åˆ—è¡¨
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç™½å±æ£€æµ‹æ–¹æ¡ˆçš„å®ç°æµç¨‹"><a href="#ç™½å±æ£€æµ‹æ–¹æ¡ˆçš„å®ç°æµç¨‹" class="headerlink" title="ç™½å±æ£€æµ‹æ–¹æ¡ˆçš„å®ç°æµç¨‹"></a>ç™½å±æ£€æµ‹æ–¹æ¡ˆçš„å®ç°æµç¨‹</h3><p>è¯¦è§ï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/7176206226903007292?searchId=20240408104421B1C5AEC4BE8517554634#heading-2">å‰ç«¯ç™½å±çš„æ£€æµ‹æ–¹æ¡ˆï¼Œè®©ä½ çŸ¥é“è‡ªå·±çš„é¡µé¢ç™½äº† - æ˜é‡‘ (juejin.cn)</a></p>
<h3 id="æŠ€æœ¯æ–¹æ¡ˆè°ƒç ”"><a href="#æŠ€æœ¯æ–¹æ¡ˆè°ƒç ”" class="headerlink" title="æŠ€æœ¯æ–¹æ¡ˆè°ƒç ”"></a>æŠ€æœ¯æ–¹æ¡ˆè°ƒç ”</h3><ul>
<li><p>æ£€æµ‹æ ¹èŠ‚ç‚¹æ˜¯å¦æ¸²æŸ“</p>
</li>
<li><p>Mutation Observerç›‘å¬DOMå˜åŒ–</p>
</li>
<li><p>é¡µé¢æˆªå›¾æ£€æµ‹</p>
</li>
<li><p>é‡‡æ ·å¯¹æ¯”</p>
<p>è¯¥æ–¹æ³•æ˜¯å¯¹é¡µé¢å–å…³é”®ç‚¹ï¼Œè¿›è¡Œé‡‡æ ·å¯¹æ¯”ï¼Œåœ¨å‡†ç¡®æ€§ã€æ˜“ç”¨æ€§ç­‰æ–¹é¢å‡è¡¨ç°è‰¯å¥½ï¼Œä¹Ÿæ˜¯æœ€ç»ˆé‡‡ç”¨çš„æ–¹æ¡ˆ</p>
<p>å¯¹äºæœ‰éª¨æ¶å±çš„é¡¹ç›®ï¼Œé€šè¿‡å¯¹æ¯”å‰åè·å–çš„ dom å…ƒç´ æ˜¯å¦ä¸€è‡´ï¼Œæ¥åˆ¤æ–­é¡µé¢æ˜¯å¦å˜åŒ–ï¼ˆè¿™å—åé¢ä¸“é—¨è®²è§£ï¼‰</p>
<p>é‡‡æ ·å¯¹æ¯”ä»£ç ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&#x2F;&#x2F; ç›‘å¬é¡µé¢ç™½å±
function whiteScreen() &#123;
  &#x2F;&#x2F; é¡µé¢åŠ è½½å®Œæ¯•
  function onload(callback) &#123;
    if (document.readyState &#x3D;&#x3D;&#x3D; &#39;complete&#39;) &#123;
      callback();
    &#125; else &#123;
      window.addEventListener(&#39;load&#39;, callback);
    &#125;
  &#125;
  &#x2F;&#x2F; å®šä¹‰å¤–å±‚å®¹å™¨å…ƒç´ çš„é›†åˆ
  let containerElements &#x3D; [&#39;html&#39;, &#39;body&#39;, &#39;#app&#39;, &#39;#root&#39;];
  &#x2F;&#x2F; å®¹å™¨å…ƒç´ ä¸ªæ•°
  let emptyPoints &#x3D; 0;
  &#x2F;&#x2F; é€‰ä¸­domçš„åç§°
  function getSelector(element) &#123;
    if (element.id) &#123;
      return &quot;#&quot; + element.id;
    &#125; else if (element.className) &#123;&#x2F;&#x2F; div home &#x3D;&gt; div.home
      return &quot;.&quot; + element.className.split(&#39; &#39;).filter(item &#x3D;&gt; !!item).join(&#39;.&#39;);
    &#125; else &#123;
      return element.nodeName.toLowerCase();
    &#125;
  &#125;
  &#x2F;&#x2F; æ˜¯å¦ä¸ºå®¹å™¨èŠ‚ç‚¹
  function isContainer(element) &#123;
    let selector &#x3D; getSelector(element);
    if (containerElements.indexOf(selector) !&#x3D; -1) &#123;
      emptyPoints++;
    &#125;
  &#125;
  onload(() &#x3D;&gt; &#123;
    &#x2F;&#x2F; é¡µé¢åŠ è½½å®Œæ¯•åˆå§‹åŒ–
    for (let i &#x3D; 1; i &lt;&#x3D; 9; i++) &#123;
      let xElements &#x3D; document.elementsFromPoint(window.innerWidth * i &#x2F; 10, window.innerHeight &#x2F; 2);
      let yElements &#x3D; document.elementsFromPoint(window.innerWidth &#x2F; 2, window.innerHeight * i &#x2F; 10);
      isContainer(xElements[0]);
      &#x2F;&#x2F; ä¸­å¿ƒç‚¹åªè®¡ç®—ä¸€æ¬¡
      if (i !&#x3D; 5) &#123;
        isContainer(yElements[0]);
      &#125;
    &#125;
    &#x2F;&#x2F; 17ä¸ªç‚¹éƒ½æ˜¯å®¹å™¨èŠ‚ç‚¹ç®—ä½œç™½å±
    if (emptyPoints &#x3D;&#x3D; 17) &#123;
      &#x2F;&#x2F; è·å–ç™½å±ä¿¡æ¯
      console.log(&#123;
        status: &#39;error&#39;
      &#125;);
    &#125;
  &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="ç™½å±ä¿®æ­£æœºåˆ¶"><a href="#ç™½å±ä¿®æ­£æœºåˆ¶" class="headerlink" title="ç™½å±ä¿®æ­£æœºåˆ¶"></a>ç™½å±ä¿®æ­£æœºåˆ¶</h3><p>è‹¥é¦–æ¬¡æ£€æµ‹é¡µé¢ä¸ºç™½å±åï¼Œä»»åŠ¡è¿˜æ²¡æœ‰å®Œæˆï¼Œç‰¹åˆ«æ˜¯æ‰‹æœºç«¯çš„é¡¹ç›®ï¼Œæœ‰å¯èƒ½æ˜¯ç”¨æˆ·ç½‘ç»œç¯å¢ƒä¸å¥½ï¼Œå…³é”®çš„JSèµ„æºæˆ–æ¥å£è¯·æ±‚è¿˜æ²¡æœ‰è¿”å›ï¼Œå¯¼è‡´çš„é¡µé¢ç™½å±</p>
<p>éœ€è¦ä½¿ç”¨è½®è¯¢æ£€æµ‹ï¼Œæ¥ç¡®ä¿ç™½å±æ£€æµ‹ç»“æœçš„æ­£ç¡®æ€§ï¼Œç›´åˆ°é¡µé¢çš„æ­£å¸¸æ¸²æŸ“ï¼Œè¿™å°±æ˜¯<strong>ç™½å±ä¿®æ­£æœºåˆ¶</strong></p>
<p>è½®è¯¢ä»£ç ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// é‡‡æ ·å¯¹æ¯”</span>
<span class="token keyword">function</span> <span class="token function">sampling</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> emptyPoints <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  â€¦â€¦
  <span class="token comment">// é¡µé¢æ­£å¸¸æ¸²æŸ“ï¼Œåœæ­¢è½®è¯¢</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>emptyPoints <span class="token operator">!=</span> <span class="token number">17</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>whiteLoopTimer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>whiteLoopTimer<span class="token punctuation">)</span>
      window<span class="token punctuation">.</span>whiteLoopTimer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å¼€å¯è½®è¯¢</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>whiteLoopTimer<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token function">whiteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// é€šè¿‡è½®è¯¢ä¸æ–­ä¿®æ”¹ä¹‹å‰çš„æ£€æµ‹ç»“æœï¼Œç›´åˆ°é¡µé¢æ­£å¸¸æ¸²æŸ“</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">status</span><span class="token operator">:</span> emptyPoints <span class="token operator">==</span> <span class="token number">17</span> <span class="token operator">?</span> <span class="token string">'error'</span> <span class="token operator">:</span> <span class="token string">'ok'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// ç™½å±è½®è¯¢</span>
<span class="token keyword">function</span> <span class="token function">whiteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  window<span class="token punctuation">.</span>whiteLoopTimer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">sampling</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Vueæ€§èƒ½ä¼˜åŒ–ä¹‹è™šæ‹Ÿåˆ—è¡¨"><a href="#Vueæ€§èƒ½ä¼˜åŒ–ä¹‹è™šæ‹Ÿåˆ—è¡¨" class="headerlink" title="Vueæ€§èƒ½ä¼˜åŒ–ä¹‹è™šæ‹Ÿåˆ—è¡¨"></a>Vueæ€§èƒ½ä¼˜åŒ–ä¹‹è™šæ‹Ÿåˆ—è¡¨</h3><h4 id="éœ€è¦è§£å†³é‚£äº›é—®é¢˜ï¼Ÿ"><a href="#éœ€è¦è§£å†³é‚£äº›é—®é¢˜ï¼Ÿ" class="headerlink" title="éœ€è¦è§£å†³é‚£äº›é—®é¢˜ï¼Ÿ"></a>éœ€è¦è§£å†³é‚£äº›é—®é¢˜ï¼Ÿ</h4><ul>
<li>å®¹å™¨çš„é«˜åº¦(åˆ—è¡¨çš„é«˜åº¦)</li>
<li>åˆ—è¡¨é¡¹çš„é«˜åº¦</li>
<li>å¯è§†åŒºåŸŸå±•ç¤ºå¤šå°‘æ¡æ•°æ®</li>
<li>å¯è§†åŒºåŸŸå±•ç¤ºå“ªéƒ¨åˆ†æ•°æ®</li>
<li>è®©å¯è§†åŒºåŸŸå¯ä»¥ä¸€ç›´æ»šåŠ¨</li>
</ul>
<h4 id="é€ä¸ªåˆ†æä¸Šé¢çš„é—®é¢˜"><a href="#é€ä¸ªåˆ†æä¸Šé¢çš„é—®é¢˜" class="headerlink" title="é€ä¸ªåˆ†æä¸Šé¢çš„é—®é¢˜"></a>é€ä¸ªåˆ†æä¸Šé¢çš„é—®é¢˜</h4><ul>
<li><p>å®¹å™¨çš„é«˜åº¦(åˆ—è¡¨çš„é«˜åº¦)ï¼šè¿™ä¸ªå¯ä»¥è‡ªå·±è®¾ç½®ä¸€ä¸ªé«˜åº¦</p>
</li>
<li><p>åˆ—è¡¨é¡¹çš„é«˜åº¦,ä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®ä¸€ä¸ªé«˜åº¦</p>
</li>
<li><p>å¯è§†åŒºåŸŸå±•ç¤ºå¤šå°‘æ¡æ•°æ®ï¼šå¯ä»¥é€šè¿‡è®¡ç®—å¾—åˆ°ï¼Œå…¬å¼ä¸ºï¼š<code>å®¹å™¨çš„é«˜åº¦/åˆ—è¡¨é¡¹çš„é«˜åº¦</code></p>
</li>
<li><p>å¯è§†åŒºåŸŸå±•ç¤ºå“ªéƒ¨åˆ†æ•°æ®ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®<code>å¼€å§‹ä¸‹æ ‡</code>å’Œ<code>ç»“æŸä¸‹æ ‡</code>ï¼Œæ¥æˆªå–æ•°æ®</p>
<p>å‡è®¾åˆå§‹æ—¶ï¼Œ<code>å¼€å§‹ä¸‹æ ‡</code>æ˜¯0ï¼Œé‚£<code>ç»“æŸä¸‹æ ‡</code>å°±æ˜¯ <code>å¼€å§‹ä¸‹æ ‡+å¯è§†åŒºåŸŸçš„æ¡æ•°</code>ï¼Œ<code>ç»“æŸä¸‹æ ‡</code>æ˜¯éš<code>å¼€å§‹ä¸‹æ ‡</code>å’Œ<code>å¯è§†åŒºåŸŸçš„æ¡æ•°</code>å˜åŒ–è€Œå˜åŒ–çš„ï¼›ç„¶åéšç€æ»šåŠ¨ï¼Œ<code>å¼€å§‹ä¸‹æ ‡</code>è¦å‘ç”Ÿå˜åŒ–ï¼Œåªè¦æ›´æ–°<code>å¼€å§‹ä¸‹æ ‡</code>,<code>ç»“æŸä¸‹æ ‡</code>å°±èƒ½è®¡ç®—å‡ºæ¥ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆå»æ›´æ–°<code>å¼€å§‹ä¸‹æ ‡</code>å‘¢ï¼Ÿ<code>å¼€å§‹ä¸‹æ ‡</code>æ€ä¹ˆè®¡ç®—ï¼Ÿ</p>
<p>å¦‚æœæˆ‘ä»¬çŸ¥é“è¢«æ»šåŠ¨æ¡å·è¿›å»äº†å¤šå°‘ä¸ª<code>åˆ—è¡¨é¡¹</code>ï¼Œé‚£å°±èƒ½çŸ¥é“ç°åœ¨çš„<code>å¼€å§‹ä¸‹æ ‡</code>æ˜¯å¤šå°‘äº†ï¼›æˆ‘ä»¬çŸ¥é“ï¼Œåˆ—è¡¨é¡¹çš„é«˜åº¦ï¼Œå¦‚æœèƒ½å†çŸ¥é“<code>æ»šåŠ¨æ¡å·è¿›å»äº†å¤šå°‘é«˜åº¦</code>ï¼Œç”¨<code>å·è¿›å»çš„é«˜åº¦/åˆ—è¡¨é¡¹é«˜åº¦</code>å°±å¯ä»¥å¾—åˆ°å·è¿›å»å¤šå°‘ä¸ªäº†ï¼›<code>scrollTop</code>å±æ€§åˆšå¥½å¯ä»¥å¾—åˆ°æ»šåŠ¨æ¡å·å…¥çš„é«˜åº¦</p>
</li>
<li><p>è®©å¯è§†åŒºåŸŸå¯ä»¥ä¸€ç›´æ»šåŠ¨ï¼šæˆ‘ä»¬æ˜¯é€šè¿‡æ»šåŠ¨å»æ”¹å˜å¯è§†åŒºåŸŸçš„æ•°æ®ï¼Œè€Œä¸æ˜¯å¢åŠ æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æƒ³åŠæ³•è®©å¯è§†åŒºåŸŸå¯ä»¥æ»šåŠ¨ï¼Œç›´åˆ°æ²¡æœ‰æ•°æ®äº†æ‰åœæ­¢æ»šåŠ¨ï¼›å¯ä»¥<code>padding</code>è¿›è¡Œå ä½ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰1000æ¡æ•°æ®ï¼Œæ¯æ¡æ•°æ®å 40pxé«˜åº¦ï¼Œå¯è§†åŒºåŸŸæ˜¾ç¤º20æ¡æ•°æ®ï¼Œé‚£æˆ‘ä»¬åˆå§‹çš„æ—¶å€™ï¼Œ<code>padding-top</code>ä¸º0ï¼Œ<code>padding-bottom</code>ä¸º(1000-20)*40;éšç€æ»šåŠ¨ï¼Œä¸Šä¸‹<code>padding</code>ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œå½“<code>padding-top</code>ä¸º0ä»£è¡¨åœ¨æ»šåŠ¨åˆ°é¡¶éƒ¨äº†ï¼Œ<code>padding-bottom</code>ä¸º0ä»£è¡¨æ»šåŠ¨åˆ°åº•éƒ¨äº†ã€‚<code>pading-top</code>éšç€å¼€å§‹ä¸‹æ ‡å˜å¤§è€Œå˜å¤§ï¼ˆå¼€å§‹ä¸‹æ ‡ä¹˜ä»¥40ï¼‰,å¼€å§‹ä¸‹æ ‡ä¸º0ï¼Œåˆ™<code>padding-top</code>ä¸º0ï¼›<code>padding-bottom</code>éšç€ç»“æŸä¸‹æ ‡å˜å¤§è€Œå‡å°((æ•°æ®æ€»æ¡æ•°-ç»“æŸä¸‹æ ‡)ä¹˜ä»¥40),æ•°æ®æ€»æ¡æ•°ç­‰äºç»“æŸä¸‹æ ‡ï¼Œåˆ™<code>padding-bottom</code>ä¸º0ï¼›ä¹Ÿå°±æ˜¯è®©å¯è§†åŒºåŸŸéšç€æ»šåŠ¨æ¡ä¸€èµ·ç§»åŠ¨</p>
</li>
</ul>
<h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;
import &#123; computed, onMounted, reactive, ref &#125; from &#39;vue&#39;;

const containHeight &#x3D; ref&lt;number&gt;(800)  &#x2F;&#x2F; å®¹å™¨é«˜åº¦
const listContainerRef &#x3D; ref&lt;HTMLElement&gt;() &#x2F;&#x2F; å®¹å™¨å¼•ç”¨
const listRef &#x3D; ref&lt;HTMLElement&gt;() &#x2F;&#x2F; åˆ—è¡¨å¼•ç”¨

const itemHeight &#x3D; ref&lt;number&gt;(40) &#x2F;&#x2F; åˆ—è¡¨é¡¹é«˜åº¦

const dataList &#x3D; reactive&lt;Array&lt;string&gt;&gt;([]) &#x2F;&#x2F; æ‰€æœ‰æ•°æ®
let startIndex &#x3D; ref&lt;number&gt;(0) &#x2F;&#x2F; å¼€å§‹ä¸‹æ ‡

const containHeightpx &#x3D; computed&lt;string&gt;(() &#x3D;&gt; &#123; &#x2F;&#x2F;å®¹å™¨é«˜åº¦,ç”¨äºæ ·å¼
  return containHeight.value + &#39;px&#39;
&#125;)

const itemHeightpx &#x3D; computed&lt;string&gt;(() &#x3D;&gt; &#123; &#x2F;&#x2F;åˆ—è¡¨é¡¹é«˜åº¦,ç”¨äºæ ·å¼
  return itemHeight.value + &#39;px&#39;
&#125;)

&#x2F;&#x2F; å¯è§†åŒºåŸŸæ•°é‡
const showNum &#x3D; computed(() &#x3D;&gt; &#123;
  return ~~(containHeight.value &#x2F; itemHeight.value)  &#x2F;&#x2F; ~~è½¬æ¢æˆæ•°å­—ç±»å‹ï¼Œæœ‰å‘ä¸‹å–æ•´çš„å¦™ç”¨
&#125;)

&#x2F;&#x2F; ç»“æŸä¸‹æ ‡ &#x3D; å¼€å§‹ä¸‹æ ‡ + å¯è§†åŒºåŸŸæ•°é‡
const endIndex &#x3D; computed(() &#x3D;&gt; &#123;
  return startIndex.value + showNum.value
&#125;)

&#x2F;&#x2F; å±•ç¤ºçš„åˆ—è¡¨
const showList &#x3D; computed(() &#x3D;&gt; &#123;
  return dataList.slice(startIndex.value, endIndex.value)
&#125;)

&#x2F;&#x2F; åˆ—è¡¨çš„padding
const listStyle &#x3D; computed(() &#x3D;&gt; &#123;
  return &#123;
    paddingTop: startIndex.value * itemHeight.value + &#39;px&#39;,
    paddingBottom: (dataList.length - endIndex.value) * itemHeight.value + &#39;px&#39;
  &#125;
&#125;)

&#x2F;&#x2F; åˆå§‹åŒ–åŠ è½½æ•°æ®
onMounted(() &#x3D;&gt; &#123;
  for (let index &#x3D; 1; index &lt;&#x3D; 1000; index++) &#123;
    dataList.push(&#96;åˆ—è¡¨é¡¹---$&#123;index&#125;&#96;)
  &#125;
&#125;)

&#x2F;&#x2F; ç›‘å¬æ»šåŠ¨æ¡çš„å˜åŒ–
const listContainerScroll &#x3D; () &#x3D;&gt; &#123;
  console.log(startIndex.value, endIndex.value);

  &#x2F;&#x2F; è·å–æ»šåŠ¨æ¡å·å…¥çš„é«˜åº¦
  let scrollTop &#x3D; listContainerRef.value!.scrollTop

  &#x2F;&#x2F; æ›´æ–°å¼€å§‹ä¸‹æ ‡
  startIndex.value &#x3D; Math.floor(scrollTop &#x2F; itemHeight.value);

  &#x2F;&#x2F; å‰©ä¸‹çš„ä¼šé€šè¿‡è®¡ç®—å±æ€§è‡ªåŠ¨å˜åŒ–

&#125;

&lt;&#x2F;script&gt;

&lt;template&gt;
  &lt;div ref&#x3D;&quot;listContainerRef&quot; class&#x3D;&quot;listContainerClass&quot; @scroll&#x3D;&quot;listContainerScroll&quot;&gt;
    &lt;div ref&#x3D;&quot;listRef&quot; :style&#x3D;&quot;listStyle&quot;&gt;
      &lt;div v-for&#x3D;&quot;(item, index) in showList&quot; :key&#x3D;&quot;index&quot; class&#x3D;&quot;itemClass&quot;&gt;
        &#123;&#123; item &#125;&#125;
      &lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
    &lt;div&gt;æ²¡æœ‰æ›´å¤šäº†....&lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;
.listContainerClass &#123;
  height: v-bind(containHeightpx);
  overflow: auto;
  border: 1px solid black;

  .itemClass &#123;
    height: v-bind(itemHeightpx);
  &#125;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å°è£…ä¼˜åŒ–ä¸€ä¸‹"><a href="#å°è£…ä¼˜åŒ–ä¸€ä¸‹" class="headerlink" title="å°è£…ä¼˜åŒ–ä¸€ä¸‹"></a>å°è£…ä¼˜åŒ–ä¸€ä¸‹</h4><ul>
<li>æŠŠå®ƒå˜æˆä¸€ä¸ªå…¬ç”¨ç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡ä¼ å€¼çš„æ–¹å¼ä½¿ç”¨</li>
<li>ç»™æ»šåŠ¨äº‹ä»¶åŠ ä¸Šé˜²æŠ–åŠŸèƒ½(åŠ äº†é˜²æŠ–ï¼Œæ‰€ä»¥æ¸²æŸ“çš„æ•°é‡å¢å¤§ç‚¹ï¼Œé˜²æ­¢å‡ºç°ç©ºç™½)</li>
</ul>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;


import &#123; debounce &#125; from &#39;lodash&#39;;
import &#123; computed, PropType, ref &#125; from &#39;vue&#39;;

const props &#x3D; defineProps(&#123;
  &#x2F;&#x2F; å®¹å™¨é«˜åº¦
  containHeight: &#123;
    type: Number,
    default: 800
  &#125;,
  &#x2F;&#x2F; åˆ—è¡¨é¡¹é«˜åº¦
  itemHeight: &#123;
    type: Number,
    default: 40
  &#125;,

  dataList: &#123;
    type: Object as PropType&lt;any&gt;,
    default: () &#x3D;&gt; []
  &#125;

&#125;)


const listContainerRef &#x3D; ref&lt;HTMLElement&gt;() &#x2F;&#x2F; å®¹å™¨å¼•ç”¨
const listRef &#x3D; ref&lt;HTMLElement&gt;() &#x2F;&#x2F; åˆ—è¡¨å¼•ç”¨

let startIndex &#x3D; ref&lt;number&gt;(0) &#x2F;&#x2F; å¼€å§‹ä¸‹æ ‡

const containHeightpx &#x3D; computed&lt;string&gt;(() &#x3D;&gt; &#123; &#x2F;&#x2F;å®¹å™¨é«˜åº¦,ç”¨äºæ ·å¼
  return props.containHeight + &#39;px&#39;
&#125;)

const itemHeightpx &#x3D; computed&lt;string&gt;(() &#x3D;&gt; &#123; &#x2F;&#x2F;åˆ—è¡¨é¡¹é«˜åº¦,ç”¨äºæ ·å¼
  return props.itemHeight + &#39;px&#39;
&#125;)

&#x2F;&#x2F; å¯è§†åŒºåŸŸæ•°é‡
const showNum &#x3D; computed(() &#x3D;&gt; &#123;
  return ~~(props.containHeight &#x2F; props.itemHeight) * 2  &#x2F;&#x2F; ç”±äºåŠ äº†é˜²æŠ–ï¼Œæ‰€ä»¥æ¸²æŸ“çš„æ•°é‡å¢å¤§ç‚¹ï¼Œé˜²æ­¢å‡ºç°ç©ºç™½
&#125;)

&#x2F;&#x2F; ç»“æŸä¸‹æ ‡ &#x3D; å¼€å§‹ä¸‹æ ‡ + å¯è§†åŒºåŸŸæ•°é‡
const endIndex &#x3D; computed(() &#x3D;&gt; &#123;
  return startIndex.value + showNum.value
&#125;)

&#x2F;&#x2F; å±•ç¤ºçš„åˆ—è¡¨
const showList &#x3D; computed(() &#x3D;&gt; &#123;
  return props.dataList.slice(startIndex.value, endIndex.value)
&#125;)

&#x2F;&#x2F; åˆ—è¡¨çš„padding
const listStyle &#x3D; computed(() &#x3D;&gt; &#123;
  return &#123;
    paddingTop: startIndex.value * props.itemHeight + &#39;px&#39;,
    paddingBottom: (props.dataList.length - endIndex.value) * props.itemHeight + &#39;px&#39;
  &#125;
&#125;)


&#x2F;&#x2F; ç›‘å¬æ»šåŠ¨æ¡çš„å˜åŒ–
const scrollEvent &#x3D; () &#x3D;&gt; &#123;

  console.log(startIndex.value, endIndex.value);

  &#x2F;&#x2F; è·å–æ»šåŠ¨æ¡å·å…¥çš„é«˜åº¦
  let scrollTop &#x3D; listContainerRef.value!.scrollTop

  &#x2F;&#x2F; æ›´æ–°å¼€å§‹ä¸‹æ ‡
  startIndex.value &#x3D; Math.floor(scrollTop &#x2F; props.itemHeight);

  &#x2F;&#x2F; å‰©ä¸‹çš„ä¼šé€šè¿‡è®¡ç®—å±æ€§è‡ªåŠ¨å˜åŒ–

&#125;


const listContainerScroll &#x3D; debounce(scrollEvent, 20)

&lt;&#x2F;script&gt;

&lt;template&gt;
  &lt;div ref&#x3D;&quot;listContainerRef&quot; class&#x3D;&quot;listContainerClass&quot; @scroll&#x3D;&quot;listContainerScroll&quot;&gt;
    &lt;div ref&#x3D;&quot;listRef&quot; :style&#x3D;&quot;listStyle&quot;&gt;
      &lt;div v-for&#x3D;&quot;(item, index) in showList&quot; :key&#x3D;&quot;index&quot; class&#x3D;&quot;itemClass&quot;&gt;
        &lt;slot :item&#x3D;&quot;item&quot;&gt;&lt;&#x2F;slot&gt;
      &lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
    &lt;div&gt;æ²¡æœ‰æ›´å¤šäº†....&lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;
.listContainerClass &#123;
  height: v-bind(containHeightpx);
  overflow: auto;
  border: 1px solid black;

  .itemClass &#123;
    height: v-bind(itemHeightpx);
  &#125;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&lt;script setup lang&#x3D;&quot;ts&quot;&gt;
import VirtualList from &#39;@&#x2F;components&#x2F;virtualList&#x2F;index.vue&#39;
import &#123; onMounted, reactive &#125; from &#39;vue&#39;;

const dataList &#x3D; reactive&lt;any&gt;([])

onMounted(() &#x3D;&gt; &#123;
  for (let index &#x3D; 0; index &lt; 1000; index++) &#123;
    dataList.push(&#123;
      id: index,
      title: &#39;åˆ—è¡¨é¡¹&#39;
    &#125;)

  &#125;
&#125;)
&lt;&#x2F;script&gt;

&lt;template&gt;
  &lt;VirtualList :dataList&#x3D;&quot;dataList&quot; :containHeight&#x3D;&quot;600&quot; :itemHeight&#x3D;&quot;30&quot;&gt;
    &lt;template #default&#x3D;&quot;&#123; item &#125;&quot;&gt;
      &#123;&#123; item.title &#125;&#125;-&#123;&#123; item.id &#125;&#125;
    &lt;&#x2F;template&gt;
  &lt;&#x2F;VirtualList&gt;
&lt;&#x2F;template&gt;

&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;

&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="ç™»å½•é‰´æƒç›¸å…³"><a href="#ç™»å½•é‰´æƒç›¸å…³" class="headerlink" title="ç™»å½•é‰´æƒç›¸å…³"></a>ç™»å½•é‰´æƒç›¸å…³</h2><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/07/25/node-js-zhong-de-deng-lu-jian-quan/#ç™»å½•é‰´æƒ-Cookie">Node.jsä¸­çš„ç™»å½•é‰´æƒ | QT-7274 (qblog.top)</a></p>
<h3 id="ä»€ä¹ˆæ˜¯cookie"><a href="#ä»€ä¹ˆæ˜¯cookie" class="headerlink" title="ä»€ä¹ˆæ˜¯cookie"></a>ä»€ä¹ˆæ˜¯cookie</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>HTTPæ— çŠ¶æ€ï¼šç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ç”¨æ¥å‘ŠçŸ¥æœåŠ¡ç«¯å‰åä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€æµè§ˆå™¨</li>
<li>cookieå­˜å‚¨åœ¨å®¢æˆ·ç«¯</li>
<li>cookieä¸å¯è·¨åŸŸ</li>
<li>å±æ€§å€¼éƒ½æœ‰å“ªäº›</li>
</ul>
<h3 id="cookieçš„é—®é¢˜"><a href="#cookieçš„é—®é¢˜" class="headerlink" title="cookieçš„é—®é¢˜"></a>cookieçš„é—®é¢˜</h3><p>æç¤ºï¼š</p>
<ul>
<li>å› ä¸ºå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œä½¿ç”¨å‰éœ€è¦éªŒè¯åˆæ³•æ€§</li>
<li>èƒ½å­˜å‚¨çš„å®¹é‡æœ‰é™</li>
<li>æ— æ³•è·¨åŸŸ</li>
<li>ç§»åŠ¨ç«¯å¯¹cookieæ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œsessionéœ€è¦åŸºäºcookieå®ç°</li>
</ul>
<h3 id="ä»€ä¹ˆæ˜¯session"><a href="#ä»€ä¹ˆæ˜¯session" class="headerlink" title="ä»€ä¹ˆæ˜¯session"></a>ä»€ä¹ˆæ˜¯session</h3><p><code>Session</code>æ˜¯å¦ä¸€ç§è®°å½•å®¢æˆ·çŠ¶æ€çš„æœºåˆ¶ï¼Œä¸åŒçš„æ˜¯<code>Cookie</code>ä¿å­˜åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­ï¼Œè€Œ<code>Session</code>ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å®¢æˆ·ç«¯æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æŠŠå®¢æˆ·ç«¯ä¿¡æ¯ä»¥æŸç§å½¢å¼è®°å½•åœ¨æœåŠ¡å™¨ä¸Šã€‚è¿™å°±æ˜¯<code>Session</code>ã€‚å®¢æˆ·ç«¯æµè§ˆå™¨å†æ¬¡è®¿é—®æ—¶åªéœ€è¦ä»è¯¥<code>Session</code>ä¸­æŸ¥æ‰¾è¯¥å®¢æˆ·çš„çŠ¶æ€å°±å¯ä»¥äº†<code>session</code>æ˜¯ä¸€ç§ç‰¹æ®Šçš„<code>cookie</code>ã€‚</p>
<h3 id="cookieå’Œsessionçš„è”ç³»"><a href="#cookieå’Œsessionçš„è”ç³»" class="headerlink" title="cookieå’Œsessionçš„è”ç³»"></a>cookieå’Œsessionçš„è”ç³»</h3><p><strong><code>session</code> è®¤è¯æµç¨‹ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æ ¹æ®ç”¨æˆ·æäº¤çš„ç›¸å…³ä¿¡æ¯ï¼Œåˆ›å»ºå¯¹åº”çš„ <code>Session</code></li>
<li>è¯·æ±‚è¿”å›æ—¶å°†æ­¤ <code>Session</code> çš„å”¯ä¸€æ ‡è¯†ä¿¡æ¯ <code>SessionID</code> è¿”å›ç»™æµè§ˆå™¨</li>
<li>æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ <code>SessionID</code> ä¿¡æ¯åï¼Œä¼šå°†æ­¤ä¿¡æ¯å­˜å…¥åˆ° <code>Cookie</code> ä¸­ï¼ŒåŒæ—¶ <code>Cookie</code> è®°å½•æ­¤ <code>SessionID</code> å±äºå“ªä¸ªåŸŸå</li>
<li>å½“ç”¨æˆ·ç¬¬äºŒæ¬¡è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨åˆ¤æ–­æ­¤åŸŸåä¸‹æ˜¯å¦å­˜åœ¨ <code>Cookie</code> ä¿¡æ¯ï¼Œå¦‚æœå­˜åœ¨è‡ªåŠ¨å°† <code>Cookie</code> ä¿¡æ¯ä¹Ÿå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šä» <code>Cookie</code> ä¸­è·å– <code>SessionID</code>ï¼Œå†æ ¹æ® <code>SessionID</code> æŸ¥æ‰¾å¯¹åº”çš„ <code>Session</code> ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°è¯´æ˜ç”¨æˆ·æ²¡æœ‰ç™»å½•æˆ–è€…ç™»å½•å¤±æ•ˆï¼Œå¦‚æœæ‰¾åˆ° <code>Session</code> è¯æ˜ç”¨æˆ·å·²ç»ç™»å½•å¯æ‰§è¡Œåé¢æ“ä½œã€‚</li>
</ul>
<h3 id="cookieå’Œsessionçš„åŒºåˆ«"><a href="#cookieå’Œsessionçš„åŒºåˆ«" class="headerlink" title="cookieå’Œsessionçš„åŒºåˆ«"></a>cookieå’Œsessionçš„åŒºåˆ«</h3><ul>
<li><strong>å®‰å…¨æ€§</strong>ï¼š <code>Session</code> æ¯” <code>Cookie</code> å®‰å…¨ï¼Œ<code>Session</code> æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œ<code>Cookie</code> æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ã€‚</li>
<li><strong>å­˜å–å€¼çš„ç±»å‹ä¸åŒ</strong>ï¼š<code>Cookie</code> åªæ”¯æŒå­˜å­—ç¬¦ä¸²æ•°æ®ï¼Œæƒ³è¦è®¾ç½®å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œéœ€è¦å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œ<code>Session</code> å¯ä»¥å­˜ä»»æ„æ•°æ®ç±»å‹ã€‚</li>
<li><strong>æœ‰æ•ˆæœŸä¸åŒ</strong>ï¼š <code>Cookie</code> å¯è®¾ç½®ä¸ºé•¿æ—¶é—´ä¿æŒï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„é»˜è®¤ç™»å½•åŠŸèƒ½ï¼Œ<code>Session</code> ä¸€èˆ¬å¤±æ•ˆæ—¶é—´è¾ƒçŸ­ï¼Œå®¢æˆ·ç«¯å…³é—­ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰æˆ–è€… <code>Session</code> è¶…æ—¶éƒ½ä¼šå¤±æ•ˆã€‚</li>
<li><strong>å­˜å‚¨å¤§å°ä¸åŒ</strong>ï¼š å•ä¸ª <code>Cookie</code> ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kï¼Œ<code>Session</code> å¯å­˜å‚¨æ•°æ®è¿œé«˜äº <code>Cookie</code>ï¼Œä½†æ˜¯å½“è®¿é—®é‡è¿‡å¤šï¼Œä¼šå ç”¨è¿‡å¤šçš„æœåŠ¡å™¨èµ„æºã€‚</li>
</ul>
<h3 id="ä»€ä¹ˆæ˜¯Token"><a href="#ä»€ä¹ˆæ˜¯Token" class="headerlink" title="ä»€ä¹ˆæ˜¯Token"></a>ä»€ä¹ˆæ˜¯Token</h3><h3 id="JWTçš„ä¼˜åŠ¿"><a href="#JWTçš„ä¼˜åŠ¿" class="headerlink" title="JWTçš„ä¼˜åŠ¿"></a>JWTçš„ä¼˜åŠ¿</h3><p><strong>åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>Token</strong>ï¼šæœåŠ¡ç«¯éªŒè¯å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ <code>Token</code> æ—¶ï¼Œè¿˜éœ€è¦æŸ¥è¯¢æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åéªŒè¯ <code>Token</code> æ˜¯å¦æœ‰æ•ˆã€‚</li>
<li><strong>JWT</strong>ï¼š å°† <code>Token</code> å’Œ <code>Payload</code> åŠ å¯†åå­˜å‚¨äºå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯åªéœ€è¦ä½¿ç”¨å¯†é’¥è§£å¯†è¿›è¡Œæ ¡éªŒï¼ˆæ ¡éªŒä¹Ÿæ˜¯ JWT è‡ªå·±å®ç°çš„ï¼‰å³å¯ï¼Œä¸éœ€è¦æŸ¥è¯¢æˆ–è€…å‡å°‘æŸ¥è¯¢æ•°æ®åº“ï¼Œå› ä¸º JWT è‡ªåŒ…å«äº†ç”¨æˆ·ä¿¡æ¯å’ŒåŠ å¯†çš„æ•°æ®ã€‚</li>
</ul>
<p>å¯¹æ¯”ä¼ ç»Ÿçš„<code>session</code>è®¤è¯æ–¹å¼ï¼ŒJWTçš„ä¼˜åŠ¿æ˜¯ï¼š</p>
<ul>
<li>ç®€æ´ï¼šJWT Tokenæ•°æ®é‡å°ï¼Œä¼ è¾“é€Ÿåº¦ä¹Ÿå¾ˆå¿«</li>
<li>å› ä¸ºJWT Tokenæ˜¯ä»¥JSONåŠ å¯†å½¢å¼ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ï¼Œæ‰€ä»¥JWTæ˜¯è·¨è¯­è¨€çš„ï¼ŒåŸåˆ™ä¸Šä»»ä½•webå½¢å¼éƒ½æ”¯æŒ</li>
<li>ä¸éœ€è¦åœ¨æœåŠ¡ç«¯ä¿å­˜ä¼šè¯ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¾èµ–äº<code>cookie</code>å’Œ<code>session</code>ï¼Œæ‰€ä»¥æ²¡æœ‰äº†ä¼ ç»Ÿ<code>session</code>è®¤è¯çš„å¼Šç«¯ï¼Œç‰¹åˆ«é€‚ç”¨äºåˆ†å¸ƒå¼å¾®æœåŠ¡</li>
<li>å•ç‚¹ç™»å½•å‹å¥½ï¼šä½¿ç”¨<code>session</code>è¿›è¡Œèº«ä»½è®¤è¯çš„è¯ï¼Œç”±äº<code>cookie</code>æ— æ³•è·¨åŸŸï¼Œéš¾ä»¥å®ç°å•ç‚¹ç™»å½•ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨<code>token</code>è¿›è¡Œè®¤è¯çš„è¯ï¼Œ <code>token</code>å¯ä»¥è¢«ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ä»»æ„ä½ç½®çš„å†…å­˜ä¸­ï¼Œä¸ä¸€å®šæ˜¯<code>cookie</code>ï¼Œæ‰€ä»¥ä¸ä¾èµ–<code>cookie</code>ï¼Œä¸ä¼šå­˜åœ¨è¿™äº›é—®é¢˜</li>
<li>é€‚åˆç§»åŠ¨ç«¯åº”ç”¨ï¼šä½¿ç”¨<code>session</code>è¿›è¡Œèº«ä»½è®¤è¯çš„è¯ï¼Œéœ€è¦ä¿å­˜ä¸€ä»½ä¿¡æ¯åœ¨æœåŠ¡å™¨ç«¯ï¼Œè€Œä¸”è¿™ç§æ–¹å¼ä¼šä¾èµ–åˆ°<code>cookie</code>ï¼ˆéœ€è¦ <code>cookie</code> ä¿å­˜ <code>sessionId</code>ï¼‰ï¼Œæ‰€ä»¥ä¸é€‚åˆç§»åŠ¨ç«¯</li>
</ul>
<h2 id="setTimeoutã€setIntervalã€requestAnimationFrame"><a href="#setTimeoutã€setIntervalã€requestAnimationFrame" class="headerlink" title="setTimeoutã€setIntervalã€requestAnimationFrame"></a>setTimeoutã€setIntervalã€requestAnimationFrame</h2><h3 id="setTimout"><a href="#setTimout" class="headerlink" title="setTimout"></a>setTimout</h3><h4 id="è¿è¡Œæœºåˆ¶"><a href="#è¿è¡Œæœºåˆ¶" class="headerlink" title="è¿è¡Œæœºåˆ¶"></a>è¿è¡Œæœºåˆ¶</h4><blockquote>
<p>æ‰§è¡Œè¯¥è¯­å¥æ—¶ï¼Œç«‹å³æŠŠå½“æ—¶å®šæ—¶å™¨ä»£ç æ¨å…¥äº‹ä»¶é˜Ÿåˆ—ï¼Œå½“å®šæ—¶å™¨åœ¨äº‹ä»¶åˆ—è¡¨ä¸­æ»¡è¶³è®¾ç½®çš„æ—¶é—´å€¼å°†ä¼ å…¥çš„å‡½æ•°åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹‹åçš„æ‰§è¡Œå°±äº¤ç»™ä»»åŠ¡é˜Ÿåˆ—è´Ÿè´£ã€‚</p>
<p>å¦‚æœæ­¤æ—¶çš„ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œåˆ™éœ€ç­‰å¾…ï¼Œæ‰€ä»¥æ‰§è¡Œå®šæ—¶å™¨å†…ä»£ç çš„æ—¶é—´å¯èƒ½ä¼šå¤§äºè®¾ç½®çš„æ—¶é—´ã€‚</p>
</blockquote>
<h4 id="ä½¿ç”¨SetTimeoutè¿›è¡Œä¼˜åŒ–"><a href="#ä½¿ç”¨SetTimeoutè¿›è¡Œä¼˜åŒ–" class="headerlink" title="ä½¿ç”¨SetTimeoutè¿›è¡Œä¼˜åŒ–"></a>ä½¿ç”¨SetTimeoutè¿›è¡Œä¼˜åŒ–</h4><p>è¯¦è§æœ¬æ–‡â€”â€”ä¼˜åŒ–ç›¸å…³ç« èŠ‚ä¸­çš„ã€ä¸€æ¬¡åŠ è½½å¤§é‡DOMã€‘</p>
<h4 id="setTimeoutçš„å®šä¹‰å’Œç”¨æ³•"><a href="#setTimeoutçš„å®šä¹‰å’Œç”¨æ³•" class="headerlink" title="setTimeoutçš„å®šä¹‰å’Œç”¨æ³•"></a>setTimeoutçš„å®šä¹‰å’Œç”¨æ³•</h4><ul>
<li>å®šä¹‰ï¼šç”¨äºåœ¨æŒ‡å®šçš„æ¯«ç§’æ•°<strong>å</strong>è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚</li>
<li>å‚æ•°ï¼š<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°functionï¼Œå¿…å¡«çš„ï¼Œå›è°ƒå‡½æ•°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°åã€‚</li>
<li>ç¬¬äºŒä¸ªå‚æ•°delayï¼Œå¯é€‰çš„ï¼Œå»¶è¿Ÿæ—¶é—´ï¼Œå•ä½æ˜¯msã€‚</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°param1,param2,param3...,å¯é€‰çš„ï¼Œæ˜¯ä¼ é€’ç»™å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œæ¯”è¾ƒä¸å¸¸ç”¨åˆ°ï¼Œåœ¨IE9 åŠå…¶æ›´æ—©ç‰ˆæœ¬ä¸æ”¯æŒè¯¥å‚æ•°ã€‚</li>
</ul>
</li>
<li>è¿”å›å€¼ï¼šè¿”å›ä¸€ä¸ª IDï¼ˆæ•°å­—ï¼‰ï¼Œå¯ä»¥å°†è¿™ä¸ªIDä¼ é€’ç»™<code>clearTimeout()</code>æ¥å–æ¶ˆæ‰§è¡Œã€‚</li>
</ul>
<h4 id="setTimeoutçš„æœ€çŸ­å»¶è¿Ÿæ—¶é—´"><a href="#setTimeoutçš„æœ€çŸ­å»¶è¿Ÿæ—¶é—´" class="headerlink" title="setTimeoutçš„æœ€çŸ­å»¶è¿Ÿæ—¶é—´"></a>setTimeoutçš„æœ€çŸ­å»¶è¿Ÿæ—¶é—´</h4><p>ç¬¬äºŒä¸ªå‚æ•°delayæœªè®¾ç½®çš„æ—¶å€™ï¼Œé»˜è®¤ä¸º0ï¼Œæ„å‘³ç€â€œé©¬ä¸Šâ€æ‰§è¡Œï¼Œæˆ–è€…å°½å¿«æ‰§è¡Œã€‚</p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªè§„å®šå¦‚ä¸‹</p>
<blockquote>
<p>If timeout is less than 0, then set timeout to 0. If nesting level is greater than 5, and timeout is less than 4, then set timeout to 4.</p>
</blockquote>
<p>ä¸Šé¢çš„æ„æ€æ˜¯è¯´ï¼Œå¦‚æœå»¶è¿Ÿæ—¶é—´çŸ­äº0ï¼Œåˆ™å°†å»¶è¿Ÿæ—¶é—´è®¾ç½®ä¸º0ã€‚<strong>å¦‚æœåµŒå¥—çº§åˆ«å¤§äº5ï¼Œå»¶è¿Ÿæ—¶é—´çŸ­äº4msï¼Œåˆ™å°†å»¶è¿Ÿæ—¶é—´è®¾ç½®ä¸º4msã€‚</strong></p>
<p>è¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µã€‚ä¸ºäº†èŠ‚ç”µï¼Œ<strong>å¯¹äºé‚£äº›ä¸å¤„äºå½“å‰çª—å£çš„é¡µé¢ï¼Œæµè§ˆå™¨ä¼šå°†æœ€çŸ­å»¶æ—¶é™åˆ¶æ‰©å¤§åˆ°1000msã€‚</strong></p>
<h3 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a>setInterval</h3><h4 id="setIntervalçš„å®šä¹‰å’Œç”¨æ³•"><a href="#setIntervalçš„å®šä¹‰å’Œç”¨æ³•" class="headerlink" title="setIntervalçš„å®šä¹‰å’Œç”¨æ³•"></a>setIntervalçš„å®šä¹‰å’Œç”¨æ³•</h4><ul>
<li>å®šä¹‰ï¼šå¯æŒ‰ç…§æŒ‡å®šçš„<strong>å‘¨æœŸ</strong>ï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚</li>
<li>å‚æ•°ï¼š<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°functionï¼Œå¿…å¡«çš„ï¼Œå›è°ƒå‡½æ•°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°åã€‚</li>
<li>ç¬¬äºŒä¸ªå‚æ•°delayï¼Œå¯é€‰çš„ï¼Œé—´éš”æ—¶é—´ï¼Œå•ä½æ˜¯msã€‚</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°param1,param2,param3...,å¯é€‰çš„ï¼Œæ˜¯ä¼ é€’ç»™å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œæ¯”è¾ƒä¸å¸¸ç”¨åˆ°ï¼Œåœ¨IE9 åŠå…¶æ›´æ—©ç‰ˆæœ¬ä¸æ”¯æŒè¯¥å‚æ•°ã€‚</li>
</ul>
</li>
<li>è¿”å›å€¼ï¼šè¿”å›ä¸€ä¸ª IDï¼ˆæ•°å­—ï¼‰ï¼Œå¯ä»¥å°†è¿™ä¸ªIDä¼ é€’ç»™<code>clearInterval()</code>æ¥å–æ¶ˆæ‰§è¡Œã€‚</li>
</ul>
<h4 id="setIntervalçš„æœ€çŸ­é—´éš”æ—¶é—´"><a href="#setIntervalçš„æœ€çŸ­é—´éš”æ—¶é—´" class="headerlink" title="setIntervalçš„æœ€çŸ­é—´éš”æ—¶é—´"></a>setIntervalçš„æœ€çŸ­é—´éš”æ—¶é—´</h4><p>åœ¨John Resigçš„æ–°ä¹¦ã€ŠJavascriptå¿è€…çš„ç§˜å¯†ã€‹ä¸€ä¹¦ä¸­æåˆ°</p>
<blockquote>
<p>Browsers all have a 10ms minimum delay on OSX and a(approximately) 15ms delay on Windows.</p>
</blockquote>
<p>åœ¨è‹¹æœæœºä¸Šçš„æœ€çŸ­é—´éš”æ—¶é—´æ˜¯10æ¯«ç§’,åœ¨Windowsç³»ç»Ÿä¸Šçš„æœ€çŸ­é—´éš”æ—¶é—´å¤§çº¦æ˜¯15æ¯«ç§’ã€‚</p>
<p>å¤§å¤šæ•°ç”µè„‘æ˜¾ç¤ºå™¨çš„åˆ·æ–°é¢‘ç‡æ˜¯60HZï¼Œå¤§æ¦‚ç›¸å½“äºæ¯ç§’é’Ÿé‡ç»˜60æ¬¡ã€‚å› æ­¤ï¼Œæœ€å¹³æ»‘çš„åŠ¨ç”»æ•ˆçš„æœ€ä½³å¾ªç¯é—´éš”æ˜¯1000ms/60ï¼Œçº¦ç­‰äº16.6msã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘è®¤ä¸ºsetIntervalçš„æœ€çŸ­é—´éš”æ—¶é—´åº”è¯¥ä¸º16.6msã€‚</p>
<h4 id="setIntervalçš„é—´éš”æ—¶é—´è®¾ç½®é—®é¢˜"><a href="#setIntervalçš„é—´éš”æ—¶é—´è®¾ç½®é—®é¢˜" class="headerlink" title="setIntervalçš„é—´éš”æ—¶é—´è®¾ç½®é—®é¢˜"></a>setIntervalçš„é—´éš”æ—¶é—´è®¾ç½®é—®é¢˜</h4><p><strong>setIntervalçš„é—´éš”æ—¶é—´ä¸€å®šè¦æ¯”å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶é—´å¤§</strong></p>
<p><code>setInterval</code>å‡½æ•°çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œæ¯éš”æŒ‡å®šçš„é—´éš”æ—¶é—´ï¼Œå°±å°†å›è°ƒå‡½æ•°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚å¦‚æœå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶é—´å¤§äºè¿™ä¸ªé—´éš”æ—¶é—´ï¼Œé‚£ä¹ˆå›è°ƒå‡½æ•°çš„æ‰§è¡Œå¯èƒ½ä¼šå’Œä¸‹ä¸€æ¬¡çš„è°ƒåº¦é‡å ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºJavaScriptæ˜¯å•çº¿ç¨‹çš„ï¼Œä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œé‚£ä¹ˆåœ¨å®ƒæ‰§è¡Œç»“æŸä¹‹å‰ï¼Œä¸‹ä¸€ä¸ªé—´éš”æ—¶é—´å¯èƒ½å·²ç»åˆ°è¾¾ï¼Œæ­¤æ—¶æ–°çš„å›è°ƒå‡½æ•°å°±ä¼šè¢«æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚å¦‚æœå‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œé‚£ä¹ˆæ–°çš„å›è°ƒå‡½æ•°å°±å¿…é¡»ç­‰å¾…ï¼Œè¿™å°±å¯èƒ½å¯¼è‡´å®é™…çš„é—´éš”æ—¶é—´å°äºé¢„æœŸã€‚</p>
<p>ä½†æ˜¯åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½æ¸…æ™°çš„çŸ¥é“å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼Œä¸ºäº†èƒ½æŒ‰ç…§ä¸€å®šçš„é—´éš”å‘¨æœŸæ€§çš„è§¦å‘å®šæ—¶å™¨ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•å®ç°ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">setTimeout(function handlerInterval()&#123;
    &#x2F;&#x2F; do something
    setTimeout(handlerInterval,100); 
    &#x2F;&#x2F; æ‰§è¡Œå®Œå¤„ç†ç¨‹åºçš„å†…å®¹åï¼Œåœ¨æœ«å°¾å†é—´éš”100æ¯«ç§’æ¥è°ƒç”¨è¯¥ç¨‹åºï¼Œè¿™æ ·å°±èƒ½ä¿è¯ä¸€å®šæ˜¯100æ¯«ç§’çš„å‘¨æœŸè°ƒç”¨
&#125;,100)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="setTimeoutä¸ºä»€ä¹ˆä¸å‡†æ—¶"><a href="#setTimeoutä¸ºä»€ä¹ˆä¸å‡†æ—¶" class="headerlink" title="setTimeoutä¸ºä»€ä¹ˆä¸å‡†æ—¶"></a>setTimeoutä¸ºä»€ä¹ˆä¸å‡†æ—¶</h3><ol>
<li><p>å¦‚æœåµŒå¥—çº§åˆ«å¤§äº5ï¼Œå»¶è¿Ÿæ—¶é—´çŸ­äº4msï¼Œåˆ™å°†å»¶è¿Ÿæ—¶é—´è®¾ç½®ä¸º4msã€‚</p>
</li>
<li><p>å¯¹äºé‚£äº›ä¸å¤„äºå½“å‰çª—å£çš„é¡µé¢ï¼Œæµè§ˆå™¨ä¼šå°†æœ€çŸ­å»¶æ—¶é™åˆ¶æ‰©å¤§åˆ°1000msã€‚</p>
</li>
<li><p><code>setTimeout</code> åœ¨ JavaScript ä¸­å¹¶ä¸æ˜¯å®Œå…¨å‡†ç¡®çš„ã€‚è¿™æ˜¯å› ä¸º JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œ<code>setTimeout</code> åªæ˜¯å°†å›è°ƒå‡½æ•°æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œï¼Œè€Œå®é™…æ‰§è¡Œæ—¶é—´å–å†³äºå½“å‰æ‰§è¡Œæ ˆä¸­çš„ä»»åŠ¡ä½•æ—¶å®Œæˆã€‚</p>
<p>è¿™ä½¿å¾— <code>requestAnimationFrame</code> åœ¨åŠ¨ç”»åœºæ™¯ä¸‹æ¯” <code>setTimeout</code> æ›´å‡†ç¡®ï¼Œå› ä¸ºå®ƒèƒ½ç¡®ä¿åœ¨æ¯ä¸€å¸§åˆ·æ–°æ—¶éƒ½æ‰§è¡Œï¼Œè€Œ <code>setTimeout</code> å¯èƒ½ä¼šå› ä¸º JavaScript çš„äº‹ä»¶å¾ªç¯æˆ–å…¶ä»–åŸå› è€Œæœ‰æ‰€å»¶è¿Ÿã€‚</p>
<p>ç„¶è€Œï¼Œ<code>requestAnimationFrame</code> å¹¶ä¸èƒ½ç”¨æ¥æ›¿ä»£ <code>setTimeout</code> æ¥å®ç°ä¸€ä¸ªå‡†ç¡®çš„å®šæ—¶å™¨ï¼Œå› ä¸ºå®ƒçš„æ‰§è¡Œé¢‘ç‡æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”å½“æ ‡ç­¾é¡µä¸åœ¨å‰å°æ—¶ï¼Œ<code>requestAnimationFrame</code> çš„è¿è¡Œä¼šè¢«æš‚åœã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function _timerSetInterval(fn, delay, ...args) &#123;
    let current &#x3D; Date.now();
    let timer &#x3D; null;

    const task &#x3D; () &#x3D;&gt; &#123;
        current +&#x3D; delay;
        timer &#x3D; setTimeout(() &#x3D;&gt; &#123;
            fn.apply(this, args);
            task();
        &#125;, Math.max(0, current - Date.now()));
    &#125;;

    task();
    return () &#x3D;&gt; clearTimeout(timer);
&#125;

_timerSetInterval(() &#x3D;&gt; &#123;console.log(new Date())&#125;, 1000);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="requestAnimationFrame"><a href="#requestAnimationFrame" class="headerlink" title="requestAnimationFrame"></a>requestAnimationFrame</h3><p><code>requestAnimationFrame()</code>æ˜¯ä¸€ä¸ªæµè§ˆå™¨æä¾›çš„APIï¼Œç”¨äºåœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œä¸€æ®µä»£ç ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨å±å¹•åˆ·æ–°çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯æ¯ç§’60æ¬¡ã€‚è¿™ä¸ªAPIä¸»è¦ç”¨äºåŠ¨ç”»æ•ˆæœçš„å®ç°ï¼Œå› ä¸ºå®ƒå¯ä»¥ç¡®ä¿å›è°ƒå‡½æ•°åœ¨å±å¹•åˆ·æ–°çš„æ¯ä¸€å¸§ä¸­éƒ½è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œä»è€Œå®ç°æµç•…çš„åŠ¨ç”»æ•ˆæœã€‚</p>
<p>ä»¥å¾€çš„JSåŠ¨ç”»é€šå¸¸æ˜¯ç”¨setTimeoutæˆ–setIntervalå®šæ—¶å™¨æ¥å®ç°ï¼Œè¿™ç§å®ç°æ–¹æ³•å­˜åœ¨çš„é—®é¢˜ï¼Œä¸€æ˜¯ä¸Šé¢æåˆ°çš„â€œæ‰å¸§â€ï¼ŒäºŒæ˜¯æ— æ³•æŒæ¡å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœºï¼Œä¸‰æ˜¯ç³»ç»Ÿæ€§èƒ½çš„æµªè´¹ï¼Œå½“é¡µé¢è½¬ä¸ºåå°è¿è¡Œæ—¶å¹¶ä¸ä¼šè‡ªåŠ¨åœæ­¢ã€‚</p>
<blockquote>
<p>å½“ç„¶ï¼ŒrequestAnimationFrameå¹¶éå®Œç¾ï¼Œå› ä¸ºæ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„ï¼Œå½“ä¸»çº¿ç¨‹éå¸¸ç¹å¿™æ—¶ï¼ŒrequestAnimationFrameçš„æ•ˆæœå°±å¤§æ‰“æŠ˜æ‰£ã€‚</p>
</blockquote>
<h4 id="requestAnimationFrameå’Œ-nextTick-çš„åŒºåˆ«"><a href="#requestAnimationFrameå’Œ-nextTick-çš„åŒºåˆ«" class="headerlink" title="requestAnimationFrameå’Œ $nextTick()çš„åŒºåˆ«"></a>requestAnimationFrameå’Œ $nextTick()çš„åŒºåˆ«</h4><p><code>$nextTick()</code>çš„å›è°ƒå‡½æ•°ä¼šåœ¨å½“å‰å®ä»»åŠ¡ç»“æŸåï¼Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡å¼€å§‹å‰æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—å®Œæˆåç«‹å³æ‰§è¡Œã€‚è¿™æ˜¯å› ä¸º<code>$nextTick()</code>çš„å†…éƒ¨å®ç°ä½¿ç”¨äº†å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</p>
<p><code>requestAnimationFrame()</code>çš„å›è°ƒå‡½æ•°ä¼šåœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œï¼Œè¿™é€šå¸¸åœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å¼€å§‹ä¹‹å‰ï¼Œä½†åœ¨æ‰€æœ‰å¾®ä»»åŠ¡å®Œæˆä¹‹åã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸æ„å‘³ç€å®ƒä¼šç«‹å³åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—å®Œæˆåæ‰§è¡Œï¼Œå› ä¸ºæµè§ˆå™¨è¿˜éœ€è¦å¤„ç†å…¶ä»–çš„ä»»åŠ¡ï¼Œå¦‚æ¸²æŸ“å’Œåƒåœ¾å›æ”¶ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´<code>requestAnimationFrame()</code>çš„å›è°ƒå‡½æ•°å»¶è¿Ÿæ‰§è¡Œã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœä½ åœ¨åŒä¸€ä¸ªå®ä»»åŠ¡ä¸­è°ƒç”¨äº†<code>$nextTick()</code>å’Œ<code>requestAnimationFrame()</code>ï¼Œé‚£ä¹ˆ<code>$nextTick()</code>çš„å›è°ƒå‡½æ•°ä¼šå…ˆæ‰§è¡Œï¼Œç„¶åæ˜¯<code>requestAnimationFrame()</code>çš„å›è°ƒå‡½æ•°ã€‚</p>
<h2 id="æµè§ˆå™¨ç›¸å…³"><a href="#æµè§ˆå™¨ç›¸å…³" class="headerlink" title="æµè§ˆå™¨ç›¸å…³"></a>æµè§ˆå™¨ç›¸å…³</h2><h3 id="HTTPå’ŒHTTPS"><a href="#HTTPå’ŒHTTPS" class="headerlink" title="HTTPå’ŒHTTPS"></a>HTTPå’ŒHTTPS</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li><strong>æ¦‚å¿µ</strong>ï¼šæ˜¯....é€šè¿‡....å¹¶ä½¿ç”¨...ä½¿å¾—...</li>
<li><strong>åŒºåˆ«</strong>ï¼šä¼˜ç¼ºç‚¹</li>
<li>httpsçš„<strong>å·¥ä½œåŸç†</strong>ï¼šå»ºç«‹ssl-ä¼ è¾“ï¼ˆå…¬é’¥ï¼‰-åå•†-åŠ å¯†-è§£å¯†-é€šä¿¡</li>
</ul>
<p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/liu-lan-qi-xiang-guan-xi-jie-ti-1/#HTTP-å’Œ-HTTPS">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ1ï¼‰ | QT-7274 (qblog.top)</a></li>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/HTTPS.html">é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆè¯´HTTPSæ¯”HTTPå®‰å…¨? HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></li>
</ul>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li>å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†</li>
<li>HTTPè¯·æ±‚è¿‡ç¨‹</li>
</ul>
<h3 id="HTTPè¯·æ±‚è¿‡ç¨‹"><a href="#HTTPè¯·æ±‚è¿‡ç¨‹" class="headerlink" title="HTTPè¯·æ±‚è¿‡ç¨‹"></a>HTTPè¯·æ±‚è¿‡ç¨‹</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<h3 id="å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†"><a href="#å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†" class="headerlink" title="å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†"></a>å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å¯¹ç§°åŠ å¯†ï¼šå¯¹ç§°åŠ å¯†ä½¿ç”¨<strong>åŒä¸€ä¸ª</strong>å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚è¿™ç§åŠ å¯†æ–¹å¼çš„ä¼˜ç‚¹æ˜¯åŠ å¯†å’Œè§£å¯†çš„é€Ÿåº¦å¿«ï¼Œé€‚åˆäºå¤§é‡æ•°æ®çš„åŠ å¯†ï¼›ç¼ºç‚¹æ˜¯å¯†é’¥çš„åˆ†å‘å’Œç®¡ç†æ¯”è¾ƒå›°éš¾ï¼Œä¸é€‚åˆäºå¤§è§„æ¨¡çš„ç½‘ç»œé€šä¿¡å®‰å…¨ã€‚</li>
<li>éå¯¹ç§°åŠ å¯†ï¼šéå¯¹ç§°åŠ å¯†ä½¿ç”¨ä¸€å¯¹å¯†é’¥ï¼Œä¸€ä¸ªæ˜¯å…¬é’¥ï¼Œå¦ä¸€ä¸ªæ˜¯ç§é’¥ã€‚å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å…¬é’¥è¿›è¡ŒåŠ å¯†ï¼Œä½†åªæœ‰å¯¹åº”çš„ç§é’¥æ‰èƒ½è¿›è¡Œè§£å¯†ã€‚è¿™ç§åŠ å¯†æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å®‰å…¨æ€§é«˜ï¼Œå¯†é’¥çš„ç®¡ç†ä¹Ÿç›¸å¯¹å®¹æ˜“ï¼›ç¼ºç‚¹æ˜¯åŠ å¯†å’Œè§£å¯†çš„é€Ÿåº¦æ…¢ï¼Œä¸é€‚åˆäºå¤§é‡æ•°æ®çš„åŠ å¯†ã€‚</li>
</ul>
<h3 id="å¸¸è§çŠ¶æ€ç "><a href="#å¸¸è§çŠ¶æ€ç " class="headerlink" title="å¸¸è§çŠ¶æ€ç "></a>å¸¸è§çŠ¶æ€ç </h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/status.html">é¢è¯•å®˜ï¼šè¯´è¯´HTTP å¸¸è§çš„çŠ¶æ€ç æœ‰å“ªäº›ï¼Œé€‚ç”¨åœºæ™¯ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></li>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/liu-lan-qi-xiang-guan-xi-jie-ti-1/#â—å¸¸è§çŠ¶æ€ç ">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ1ï¼‰ | QT-7274 (qblog.top)</a></li>
</ul>
<h3 id="TCPå’ŒUDPçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯"><a href="#TCPå’ŒUDPçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯" class="headerlink" title="TCPå’ŒUDPçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯"></a>TCPå’ŒUDPçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/UDP_TCP.html">é¢è¯•å®˜ï¼šå¦‚ä½•ç†è§£UDP å’Œ TCP? åŒºåˆ«? åº”ç”¨åœºæ™¯? | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹"><a href="#å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹" class="headerlink" title="å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹"></a>å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/OSI.html">é¢è¯•å®˜ï¼šå¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹? | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="DNSåè®®-æ˜¯ä»€ä¹ˆï¼Ÿè¯´è¯´DNS-å®Œæ•´çš„æŸ¥è¯¢è¿‡ç¨‹"><a href="#DNSåè®®-æ˜¯ä»€ä¹ˆï¼Ÿè¯´è¯´DNS-å®Œæ•´çš„æŸ¥è¯¢è¿‡ç¨‹" class="headerlink" title="DNSåè®® æ˜¯ä»€ä¹ˆï¼Ÿè¯´è¯´DNS å®Œæ•´çš„æŸ¥è¯¢è¿‡ç¨‹?"></a>DNSåè®® æ˜¯ä»€ä¹ˆï¼Ÿè¯´è¯´DNS å®Œæ•´çš„æŸ¥è¯¢è¿‡ç¨‹?</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/DNS.html">é¢è¯•å®˜ï¼šDNSåè®® æ˜¯ä»€ä¹ˆï¼Ÿè¯´è¯´DNS å®Œæ•´çš„æŸ¥è¯¢è¿‡ç¨‹? | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="å¦‚ä½•ç†è§£CDNï¼Ÿè¯´è¯´å®ç°åŸç†ï¼Ÿ"><a href="#å¦‚ä½•ç†è§£CDNï¼Ÿè¯´è¯´å®ç°åŸç†ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç†è§£CDNï¼Ÿè¯´è¯´å®ç°åŸç†ï¼Ÿ"></a>å¦‚ä½•ç†è§£CDNï¼Ÿè¯´è¯´å®ç°åŸç†ï¼Ÿ</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/CDN.html">é¢è¯•å®˜ï¼šå¦‚ä½•ç†è§£CDNï¼Ÿè¯´è¯´å®ç°åŸç†ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="GETå’ŒPOSTçš„åŒºåˆ«"><a href="#GETå’ŒPOSTçš„åŒºåˆ«" class="headerlink" title="GETå’ŒPOSTçš„åŒºåˆ«"></a>GETå’ŒPOSTçš„åŒºåˆ«</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/GET_POST.html">é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ GET å’Œ POST çš„åŒºåˆ«ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="HTTPè¯·æ±‚å¤´åŠå…¶ä½œç”¨"><a href="#HTTPè¯·æ±‚å¤´åŠå…¶ä½œç”¨" class="headerlink" title="HTTPè¯·æ±‚å¤´åŠå…¶ä½œç”¨"></a>HTTPè¯·æ±‚å¤´åŠå…¶ä½œç”¨</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/headers.html">é¢è¯•å®˜ï¼šè¯´è¯´ HTTP å¸¸è§çš„è¯·æ±‚å¤´æœ‰å“ªäº›? ä½œç”¨ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="headerlink" title="è·¨åŸŸ"></a>è·¨åŸŸ</h3><blockquote>
<p>è…¾è®¯ã€å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li><strong>æ¦‚å¿µ</strong>ï¼šä»€ä¹ˆæ˜¯è·¨åŸŸ?å³ä»€ä¹ˆæ˜¯åŒæºï¼Ÿï¼ˆä¸‰ç‚¹ï¼šåè®®|ä¸»æœº|ç«¯å£ï¼‰</li>
<li>ä¸‰ç§<strong>æ–¹æ³•</strong>ï¼šJSONP|CORS|Proxy</li>
<li>CORSçš„æœåŠ¡å™¨ç«¯è®¾ç½®ï¼š<code>Access-Control-Allow-Origin</code>ï¼Œ <code>Access-Control-Allow-Headers</code>ï¼Œ<code>Access-Control-Allow-Methods</code></li>
<li>Proxyï¼ˆç½‘ç»œä»£ç†ï¼‰çš„å®¢æˆ·ç«¯è®¾ç½®ï¼ˆVueå¸¸ç”¨ï¼‰ï¼šä»£ç†æ ‡è¯†ï¼Œ<code>target</code>ï¼Œ<code>changeOrigin</code>ï¼Œ<code>pathRewrite</code></li>
</ul>
<p>çŸ¥è¯†é“¾ï¼šJSONPçš„å®ç°</p>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/vue/cors.html#ä¸€ã€è·¨åŸŸæ˜¯ä»€ä¹ˆ">é¢è¯•å®˜ï¼šVueé¡¹ç›®ä¸­ä½ æ˜¯å¦‚ä½•è§£å†³è·¨åŸŸçš„å‘¢ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«"><a href="#Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«" class="headerlink" title="Cookieã€sessionStorageã€localStorage çš„åŒºåˆ«"></a>Cookieã€sessionStorageã€localStorage çš„åŒºåˆ«</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/liu-lan-qi-xiang-guan-xi-jie-ti-1/#â—Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ1ï¼‰ | QT-7274 (qblog.top)</a></p>
<h3 id="åœ¨åœ°å€æ é‡Œè¾“å…¥ä¸€ä¸ª-URLï¼Œåˆ°è¿™ä¸ªé¡µé¢å‘ˆç°å‡ºæ¥ï¼Œä¸­é—´ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"><a href="#åœ¨åœ°å€æ é‡Œè¾“å…¥ä¸€ä¸ª-URLï¼Œåˆ°è¿™ä¸ªé¡µé¢å‘ˆç°å‡ºæ¥ï¼Œä¸­é—´ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ" class="headerlink" title="åœ¨åœ°å€æ é‡Œè¾“å…¥ä¸€ä¸ª URLï¼Œåˆ°è¿™ä¸ªé¡µé¢å‘ˆç°å‡ºæ¥ï¼Œä¸­é—´ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"></a>åœ¨åœ°å€æ é‡Œè¾“å…¥ä¸€ä¸ª URLï¼Œåˆ°è¿™ä¸ªé¡µé¢å‘ˆç°å‡ºæ¥ï¼Œä¸­é—´ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h3><p>æç¤ºï¼š</p>
<ul>
<li>æŸ¥æ‰¾ç¼“å­˜ä¸­çš„ip - æ„é€ httpè¯·æ±‚ - è¿”å›é¡µé¢ - <strong>å‚è€ƒç­”æ¡ˆ1</strong></li>
<li>æ ¹æ®HTMLå’ŒCSSæ„é€ æ ‘å¹¶åˆå¹¶ - å¸ƒå±€å’Œæ¸²æŸ“ - å¹¶è¡Œï¼ˆç¼“å­˜ï¼‰ä¸‹è½½èµ„æº - ç»˜åˆ¶ - <strong>å‚è€ƒç­”æ¡ˆ2</strong></li>
</ul>
<p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/liu-lan-qi-xiang-guan-xi-jie-ti-1/#â—åœ¨åœ°å€æ é‡Œè¾“å…¥ä¸€ä¸ª-URL-åˆ°è¿™ä¸ªé¡µé¢å‘ˆç°å‡ºæ¥ï¼Œä¸­é—´ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ1ï¼‰ | QT-7274 (qblog.top)</a></li>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/10/08/liu-lan-qi-xiang-guan-xi-jie-ti-3/#æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„ï¼Ÿ">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ3ï¼‰ | QT-7274 (qblog.top)</a></li>
</ul>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li>æµè§ˆå™¨ç¼“å­˜</li>
<li>æµè§ˆå™¨ä¸­çš„é‡ç»˜å’Œé‡æ’</li>
<li>æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„</li>
<li>ä»€ä¹ˆæ˜¯reflow</li>
<li>ä»€ä¹ˆæ˜¯repaint</li>
<li>ä¸ºä»€ä¹ˆtransformæ•ˆç‡é«˜</li>
</ul>
<blockquote>
<p>åäº”ä¸ªé—®é¢˜ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/10/08/liu-lan-qi-xiang-guan-xi-jie-ti-3/#æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„ï¼Ÿ">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ3ï¼‰ | QT-7274 (qblog.top)</a></p>
</blockquote>
<h3 id="é‡ç»˜å’Œé‡æ’"><a href="#é‡ç»˜å’Œé‡æ’" class="headerlink" title="é‡ç»˜å’Œé‡æ’"></a>é‡ç»˜å’Œé‡æ’</h3><h4 id="å‡å°‘é¡µé¢çš„é‡ç»˜å’Œé‡æ’"><a href="#å‡å°‘é¡µé¢çš„é‡ç»˜å’Œé‡æ’" class="headerlink" title="å‡å°‘é¡µé¢çš„é‡ç»˜å’Œé‡æ’"></a>å‡å°‘é¡µé¢çš„é‡ç»˜å’Œé‡æ’</h4><ul>
<li>å°½é‡å‡å°‘ä½¿ç”¨ CSS å±æ€§çš„å¿«æ·æ–¹å¼ï¼šä¾‹å¦‚ï¼Œä½¿ç”¨ border-widthã€border-style å’Œ border-color è€Œä¸æ˜¯ borderã€‚CSS å±æ€§çš„å¿«æ·æ–¹å¼ä¼šå°†æ‰€æœ‰å€¼åˆå§‹åŒ–ä¸ºâ€œåˆå§‹å€¼â€ï¼Œå› æ­¤é¿å…ä½¿ç”¨å®ƒä»¬å¯ä»¥æœ€å°åŒ–é‡ç»˜å’Œå›æµï¼ˆåœ¨å®é™…å·¥ä½œä¸­ï¼ŒCSS å¿«æ·æ–¹å¼çš„æ€§èƒ½å½±å“å¾®ä¹å…¶å¾®ï¼Œå¹¶ä¸”ä½¿ç”¨å¿«æ·æ–¹å¼å¯ä»¥ç®€åŒ–æ ·å¼å¹¶è§£å†³ä¸€äº›æ ·å¼è¦†ç›–é—®é¢˜ï¼‰ã€‚</li>
<li>åœ¨ GPU ä¸Šæ¸²æŸ“åŠ¨ç”»ï¼šæµè§ˆå™¨å·²ç»ä¼˜åŒ–äº† CSS åŠ¨ç”»ï¼Œä½¿å…¶é€‚ç”¨äºè§¦å‘åŠ¨ç”»å±æ€§çš„é‡ç»˜ï¼ˆå› æ­¤ä¹ŸåŒ…æ‹¬å›æµï¼‰ã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼Œå°†å…·æœ‰åŠ¨ç”»æ•ˆæœçš„å…ƒç´ ç§»åŠ¨åˆ° GPU ä¸Šã€‚å¯ä»¥è§¦å‘ GPU ç¡¬ä»¶åŠ é€Ÿçš„ CSS å±æ€§åŒ…æ‹¬ transformã€filterã€will-change å’Œ position:fixedã€‚åŠ¨ç”»å°†åœ¨ GPU ä¸Šå¤„ç†ï¼Œæé«˜æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼ˆä½†é¿å…è¿‡åº¦ä½¿ç”¨ï¼Œå› ä¸ºå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼‰ã€‚</li>
<li>ä½¿ç”¨ will-change CSS å±æ€§æ¥æé«˜æ€§èƒ½ï¼šå®ƒé€šçŸ¥æµè§ˆå™¨å…ƒç´ éœ€è¦ä¿®æ”¹çš„å±æ€§ï¼Œä½¿æµè§ˆå™¨èƒ½å¤Ÿåœ¨å®é™…æ›´æ”¹ä¹‹å‰è¿›è¡Œä¼˜åŒ–ï¼ˆä½†é¿å…è¿‡åº¦ä½¿ç”¨ will-changeï¼›åœ¨åŠ¨ç”»ä¸­é‡åˆ°æ€§èƒ½é—®é¢˜æ—¶è€ƒè™‘ä½¿ç”¨å®ƒï¼‰ã€‚</li>
<li>é€šè¿‡æ›´æ”¹ className æ‰¹é‡ä¿®æ”¹å…ƒç´ æ ·å¼ã€‚</li>
<li>å°†å¤æ‚çš„åŠ¨ç”»å…ƒç´ å®šä½ä¸º fixed æˆ– absolute ä»¥é˜²æ­¢å›æµã€‚</li>
<li>é¿å…ä½¿ç”¨è¡¨æ ¼å¸ƒå±€ï¼šå› ä¸ºåœ¨è¡¨æ ¼å…ƒç´ ä¸Šè§¦å‘å›æµä¼šå¯¼è‡´å…¶ä¸­æ‰€æœ‰å…¶ä»–å…ƒç´ çš„å›æµã€‚</li>
<li>ä½¿ç”¨ translate è€Œä¸æ˜¯ä¿®æ”¹ top å±æ€§æ¥ä¸Šä¸‹ç§»åŠ¨ DOM å…ƒç´ ã€‚</li>
<li>åˆ›å»ºå¤šä¸ª DOM èŠ‚ç‚¹æ—¶ï¼Œä½¿ç”¨ DocumentFragment è¿›è¡Œä¸€æ¬¡æ€§åˆ›å»ºã€‚</li>
<li>å¿…è¦æ—¶ä¸ºå…ƒç´ å®šä¹‰é«˜åº¦æˆ–æœ€å°é«˜åº¦ï¼šæ²¡æœ‰æ˜¾å¼é«˜åº¦ï¼ŒåŠ¨æ€å†…å®¹åŠ è½½å¯èƒ½ä¼šå¯¼è‡´é¡µé¢å…ƒç´ ç§»åŠ¨æˆ–è·³åŠ¨ï¼Œä»è€Œå¯¼è‡´å›æµï¼ˆä¾‹å¦‚ï¼Œä¸ºå›¾åƒå®šä¹‰å®½åº¦å’Œé«˜åº¦ä»¥é˜²æ­¢å¸ƒå±€å˜åŒ–å¹¶å‡å°‘å›æµï¼‰ã€‚</li>
<li>å°½é‡å‡å°‘æ·±åº¦åµŒå¥—æˆ–å¤æ‚é€‰æ‹©å™¨çš„ä½¿ç”¨ï¼Œä»¥æé«˜ CSS æ¸²æŸ“æ•ˆç‡ã€‚</li>
<li>å¯¹å…ƒç´ è¿›è¡Œé‡å¤§æ ·å¼æ›´æ”¹æ—¶ï¼Œæš‚æ—¶ä½¿ç”¨ display:none éšè—å®ƒä»¬ï¼Œè¿›è¡Œæ›´æ”¹ï¼Œç„¶åå°†å®ƒä»¬è®¾ç½®å› display:blockã€‚è¿™æ ·å¯ä»¥æœ€å°åŒ–å›æµï¼Œåªéœ€ä¸¤æ¬¡å³å¯ã€‚</li>
<li>ä½¿ç”¨ contain CSS å±æ€§å°†å…ƒç´ åŠå…¶å†…å®¹ä¸æ–‡æ¡£æµéš”ç¦»ï¼Œé˜²æ­¢å…¶è¾¹ç•Œæ¡†å¤–æ„å¤–å‰¯ä½œç”¨çš„å‘ç”Ÿã€‚</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/03/30/liu-lan-qi-zhong-de-chong-hui-he-chong-pai/">æµè§ˆå™¨ä¸­çš„é‡ç»˜å’Œé‡æ’ | QT-7274 (qblog.top)</a></p>
<h3 id="ä»€ä¹ˆæ˜¯reflow"><a href="#ä»€ä¹ˆæ˜¯reflow" class="headerlink" title="ä»€ä¹ˆæ˜¯reflow"></a>ä»€ä¹ˆæ˜¯reflow</h3><p>æç¤ºï¼š</p>
<ul>
<li>æœ¬è´¨</li>
<li><strong>åˆå¹¶</strong></li>
<li>å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ï¼Ÿ</li>
<li><strong>å¸ƒå±€æŠ–åŠ¨</strong></li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/10/08/liu-lan-qi-xiang-guan-xi-jie-ti-3/#ä¸ºä»€ä¹ˆ-transform-çš„æ•ˆç‡é«˜ï¼Ÿ">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ3ï¼‰ | QT-7274 (qblog.top)</a></p>
<h3 id="Webæ”»å‡»æ–¹å¼"><a href="#Webæ”»å‡»æ–¹å¼" class="headerlink" title="Webæ”»å‡»æ–¹å¼"></a>Webæ”»å‡»æ–¹å¼</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li><p>å…¨ç§°ï¼šXSSï¼ŒCSRFï¼ŒSQLæ³¨å…¥</p>
</li>
<li><p>XSSï¼š</p>
<ul>
<li><p>æ”»å‡»ç›®æ ‡ï¼šç›—å–æ•æ„Ÿä¿¡æ¯</p>
</li>
<li><p>æ”»å‡»ç±»å‹ï¼šå­˜å‚¨å‹ï¼ˆæ•°æ®åº“ä¸­ï¼‰ï¼Œåå°„å‹ï¼ˆURLä¸­ï¼‰ï¼ŒDOMå‹ï¼ˆç”±æµè§ˆå™¨ç«¯å–å‡ºï¼‰</p>
</li>
<li><p>é¢„é˜²æªæ–½ï¼š</p>
<ul>
<li><p>è¾“å…¥æ£€æŸ¥ï¼šä¸ºäº†é˜²æ­¢æ½œåœ¨çš„å®‰å…¨å¨èƒï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¾“å…¥å†…å®¹è¿›è¡Œè½¬ä¹‰æˆ–è¿‡æ»¤ï¼Œç‰¹åˆ«æ˜¯åƒ <code>script</code> å’Œ <code>&lt;iframe&gt;</code> è¿™æ ·çš„æ ‡ç­¾ã€‚</p>
</li>
<li><p>è®¾ç½® <code>httpOnly</code>ï¼šå¤§éƒ¨åˆ† XSS æ”»å‡»çš„ç›®æ ‡æ˜¯çªƒå–ç”¨æˆ·çš„ cookie ä»¥ä¼ªé€ èº«ä»½è®¤è¯ã€‚é€šè¿‡è®¾ç½® <code>httpOnly</code> å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é˜²æ­¢è„šæœ¬è·å–ç”¨æˆ·çš„ cookieã€‚</p>
<blockquote>
<p>å½“è®¾ç½®äº† <code>httpOnly</code> æ ‡å¿—åï¼Œè¿™ä¸ª Cookie å°±ä¸èƒ½é€šè¿‡å®¢æˆ·ç«¯çš„ JavaScript æ¥è®¿é—®äº†ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿æ”»å‡»è€…èƒ½å¤Ÿé€šè¿‡ XSS æ”»å‡»åœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­æ‰§è¡Œæ¶æ„è„šæœ¬ï¼Œä»–ä»¬ä¹Ÿæ— æ³•è¯»å–åˆ°æ ‡è®°ä¸º <code>httpOnly</code> çš„ Cookieã€‚è¿™æ ·å°±å¯ä»¥é˜²æ­¢æ”»å‡»è€…é€šè¿‡ XSS æ”»å‡»çªƒå–ç”¨æˆ·çš„ Cookie ä¿¡æ¯ã€‚</p>
</blockquote>
</li>
<li><p>å¼€å¯ CSPï¼šCSPï¼Œä¹Ÿå°±æ˜¯å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬é˜»æ­¢éç™½åå•èµ„æºçš„åŠ è½½å’Œè¿è¡Œã€‚é€šè¿‡å¼€å¯ CSPï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æé«˜ç½‘ç«™çš„å®‰å…¨æ€§ã€‚</p>
<blockquote>
<p>CSP é€šè¿‡æŒ‡å®šå“ªäº›å†…å®¹æ˜¯å¯ä¿¡çš„ï¼Œå¯ä»¥é™åˆ¶ç½‘é¡µä¸­å¯ä»¥åŠ è½½å’Œæ‰§è¡Œçš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æŒ‡å®šåªå…è®¸åŠ è½½å’Œæ‰§è¡Œæ¥è‡ªç‰¹å®šæºçš„è„šæœ¬ï¼Œæˆ–è€…ç¦æ­¢æ‰§è¡Œå†…è”è„šæœ¬ã€‚</p>
<p>CSP é€šè¿‡ HTTP çš„ <code>Content-Security-Policy</code> å“åº”å¤´æ¥è®¾ç½®ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„ CSP è®¾ç½®åªå…è®¸ä»å½“å‰æºåŠ è½½è„šæœ¬ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">Content-Security-Policy: script-src &#39;self&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¦‚æœç½‘é¡µä¸­æœ‰è¯•å›¾åŠ è½½æˆ–æ‰§è¡Œä¸ç¬¦åˆ CSP çš„å†…å®¹ï¼Œæµè§ˆå™¨ä¼šé˜»æ­¢è¿™ä¸ªæ“ä½œï¼Œå¹¶åœ¨æ§åˆ¶å°ä¸­æŠ¥å‘Šé”™è¯¯ã€‚</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>CSRFï¼š</p>
<ul>
<li>æ”»å‡»ç›®æ ‡ï¼šå†’å……ç”¨æˆ·å¯¹è¢«æ”»å‡»çš„ç½‘ç«™æ‰§è¡Œæ“ä½œ</li>
<li>æ”»å‡»æµç¨‹ï¼šç™»å½•aç½‘ç«™ - è¿›å…¥bç½‘ç«™ - å†’å……ç”¨æˆ·å‘aç½‘ç«™å‘èµ·è¯·æ±‚ - aç½‘ç«™è¯¯è®¤ä¸ºæ˜¯ç”¨æˆ·è¯·æ±‚ - æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œ</li>
<li>æ”»å‡»ç‰¹ç‚¹ï¼šå‘èµ·ä½ç½® - ä¸æ˜¯ç›´æ¥çªƒå– - å†’ç”¨è€Œä¸æ˜¯è·å– - å„ç§æ–¹å¼</li>
<li>é¢„é˜²æªæ–½ï¼š<ul>
<li>æœåŠ¡ç«¯æ·»åŠ  <code>X-Frame-Options</code> å“åº”å¤´ï¼šè¿™æ˜¯ä¸€ä¸ª HTTP å“åº”å¤´ï¼Œä¸»è¦ç”¨äºé˜²å¾¡é€šè¿‡ <code>&lt;iframe&gt;</code> åµŒå¥—è¿›è¡Œçš„ç‚¹å‡»åŠ«æŒæ”»å‡»ã€‚è®¾ç½®äº†è¿™ä¸ªå“åº”å¤´åï¼Œæµè§ˆå™¨ä¼šé˜»æ­¢éæ³•åµŒå…¥çš„ç½‘é¡µæ¸²æŸ“ã€‚</li>
<li>ä½¿ç”¨ JavaScript åˆ¤æ–­é¡¶å±‚è§†å£çš„åŸŸåï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯”è¾ƒ <code>top.location.hostname</code> å’Œ <code>self.location.hostname</code> æ¥åˆ¤æ–­é¡¶å±‚è§†å£çš„åŸŸåæ˜¯å¦ä¸å½“å‰é¡µé¢çš„åŸŸåä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œæˆ‘ä»¬å°±ä¸å…è®¸è¿›è¡Œæ“ä½œã€‚</li>
<li>å¯¹æ•æ„Ÿæ“ä½œä½¿ç”¨æ›´å¤æ‚çš„æ­¥éª¤ï¼šå¯¹äºä¸€äº›æ•æ„Ÿçš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ æ“ä½œçš„å¤æ‚æ€§æ¥æé«˜å®‰å…¨æ€§ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨éªŒè¯ç ï¼Œæˆ–è€…åœ¨åˆ é™¤é¡¹ç›®ä¹‹å‰éœ€è¦è¾“å…¥é¡¹ç›®åç§°ç­‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/JavaScript/security.html#ä¸€ã€æ˜¯ä»€ä¹ˆ">é¢è¯•å®˜ï¼šwebå¸¸è§çš„æ”»å‡»æ–¹å¼æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é˜²å¾¡ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li>åŒæºç­–ç•¥</li>
<li>é‰´æƒ</li>
</ul>
<h3 id="æµè§ˆå™¨ç¼“å­˜"><a href="#æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜"></a>æµè§ˆå™¨ç¼“å­˜</h3><blockquote>
<p>è…¾è®¯ã€æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å¼ºç¼“å­˜ï¼š<code>Expires</code> <code>Cache-Control</code></li>
<li>åå•†ç¼“å­˜ï¼š<code>Etag</code> <code>If-None-Match</code></li>
<li>ä¸ºä»€ä¹ˆè¿˜éœ€è¦ <code>Etag</code></li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/12/liu-lan-qi-huan-cun-xiang-jie/">æµè§ˆå™¨ç¼“å­˜è¯¦è§£ | QT-7274 (qblog.top)</a></p>
<h3 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>å››æ¬¡æŒ¥æ‰‹æ˜¯ TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰ç”¨æ¥ç»ˆæ­¢ä¸€ä¸ªå·²ç»è¢«å»ºç«‹çš„è¿æ¥çš„è¿‡ç¨‹ã€‚å®ƒåŒ…æ‹¬ä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹</strong>ï¼šå®¢æˆ·ç«¯å‘é€ä¸€ä¸ª FIN åŒ…ç»™æœåŠ¡å™¨ï¼Œè¡¨ç¤ºå®ƒå·²ç»å®Œæˆäº†æ•°æ®çš„å‘é€ï¼Œè¦å…³é—­è¿æ¥ã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯è¿›å…¥ FIN-WAIT-1 çŠ¶æ€ã€‚</li>
<li><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹</strong>ï¼šæœåŠ¡å™¨æ”¶åˆ° FIN åŒ…åï¼Œä¼šå‘é€ä¸€ä¸ª ACK åŒ…ç»™å®¢æˆ·ç«¯ï¼Œè¡¨ç¤ºå®ƒçŸ¥é“å®¢æˆ·ç«¯è¦å…³é—­è¿æ¥äº†ã€‚æ­¤æ—¶ï¼ŒæœåŠ¡å™¨è¿›å…¥ CLOSE-WAIT çŠ¶æ€ï¼Œå®¢æˆ·ç«¯æ”¶åˆ° ACK åŒ…åï¼Œè¿›å…¥ FIN-WAIT-2 çŠ¶æ€ã€‚</li>
<li><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹</strong>ï¼šæœåŠ¡å™¨å®Œæˆæœ€åçš„æ•°æ®å‘é€åï¼Œä¹Ÿä¼šå‘é€ä¸€ä¸ª FIN åŒ…ç»™å®¢æˆ·ç«¯ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œå‡†å¤‡å…³é—­è¿æ¥ã€‚æ­¤æ—¶ï¼ŒæœåŠ¡å™¨è¿›å…¥ LAST-ACK çŠ¶æ€ã€‚</li>
<li><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹</strong>ï¼šå®¢æˆ·ç«¯æ”¶åˆ° FIN åŒ…åï¼Œä¹Ÿä¼šå‘é€ä¸€ä¸ª ACK åŒ…ç»™æœåŠ¡å™¨ï¼Œç„¶åè¿›å…¥ TIME-WAIT çŠ¶æ€ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå¦‚æœæ²¡æœ‰æ”¶åˆ°æœåŠ¡å™¨çš„å†æ¬¡è¯·æ±‚ï¼Œå°±å…³é—­è¿æ¥ã€‚æœåŠ¡å™¨æ”¶åˆ° ACK åŒ…åï¼Œå°±å…³é—­è¿æ¥ã€‚</li>
</ol>
<p>è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºå››æ¬¡æŒ¥æ‰‹ï¼Œæ˜¯å› ä¸ºåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰å››æ¬¡é‡è¦çš„æ•°æ®åŒ…çš„å‘é€ï¼šä¸¤æ¬¡ FIN åŒ…çš„å‘é€å’Œä¸¤æ¬¡ ACK åŒ…çš„å‘é€ã€‚</p>
<h3 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h3><p>æç¤ºï¼š</p>
<ul>
<li>ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼š</li>
<li>æ¯ä¸€æ¬¡æ¡æ‰‹çš„ä½œç”¨ï¼šæ¥æ”¶èƒ½åŠ›/å‘é€èƒ½åŠ›</li>
<li>ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/handshakes_waves.html#ä¸€ã€ä¸‰æ¬¡æ¡æ‰‹">é¢è¯•å®˜ï¼šè¯´è¯´TCPä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="Content-Typeå‚æ•°"><a href="#Content-Typeå‚æ•°" class="headerlink" title="Content-Typeå‚æ•°"></a>Content-Typeå‚æ•°</h3><p>HTTPåè®®å¤´ä¸­çš„<code>Content-Type</code>å‚æ•°ç”¨äºæŒ‡ç¤ºè¯·æ±‚æˆ–å“åº”ä¸­æºå¸¦çš„å®ä½“æ­£æ–‡ï¼ˆbodyï¼‰çš„MIMEç±»å‹ï¼ˆMultipurpose Internet Mail Extensionsï¼‰ã€‚å®ƒå‘Šè¯‰å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å¦‚ä½•è§£é‡Šæ­£æ–‡çš„å†…å®¹ã€‚</p>
<p>Content-Typeå‚æ•°å€¼çš„MIMEç±»å‹é€šå¸¸ä»¥type/subtypeçš„å½¢å¼è¡¨ç¤ºï¼Œå…¶ä¸­typeè¡¨ç¤ºä¸»ç±»å‹ï¼ˆTop-Level Typeï¼‰ï¼Œsubtypeè¡¨ç¤ºå­ç±»å‹ï¼ˆSubtypeï¼‰ã€‚typeæ˜¯å¹¿ä¹‰çš„æ•°æ®ç±»å‹ï¼Œè€Œsubtypeåˆ™æ›´å…·ä½“åœ°æè¿°äº†æ•°æ®çš„ç±»å‹ã€‚</p>
<p>ä»¥ä¸‹æ˜¯<code>Content-Type</code>å‚æ•°çš„ä¸€äº›å¸¸è§å–å€¼åŠå…¶å«ä¹‰ï¼š</p>
<ol>
<li><strong>text/plain</strong>ï¼šçº¯æ–‡æœ¬ï¼Œæ²¡æœ‰æŒ‡å®šä»»ä½•ç‰¹å®šçš„æ ¼å¼ã€‚</li>
<li><strong>text/html</strong>ï¼šHTMLæ ¼å¼çš„æ–‡æ¡£ï¼Œç”¨äºç½‘é¡µå†…å®¹ã€‚</li>
<li><strong>text/css</strong>ï¼šCascading Style Sheets (CSS) æ–‡ä»¶ã€‚</li>
<li><strong>application/json</strong>ï¼šJSONæ ¼å¼çš„æ•°æ®ã€‚</li>
<li><strong>application/xml</strong>ï¼šXMLæ ¼å¼çš„æ•°æ®ã€‚</li>
<li><strong>application/octet-stream</strong>ï¼šæœªçŸ¥çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œæ²¡æœ‰æŒ‡å®šç‰¹å®šçš„æ ¼å¼ã€‚</li>
<li><strong>multipart/form-data</strong>ï¼šç”¨äºHTMLè¡¨å•ä¸Šä¼ æ–‡ä»¶ç­‰å¤šéƒ¨åˆ†æ•°æ®ã€‚</li>
<li><strong>image/jpeg</strong>, <strong>image/png</strong>, <strong>image/gif</strong>ï¼šJPEGã€PNGã€GIFç­‰å›¾ç‰‡æ ¼å¼ã€‚</li>
<li><strong>audio/mpeg</strong>, <strong>audio/wav</strong>ï¼šMPEGã€WAVç­‰éŸ³é¢‘æ ¼å¼ã€‚</li>
<li><strong>video/mp4</strong>, <strong>video/mpeg</strong>ï¼šMP4ã€MPEGç­‰è§†é¢‘æ ¼å¼ã€‚</li>
</ol>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒHTTPåè®®å¤´ä¸­çš„<code>Content-Type</code>å‚æ•°å€¼å¯ä»¥åŒ…æ‹¬ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦é›†ç¼–ç éƒ¨åˆ†ï¼Œç”¨äºæŒ‡å®šæ­£æ–‡çš„å­—ç¬¦é›†ã€‚å¦‚æœæœªæŒ‡å®šå­—ç¬¦é›†ç¼–ç ï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„å­—ç¬¦é›†ç¼–ç ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæœªæŒ‡å®šå­—ç¬¦é›†ç¼–ç ï¼Œåˆ™æ ¹æ®MIMEç±»å‹çš„çº¦å®šä½¿ç”¨ä¸€äº›å¸¸è§çš„é»˜è®¤å­—ç¬¦é›†ç¼–ç ï¼š</p>
<ul>
<li>å¯¹äº<code>text/*</code>ç±»å‹çš„æ–‡æœ¬æ•°æ®ï¼Œé»˜è®¤å­—ç¬¦é›†ç¼–ç æ˜¯<code>ISO-8859-1</code>ï¼ˆä¹Ÿç§°ä¸ºLatin-1ï¼‰ã€‚</li>
<li>å¯¹äº<code>application/*</code>ç±»å‹çš„æ•°æ®ï¼Œé»˜è®¤å­—ç¬¦é›†ç¼–ç æ˜¯æ²¡æœ‰å®šä¹‰çš„ï¼Œå› ä¸ºè¿™ç§ç±»å‹é€šå¸¸åŒ…å«äºŒè¿›åˆ¶æ•°æ®æˆ–è€…ä¸ä¾èµ–äºå­—ç¬¦é›†ç¼–ç ã€‚</li>
<li>å¯¹äºå…¶ä»–ç±»å‹ï¼Œä¹Ÿå¯èƒ½æœ‰é»˜è®¤çš„å­—ç¬¦é›†ç¼–ç è§„åˆ™ã€‚</li>
</ul>
<p>å¦‚æœéœ€è¦æ˜ç¡®æŒ‡å®šå­—ç¬¦é›†ç¼–ç ï¼Œå¯ä»¥åœ¨<code>Content-Type</code>å‚æ•°å€¼ä¸­ä½¿ç”¨<code>; charset=</code>è¯­æ³•</p>
<blockquote>
<p>ç”±äºå‚æ•°è®¾ç½®çš„é—®é¢˜ç»å¸¸ä¼šå‡ºç°é”™è¯¯ï¼Œå¯¼è‡´è°ƒç”¨å¤±è´¥ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ç”±äºContent-Typeå‚æ•°å€¼è®¾ç½®ä¸å‡†ç¡®å¯¼è‡´äº†415é”™è¯¯ã€‚</p>
</blockquote>
<h3 id="å¤§æ–‡ä»¶ä¸Šä¼ å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ "><a href="#å¤§æ–‡ä»¶ä¸Šä¼ å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ " class="headerlink" title="å¤§æ–‡ä»¶ä¸Šä¼ å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ "></a>å¤§æ–‡ä»¶ä¸Šä¼ å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ </h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å®ç°æ–¹å¼ï¼šæœåŠ¡å™¨ç«¯è¿”å›ï¼Œå‘ŠçŸ¥ä»å“ªé‡Œè¿”å›ï¼›æµè§ˆå™¨ç«¯è‡ªè¡Œå¤„ç†</li>
<li>å¦‚æœä¸­é€”ä¸Šä¼ ä¸­æ–­è¿‡æ€ä¹ˆåŠï¼Ÿï¼ˆä»¥åŠå…¶ä»–å¤šä¸ªé—®é¢˜ï¼‰</li>
<li>å®ç°æ€è·¯</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2024/03/08/da-wen-jian-duan-dian-xu-chuan-wen-ti-jie-jue-fang-an/">å¤§æ–‡ä»¶æ–­ç‚¹ç»­ä¼ é—®é¢˜è§£å†³æ–¹æ¡ˆ | QT-7274 (qblog.top)</a></p>
<h3 id="Webpackç³»åˆ—"><a href="#Webpackç³»åˆ—" class="headerlink" title="Webpackç³»åˆ—"></a>Webpackç³»åˆ—</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/webpack/webpack.html#ä¸€ã€èƒŒæ™¯">é¢è¯•å®˜ï¼šè¯´è¯´ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="axiosçš„å°è£…ä¸åŸç†"><a href="#axiosçš„å°è£…ä¸åŸç†" class="headerlink" title="axiosçš„å°è£…ä¸åŸç†"></a>axiosçš„å°è£…ä¸åŸç†</h3><p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview/vue/axios.html#ä¸€ã€axiosæ˜¯ä»€ä¹ˆ">é¢è¯•å®˜ï¼šVueé¡¹ç›®ä¸­æœ‰å°è£…è¿‡axioså—ï¼Ÿä¸»è¦æ˜¯å°è£…å“ªæ–¹é¢çš„ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></li>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview/vue/axiosCode.html">é¢è¯•å®˜ï¼šä½ äº†è§£axiosçš„åŸç†å—ï¼Ÿæœ‰çœ‹è¿‡å®ƒçš„æºç å—ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></li>
</ul>
<h3 id="æµè§ˆå™¨çš„å­˜å‚¨"><a href="#æµè§ˆå™¨çš„å­˜å‚¨" class="headerlink" title="æµè§ˆå™¨çš„å­˜å‚¨"></a>æµè§ˆå™¨çš„å­˜å‚¨</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/liu-lan-qi-xiang-guan-xi-jie-ti-1/#â—Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ1ï¼‰ | QT-7274 (qblog.top)</a></p>
<h3 id="NginxåŸç†åŠç›¸å…³"><a href="#NginxåŸç†åŠç›¸å…³" class="headerlink" title="NginxåŸç†åŠç›¸å…³"></a>NginxåŸç†åŠç›¸å…³</h3><ul>
<li><p>æ­£å‘ä»£ç†ï¼šå®ƒä»£ç†çš„æ˜¯å®¢æˆ·ç«¯ï¼Œæ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨ï¼ˆOrigin Serverï¼‰ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨è·å–å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡ï¼ˆåŸå§‹æœåŠ¡å™¨ï¼‰ã€‚</p>
<blockquote>
<p>æ­£å‘ä»£ç†æœ€å¤§çš„ç‰¹ç‚¹æ˜¯å®¢æˆ·ç«¯éå¸¸æ˜ç¡®è¦è®¿é—®çš„æœåŠ¡å™¨åœ°å€ï¼›æœåŠ¡å™¨åªæ¸…æ¥šè¯·æ±‚æ¥è‡ªå“ªä¸ªä»£ç†æœåŠ¡å™¨ï¼Œè€Œä¸æ¸…æ¥šæ¥è‡ªå“ªä¸ªå…·ä½“çš„å®¢æˆ·ç«¯ã€‚</p>
</blockquote>
</li>
<li><p>åå‘ä»£ç†ï¼šå®ƒä»£ç†çš„æ˜¯æœåŠ¡ç«¯ï¼Œä¸»è¦ç”¨äºæœåŠ¡å™¨é›†ç¾¤åˆ†å¸ƒå¼éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼Œåå‘ä»£ç†éšè—äº†æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚</p>
<blockquote>
<p>åå‘ä»£ç†çš„ä½œç”¨ï¼š</p>
<ul>
<li><p>ä¿è¯å†…ç½‘çš„å®‰å…¨ï¼Œé€šå¸¸å°†åå‘ä»£ç†ä½œä¸ºå…¬ç½‘è®¿é—®åœ°å€ï¼ŒWeb æœåŠ¡å™¨æ˜¯å†…ç½‘ã€‚</p>
</li>
<li><p>è´Ÿè½½å‡è¡¡ï¼Œé€šè¿‡åå‘ä»£ç†æœåŠ¡å™¨æ¥ä¼˜åŒ–ç½‘ç«™çš„è´Ÿè½½ã€‚</p>
</li>
</ul>
</blockquote>
</li>
<li><p>è´Ÿè½½å‡è¡¡ï¼š</p>
<blockquote>
<p>Nginx æ”¯æŒçš„è´Ÿè½½å‡è¡¡è°ƒåº¦ç®—æ³•æ–¹å¼å¦‚ä¸‹ï¼š </p>
<p>weight è½®è¯¢ï¼ˆé»˜è®¤ï¼‰ï¼šæ¥æ”¶åˆ°çš„è¯·æ±‚æŒ‰ç…§é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå³ä½¿åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼ŒæŸä¸€å°åç«¯æœåŠ¡å™¨å®•æœºï¼ŒNginx ä¼šè‡ªåŠ¨å°†è¯¥æœåŠ¡å™¨å‰”é™¤å‡ºé˜Ÿåˆ—ï¼Œè¯·æ±‚å—ç†æƒ…å†µä¸ä¼šå—åˆ°ä»»ä½•å½±å“ã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œå¯ä»¥ç»™ä¸åŒçš„åç«¯æœåŠ¡å™¨è®¾ç½®ä¸€ä¸ªæƒé‡å€¼ï¼ˆweightï¼‰ï¼Œç”¨äºè°ƒæ•´ä¸åŒçš„æœåŠ¡å™¨ä¸Šè¯·æ±‚çš„åˆ†é…ç‡ã€‚ </p>
<p>  <strong>æƒé‡æ•°æ®è¶Šå¤§ï¼Œè¢«åˆ†é…åˆ°è¯·æ±‚çš„å‡ ç‡è¶Šå¤§ï¼›è¯¥æƒé‡å€¼ï¼Œä¸»è¦æ˜¯é’ˆå¯¹å®é™…å·¥ä½œç¯å¢ƒä¸­ä¸åŒçš„åç«¯æœåŠ¡å™¨ç¡¬ä»¶é…ç½®è¿›è¡Œè°ƒæ•´çš„ã€‚</strong> </p>
<p>  ip_hashï¼šæ¯ä¸ªè¯·æ±‚æŒ‰ç…§å‘èµ·å®¢æˆ·ç«¯çš„ ip çš„ hash ç»“æœè¿›è¡ŒåŒ¹é…ï¼Œè¿™æ ·çš„ç®—æ³•ä¸‹ä¸€ä¸ªå›ºå®š ip åœ°å€çš„å®¢æˆ·ç«¯æ€»ä¼šè®¿é—®åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œè¿™ä¹Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†é›†ç¾¤éƒ¨ç½²ç¯å¢ƒä¸‹ Session å…±äº«çš„é—®é¢˜ã€‚ </p>
<p>  fairï¼šæ™ºèƒ½è°ƒæ•´è°ƒåº¦ç®—æ³•ï¼ŒåŠ¨æ€çš„æ ¹æ®åç«¯æœåŠ¡å™¨çš„è¯·æ±‚å¤„ç†åˆ°å“åº”çš„æ—¶é—´è¿›è¡Œå‡è¡¡åˆ†é…ã€‚ </p>
<p>  <strong>å“åº”æ—¶é—´çŸ­å¤„ç†æ•ˆç‡é«˜çš„æœåŠ¡å™¨åˆ†é…åˆ°è¯·æ±‚çš„æ¦‚ç‡é«˜ï¼Œå“åº”æ—¶é—´é•¿å¤„ç†æ•ˆç‡ä½çš„æœåŠ¡å™¨åˆ†é…åˆ°çš„è¯·æ±‚å°‘ï¼Œ</strong>å®ƒæ˜¯ç»“åˆäº†å‰ä¸¤è€…çš„ä¼˜ç‚¹çš„ä¸€ç§è°ƒåº¦ç®—æ³•ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ Nginx é»˜è®¤ä¸æ”¯æŒ fair ç®—æ³•ï¼Œå¦‚æœè¦ä½¿ç”¨è¿™ç§è°ƒåº¦ç®—æ³•ï¼Œè¯·å®‰è£… upstream_fair æ¨¡å—ã€‚ </p>
<p>  url_hashï¼šæŒ‰ç…§è®¿é—®çš„ URL çš„ hash ç»“æœåˆ†é…è¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚çš„ URL ä¼šæŒ‡å‘åç«¯å›ºå®šçš„æŸä¸ªæœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨ Nginx ä½œä¸ºé™æ€æœåŠ¡å™¨çš„æƒ…å†µä¸‹æé«˜ç¼“å­˜æ•ˆç‡ã€‚æ³¨æ„ Nginx é»˜è®¤ä¸æ”¯æŒè¿™ç§è°ƒåº¦ç®—æ³•ï¼Œè¦ä½¿ç”¨çš„è¯éœ€è¦å®‰è£… Nginx çš„ hash è½¯ä»¶åŒ…ã€‚</p>
</blockquote>
</li>
</ul>
<p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.nowcoder.com/discuss/597100200385101824?sourceSSR=search">æ·±å…¥ç†è§£ Nginxï¼šåŸç†å’ŒåŸºç¡€ä»‹ç»_ç‰›å®¢ç½‘ (nowcoder.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.nowcoder.com/discuss/403943599912611840?sourceSSR=search">ä»€ä¹ˆæ˜¯nginx_ç‰›å®¢ç½‘ (nowcoder.com)</a></li>
</ul>
<h2 id="JavaScriptç›¸å…³"><a href="#JavaScriptç›¸å…³" class="headerlink" title="JavaScriptç›¸å…³"></a>JavaScriptç›¸å…³</h2><h3 id="for-ofå’Œfor-in"><a href="#for-ofå’Œfor-in" class="headerlink" title="for...ofå’Œfor...in"></a><code>for...of</code>å’Œ<code>for...in</code></h3><p><code>for...of</code>å’Œ<code>for...in</code>éƒ½æ˜¯JavaScriptä¸­çš„å¾ªç¯ç»“æ„ï¼Œä½†å®ƒä»¬çš„ç”¨é€”å’Œè¡Œä¸ºæ˜¯ä¸åŒçš„ã€‚</p>
<p><code>for...of</code>å¾ªç¯ç”¨äºéå†å¯è¿­ä»£çš„å¯¹è±¡ï¼ˆå¦‚æ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼ŒMapï¼ŒSetç­‰ï¼‰çš„å…ƒç´ ã€‚å®ƒä¼šæŒ‰ç…§å¯è¿­ä»£å¯¹è±¡çš„é¡ºåºéå†å…ƒç´ ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">let arr &#x3D; [1, 2, 3];

for (let value of arr) &#123;

 console.log(value); *&#x2F;&#x2F; è¾“å‡º 1, 2, 3*

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>for...in</code>å¾ªç¯ç”¨äºéå†å¯¹è±¡çš„å¯æšä¸¾å±æ€§ã€‚å®ƒä¼šæŒ‰ç…§å¯¹è±¡å±æ€§çš„é¡ºåºéå†å±æ€§åã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">let obj &#x3D; &#123;a: 1, b: 2, c: 3&#125;;

for (let key in obj) &#123;

 console.log(key); *&#x2F;&#x2F; è¾“å‡º &#39;a&#39;, &#39;b&#39;, &#39;c&#39;*

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>for...in</code>ä¼šéå†å¯¹è±¡çš„åŸå‹é“¾ï¼Œæ‰€ä»¥å®ƒå¯èƒ½ä¼šéå†åˆ°ä½ ä¸æœŸæœ›çš„å±æ€§ã€‚å¦‚æœä½ åªæƒ³éå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>Object.prototype.hasOwnProperty()</code>æ–¹æ³•è¿›è¡Œæ£€æŸ¥ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">*</span><span class="token comment">// è¾“å‡º 'a', 'b', 'c'*</span>
 <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ€»çš„æ¥è¯´ï¼Œ<code>for...of</code>å’Œ<code>for...in</code>éƒ½æ˜¯éå†ç»“æ„ï¼Œä½†<code>for...of</code>ä¸»è¦ç”¨äºéå†å¯è¿­ä»£çš„å¯¹è±¡ï¼Œè€Œ<code>for...in</code>ä¸»è¦ç”¨äºéå†å¯¹è±¡çš„å¯æšä¸¾å±æ€§ã€‚</p>
<h3 id="var-let-constï¼Œconstå£°æ˜çš„å¯¹è±¡å¯ä»¥ä¿®æ”¹å±æ€§å—ï¼Ÿ"><a href="#var-let-constï¼Œconstå£°æ˜çš„å¯¹è±¡å¯ä»¥ä¿®æ”¹å±æ€§å—ï¼Ÿ" class="headerlink" title="var let constï¼Œconstå£°æ˜çš„å¯¹è±¡å¯ä»¥ä¿®æ”¹å±æ€§å—ï¼Ÿ"></a>var let constï¼Œconstå£°æ˜çš„å¯¹è±¡å¯ä»¥ä¿®æ”¹å±æ€§å—ï¼Ÿ</h3><p><code>var</code>ï¼Œ<code>let</code>å’Œ<code>const</code>éƒ½æ˜¯JavaScriptä¸­çš„å˜é‡å£°æ˜å…³é”®å­—ï¼Œä½†å®ƒä»¬çš„è¡Œä¸ºæ˜¯ä¸åŒçš„ã€‚</p>
<p><code>var</code>æ˜¯æœ€æ—©çš„å˜é‡å£°æ˜å…³é”®å­—ï¼Œå®ƒæ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œåªæœ‰å‡½æ•°çº§ä½œç”¨åŸŸã€‚</p>
<p><code>let</code>å’Œ<code>const</code>æ˜¯ES6å¼•å…¥çš„æ–°çš„å˜é‡å£°æ˜å…³é”®å­—ï¼Œå®ƒä»¬éƒ½æœ‰å—çº§ä½œç”¨åŸŸçš„æ¦‚å¿µã€‚</p>
<p><code>const</code>ç”¨äºå£°æ˜å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå…¶å€¼å°±ä¸èƒ½æ”¹å˜ã€‚ä½†æ˜¯ï¼Œå¦‚æœ<code>const</code>å£°æ˜çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½ å¯ä»¥ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„å±æ€§ã€‚è¿™æ˜¯å› ä¸º<code>const</code>åªä¿è¯å˜é‡çš„å¼•ç”¨ä¸å˜ï¼Œè€Œä¸ä¿è¯å¯¹è±¡çš„å†…å®¹ä¸å˜ã€‚</p>
<h3 id="newæ“ä½œç¬¦çš„å·¥ä½œ"><a href="#newæ“ä½œç¬¦çš„å·¥ä½œ" class="headerlink" title="newæ“ä½œç¬¦çš„å·¥ä½œ"></a>newæ“ä½œç¬¦çš„å·¥ä½œ</h3><ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ã€‚</li>
<li>å°†æ–°å¯¹è±¡çš„åŸå‹é“¾æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚</li>
<li>å°†æ„é€ å‡½æ•°çš„ <code>this</code> æŒ‡å‘æ–°å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°ã€‚</li>
<li>å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™è¿”å›æ–°å¯¹è±¡ã€‚</li>
</ol>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/20/javascript-zhong-new-cao-zuo-fu-xiang-jie/#æµç¨‹">JavaScriptä¸­newæ“ä½œç¬¦è¯¦è§£ | QT-7274 (qblog.top)</a></p>
<h3 id="scriptçš„asyncå’Œdeferå±æ€§"><a href="#scriptçš„asyncå’Œdeferå±æ€§" class="headerlink" title="scriptçš„asyncå’Œdeferå±æ€§"></a>scriptçš„asyncå’Œdeferå±æ€§</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<ul>
<li>deferå±æ€§ç”¨äºå¼‚æ­¥åŠ è½½å¤–éƒ¨JavaScriptæ–‡ä»¶ï¼Œå½“å¼‚æ­¥åŠ è½½å®Œæˆåï¼Œ<strong>è¯¥å¤–éƒ¨JavaScriptæ–‡ä»¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ç­‰åˆ°æ•´ä¸ªHTMLæ–‡æ¡£åŠ è½½å®Œæˆæ‰ä¼šæ‰§è¡Œã€‚</strong></li>
<li>asyncå±æ€§ç”¨äºå¼‚æ­¥åŠ è½½å¤–éƒ¨JavaScriptæ–‡ä»¶ï¼Œå½“å¼‚æ­¥åŠ è½½å®Œæˆåï¼Œ<strong>è¯¥å¤–éƒ¨JavaScriptæ–‡ä»¶ä¼šç«‹å³æ‰§è¡Œï¼Œå³ä½¿æ•´ä¸ªHTMLæ–‡æ¡£è¿˜æ²¡æœ‰åŠ è½½å®Œæˆã€‚</strong></li>
</ul>
<h3 id="æ•°æ®ç±»å‹åˆ¤æ–­"><a href="#æ•°æ®ç±»å‹åˆ¤æ–­" class="headerlink" title="æ•°æ®ç±»å‹åˆ¤æ–­"></a>æ•°æ®ç±»å‹åˆ¤æ–­</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>typeof çš„è¿”å›å€¼ï¼Œå­˜åœ¨çš„ç¼ºç‚¹ï¼ˆ<strong>æ³¨æ„nullçš„ç‰¹æ®Šæ€§</strong>ï¼‰</li>
<li>instanceof çš„è¿”å›å€¼ï¼Œå­˜åœ¨çš„ç¼ºç‚¹</li>
<li>é€šç”¨æ–¹æ³•</li>
</ul>
<p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/09/20/javascript-zhong-de-lei-xing-pan-duan-xiang-jie/#instanceof">JavaScriptä¸­çš„ç±»å‹åˆ¤æ–­è¯¦è§£ | QT-7274 (qblog.top)</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/7217773631371477029?searchId=20240417191023AE18AFE7B451101EA936">Object.prototype.toString - æ˜é‡‘ (juejin.cn)</a></li>
</ul>
<h4 id="ä¸ºä»€ä¹ˆObject-prototype-toStringæ–¹æ³•ä½¿ç”¨æ—¶è¦ä½¿ç”¨callæ–¹æ³•"><a href="#ä¸ºä»€ä¹ˆObject-prototype-toStringæ–¹æ³•ä½¿ç”¨æ—¶è¦ä½¿ç”¨callæ–¹æ³•" class="headerlink" title="ä¸ºä»€ä¹ˆObject.prototype.toStringæ–¹æ³•ä½¿ç”¨æ—¶è¦ä½¿ç”¨callæ–¹æ³•"></a>ä¸ºä»€ä¹ˆ<code>Object.prototype.toString</code>æ–¹æ³•ä½¿ç”¨æ—¶è¦ä½¿ç”¨<code>call</code>æ–¹æ³•</h4><p>åœ¨ä¸Šé¢çš„æ‰§è¡Œæ­¥éª¤ä¸­ç‰¹åˆ«å¼ºè°ƒäº†<strong>this</strong>ï¼Œå½“ç›´æ¥ä½¿ç”¨<code>Object.prototype.toString</code>æ–¹æ³•æ—¶ï¼Œ<strong>this</strong>çš„å€¼æ˜¯<strong>Object</strong>æœ¬èº«ï¼Œæ‰§è¡Œç»“æœä¹Ÿå°±æ˜¯<code>&quot;[object Object]&quot;</code>å­—ç¬¦ä¸²ã€‚</p>
<p>è€Œå½“ä½¿ç”¨<strong>call</strong>æ–¹æ³•æ—¶ï¼Œå°±ä¿®æ”¹äº†<code>Object.prototype.toString</code>æ–¹æ³•çš„<strong>this</strong>å€¼ï¼Œæ­¤æ—¶<strong>this</strong>çš„å€¼å°±æ˜¯<strong>call</strong>æ–¹æ³•çš„å‚æ•°ã€‚</p>
<h3 id="æ•°æ®ç›¸åŒåˆ¤æ–­"><a href="#æ•°æ®ç›¸åŒåˆ¤æ–­" class="headerlink" title="æ•°æ®ç›¸åŒåˆ¤æ–­"></a>æ•°æ®ç›¸åŒåˆ¤æ–­</h3><ol>
<li><p>ç›¸ç­‰æ¯”è¾ƒï¼ˆ==ï¼‰ï¼š</p>
<ol>
<li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ç±»å‹ç›¸åŒï¼Œæ‰§è¡Œä¸¥æ ¼æ¯”è¾ƒã€‚</li>
<li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ç±»å‹ä¸åŒï¼Œåˆ™è¿›è¡Œ<strong>ç±»å‹è½¬æ¢å</strong>å†è¿›è¡Œæ¯”è¾ƒï¼š<ul>
<li>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼ˆnumberï¼‰ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å°†<strong>å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼</strong>ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒ</li>
<li>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™å°†<strong>å¸ƒå°”å€¼è½¬æ¢ä¸ºæ•°å€¼</strong>ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒ</li>
<li>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼æˆ–å­—ç¬¦ä¸²ï¼Œåˆ™å°†<strong>å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼</strong>ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒ<ul>
<li>ä¼šé¦–å…ˆè°ƒç”¨å¯¹è±¡çš„ <code>valueOf()</code> æ–¹æ³•ï¼Œå°†å¯¹è±¡è½¬åŒ–ä¸ºåŸºæœ¬ç±»å‹ï¼Œå†è¿›è¡Œæ¯”è¾ƒ</li>
<li>å½“ <code>valueOf()</code> è¿”å›çš„ä¸æ˜¯åŸºæœ¬ç±»å‹æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ <code>toString()</code> æ–¹æ³•</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p>ç›¸ç­‰æ¯”è¾ƒï¼ˆ===ï¼‰ï¼š</p>
<ul>
<li><p>åŸºæœ¬æ•°æ®ç±»å‹</p>
<p>åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ã€<code>null</code>ã€<code>undefined</code> å’Œ <code>symbol</code>ï¼‰åœ¨æ¯”è¾ƒæ—¶ï¼Œæ˜¯æ¯”è¾ƒå®ƒä»¬çš„å€¼ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">console.log(1 &#x3D;&#x3D;&#x3D; 1); &#x2F;&#x2F; è¾“å‡ºï¼štrue
console.log(&#39;abc&#39; &#x3D;&#x3D;&#x3D; &#39;abc&#39;); &#x2F;&#x2F; è¾“å‡ºï¼štrue<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>å¼•ç”¨æ•°æ®ç±»å‹</p>
<p>å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå¦‚å¯¹è±¡ã€æ•°ç»„å’Œå‡½æ•°ï¼‰åœ¨æ¯”è¾ƒæ—¶ï¼Œæ˜¯æ¯”è¾ƒå®ƒä»¬çš„å¼•ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹å®Œå…¨ç›¸åŒï¼Œå®ƒä»¬ä¹Ÿå¯èƒ½è¢«è®¤ä¸ºæ˜¯ä¸ç›¸ç­‰çš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨å†…å­˜ä¸­çš„ä½ç½®å¯èƒ½ä¸åŒï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token operator">===</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºï¼šfalse</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºï¼šfalse</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºï¼šfalse</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><p><code>Object.is</code> ï¼š</p>
<p><code>Object.is</code> æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦æ˜¯ç›¸åŒçš„å€¼ã€‚å®ƒçš„è¡Œä¸ºä¸ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ<code>===</code>ï¼‰ç±»ä¼¼ï¼Œä½†æœ‰ä¸¤ä¸ªä¸»è¦çš„åŒºåˆ«ï¼š</p>
<ol>
<li><code>Object.is</code> å¯¹äº <code>NaN</code> çš„æ¯”è¾ƒè¿”å› <code>true</code>ï¼ˆ<code>NaN === NaN</code> è¿”å› <code>false</code>ï¼‰ã€‚</li>
<li><code>Object.is</code> è®¤ä¸º <code>+0</code> å’Œ <code>-0</code> æ˜¯ä¸åŒçš„ï¼ˆ<code>+0 === -0</code> è¿”å› <code>true</code>ï¼‰ã€‚</li>
</ol>
<p>å¦‚æœæˆ‘ä»¬è¦å®ç°ä¸€ä¸ªç±»ä¼¼ <code>Object.is</code> çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function is(x, y) &#123;
  &#x2F;&#x2F; é’ˆå¯¹ &#96;NaN&#96; çš„æƒ…å†µ
  if (x !&#x3D;&#x3D; x) &#123;
    return y !&#x3D;&#x3D; y;
  &#125;
  &#x2F;&#x2F; é’ˆå¯¹ &#96;+0&#96; å’Œ &#96;-0&#96; çš„æƒ…å†µ
  if (x &#x3D;&#x3D;&#x3D; 0 &amp;&amp; y &#x3D;&#x3D;&#x3D; 0) &#123;
    return 1 &#x2F; x &#x3D;&#x3D;&#x3D; 1 &#x2F; y;
  &#125;
  &#x2F;&#x2F; å…¶ä»–æƒ…å†µ
  return x &#x3D;&#x3D;&#x3D; y;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ£€æŸ¥ <code>x</code> æ˜¯å¦æ˜¯ <code>NaN</code>ï¼Œå¦‚æœæ˜¯ï¼Œæˆ‘ä»¬è¿”å› <code>y</code> æ˜¯å¦ä¹Ÿæ˜¯ <code>NaN</code>ã€‚ç„¶åæˆ‘ä»¬æ£€æŸ¥ <code>x</code> å’Œ <code>y</code> æ˜¯å¦éƒ½æ˜¯ <code>0</code>ï¼Œå¦‚æœæ˜¯ï¼Œæˆ‘ä»¬è¿”å› <code>1 / x</code> å’Œ <code>1 / y</code> çš„æ¯”è¾ƒç»“æœï¼ˆè¿™å¯ä»¥åŒºåˆ† <code>+0</code> å’Œ <code>-0</code>ï¼‰ã€‚æœ€åï¼Œæˆ‘ä»¬è¿”å› <code>x</code> å’Œ <code>y</code> çš„ä¸¥æ ¼ç›¸ç­‰æ¯”è¾ƒç»“æœã€‚</p>
</li>
</ol>
<h3 id="æ•°ç»„ç›¸å…³"><a href="#æ•°ç»„ç›¸å…³" class="headerlink" title="æ•°ç»„ç›¸å…³"></a>æ•°ç»„ç›¸å…³</h3><h4 id="æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•"><a href="#æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•"></a>æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•</h4><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å¢æ·»æ–¹æ³•ï¼ˆ<strong>æ˜¯å¦å½±å“åŸæ•°ç»„</strong>ï¼‰<ul>
<li>push()ï¼šå‚æ•°+ä½œç”¨+è¿”å›å€¼</li>
<li>unshift()ï¼šå‚æ•°+ä½œç”¨+è¿”å›å€¼</li>
<li>splice()ï¼šå‚æ•°+ä½œç”¨+è¿”å›å€¼</li>
<li>concat()ï¼šå‚æ•°+ä½œç”¨+è¿”å›å€¼</li>
</ul>
</li>
<li>åˆ é™¤æ–¹æ³•<ul>
<li>pop()</li>
<li>shift()</li>
<li>splice()</li>
<li>slice()</li>
</ul>
</li>
<li>æŸ¥è¯¢æ–¹æ³•<ul>
<li>indexOf()</li>
<li>includes()</li>
<li>find()</li>
</ul>
</li>
<li>è¿­ä»£æ–¹æ³•<ul>
<li>some()</li>
<li>every()</li>
<li>forEach()</li>
<li>filter()</li>
<li>map()</li>
</ul>
</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/javascript-xiang-guan-xi-jie-ti/#æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ">JavaScriptç›¸å…³ç»†èŠ‚é¢˜ | QT-7274 (qblog.top)</a></p>
<h4 id="æ•°ç»„çš„ç´¢å¼•"><a href="#æ•°ç»„çš„ç´¢å¼•" class="headerlink" title="æ•°ç»„çš„ç´¢å¼•"></a>æ•°ç»„çš„ç´¢å¼•</h4><p>åœ¨JavaScriptä¸­ï¼Œæ•°ç»„çš„ç´¢å¼•é€šå¸¸æ˜¯éè´Ÿæ•´æ•°ã€‚ç„¶è€Œï¼Œç”±äºJavaScriptçš„æ•°ç»„å®é™…ä¸Šæ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•å­—ç¬¦ä¸²ä½œä¸ºå±æ€§åï¼ŒåŒ…æ‹¬å¯¹è±¡ã€å‡½æ•°å’ŒSymbolçš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&#x2F;&#x2F; å¯¹è±¡ä½œä¸ºç´¢å¼•
let arr &#x3D; [];
let obj &#x3D; &#123; name: &#39;test&#39; &#125;;
arr[obj] &#x3D; &#39;value&#39;; &#x2F;&#x2F; è¿™é‡Œå®é™…ä¸Šæ˜¯å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²&#39;[object Object]&#39;ï¼Œç„¶åä½œä¸ºå±æ€§å
console.log(arr[&#39;[object Object]&#39;]); &#x2F;&#x2F; è¾“å‡º&#39;value&#39;

&#x2F;&#x2F; å‡½æ•°ä½œä¸ºç´¢å¼•
let func &#x3D; function() &#123;&#125;;
arr[func] &#x3D; &#39;value2&#39;; &#x2F;&#x2F; è¿™é‡Œå®é™…ä¸Šæ˜¯å°†å‡½æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åä½œä¸ºå±æ€§å
console.log(arr[func.toString()]); &#x2F;&#x2F; è¾“å‡º&#39;value2&#39;

&#x2F;&#x2F; Symbolä½œä¸ºç´¢å¼•
let sym &#x3D; Symbol(&#39;test&#39;);
arr[sym] &#x3D; &#39;value3&#39;; &#x2F;&#x2F; è¿™é‡ŒSymbolä½œä¸ºå±æ€§å
console.log(arr[sym]); &#x2F;&#x2F; è¾“å‡º&#39;value3&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>ä½†æ˜¯ï¼Œè¿™äº›&quot;ç´¢å¼•&quot;ä¸ä¼šè¢«è®¡ç®—åœ¨æ•°ç»„çš„é•¿åº¦ä¸­ï¼Œä¹Ÿä¸ä¼šå½±å“æ•°ç»„çš„è¿­ä»£ã€‚å½“æˆ‘ä»¬è¿­ä»£æ•°ç»„æ—¶ï¼Œåªæœ‰æ•°å­—ç´¢å¼•çš„å…ƒç´ è¢«è¿­ä»£ã€‚</p>
</blockquote>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">let arr &#x3D; [];
arr[0] &#x3D; &#39;zero&#39;;
arr[&#39;1&#39;] &#x3D; &#39;one&#39;; &#x2F;&#x2F; è¿™æ˜¯ä¸€ä¸ªæ•°å­—ç´¢å¼•ï¼Œå› ä¸º&#39;1&#39;å¯ä»¥è¢«è½¬æ¢ä¸ºæ•°å­—1
arr[&#39;foo&#39;] &#x3D; &#39;foo&#39;;
arr[&#123;name: &#39;test&#39;&#125;] &#x3D; &#39;object&#39;;
arr[function() &#123;&#125;] &#x3D; &#39;function&#39;;
arr[Symbol(&#39;test&#39;)] &#x3D; &#39;symbol&#39;;

console.log(arr.length); &#x2F;&#x2F; è¾“å‡º2ï¼Œå› ä¸ºæœ€å¤§çš„æ•°å­—ç´¢å¼•æ˜¯1ï¼Œæ‰€ä»¥é•¿åº¦æ˜¯1+1&#x3D;2

arr.forEach((value, index) &#x3D;&gt; &#123;
    console.log(index, value); &#x2F;&#x2F; åªä¼šè¾“å‡º0 &#39;zero&#39;å’Œ1 &#39;one&#39;ï¼Œä¸ä¼šè¾“å‡º&#39;foo&#39; &#39;foo&#39;ã€&#39;[object Object]&#39; &#39;object&#39;ã€&#39;function() &#123;&#125;&#39; &#39;function&#39;å’ŒSymbol(test) &#39;symbol&#39;
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="ç§æœ‰å±æ€§çš„å®ç°"><a href="#ç§æœ‰å±æ€§çš„å®ç°" class="headerlink" title="ç§æœ‰å±æ€§çš„å®ç°"></a>ç§æœ‰å±æ€§çš„å®ç°</h3><ol>
<li><p><strong>ä½¿ç”¨ <code>Symbol</code></strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> nameSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">[</span>nameSymbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">"codereasy"</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>nameSymbol<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º"codereasy" </span>

<span class="token comment">//è¯•å›¾ç›´æ¥è®¿é—®nameSymbolå±æ€§ä¼šå¤±è´¥ï¼Œé™¤éä½ å…·æœ‰Symbol å¼•ç”¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>nameSymbol<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡º"codereasy"ï¼Œä¹Ÿå°±æ˜¯å¦‚æœæˆ‘ä»¬çŸ¥é“å¼•ç”¨ï¼Œä¹Ÿæ˜¯å¯ä»¥æ‹¿åˆ°ç§æœ‰å±æ€§çš„å€¼çš„</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºundefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>ä½¿ç”¨é—­åŒ…</strong>ï¼šé—­åŒ…å¯ä»¥ç”¨æ¥åˆ›å»ºç§æœ‰å˜é‡ã€‚è¿™æ˜¯å› ä¸ºé—­åŒ…å…è®¸å‡½æ•°è®°ä½å¹¶è®¿é—®å…¶è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å½“å‡½æ•°åœ¨å…¶åŸå§‹ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œæ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">createObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> privateVar <span class="token operator">=</span> <span class="token string">'I am private'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        <span class="token function-variable function">getPrivateVar</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> privateVar<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">createObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getPrivateVar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 'I am private'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>privateVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>ä½¿ç”¨ç±»çš„ç§æœ‰å­—æ®µ</strong>ï¼šåœ¨ES2020ä¸­ï¼ŒJavaScriptå¼•å…¥äº†ç±»çš„ç§æœ‰å­—æ®µï¼Œä½ å¯ä»¥åœ¨ç±»ä¸­ä½¿ç”¨<code>#</code>å‰ç¼€æ¥å®šä¹‰ç§æœ‰å­—æ®µã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span>
    #privateField <span class="token operator">=</span> <span class="token string">'I am private'</span><span class="token punctuation">;</span>

    <span class="token function">getPrivateField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#privateField<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getPrivateField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 'I am private'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>#privateField<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>ä½¿ç”¨WeakMap</strong>ï¼šWeakMapå¯ä»¥ç”¨æ¥å­˜å‚¨ç§æœ‰å±æ€§ï¼Œå› ä¸ºWeakMapçš„é”®æ˜¯ä¸å¯æšä¸¾çš„ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> privateProperty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        privateProperty<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'I am private'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">getPrivateProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> privateProperty<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getPrivateProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 'I am private'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>privateProperty<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 'I am private'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œä¸ä»…ä»…...</li>
<li>protoå±æ€§ï¼šå¯¹è±¡å®ä¾‹å’Œå®ƒçš„æ„é€ å™¨ï¼ˆå·¥å‚ï¼‰ä¹‹é—´çš„æ¡¥æ¢</li>
<li>ä¸€åˆ‡å¯¹è±¡éƒ½æ˜¯ç»§æ‰¿è‡ª<code>Object</code>å¯¹è±¡ï¼Œ<code>Object</code> å¯¹è±¡ç›´æ¥ç»§æ‰¿æ ¹æºå¯¹è±¡<code>null</code></li>
<li>ä¸€åˆ‡çš„å‡½æ•°å¯¹è±¡ï¼ˆåŒ…æ‹¬ <code>Object</code> å¯¹è±¡ï¼‰ï¼Œéƒ½æ˜¯ç»§æ‰¿è‡ª <code>Function</code> å¯¹è±¡</li>
<li><code>Object</code> å¯¹è±¡ç›´æ¥ç»§æ‰¿è‡ª <code>Function</code> å¯¹è±¡</li>
<li><code>Function</code>å¯¹è±¡çš„<code>__proto__</code>ä¼šæŒ‡å‘è‡ªå·±çš„åŸå‹å¯¹è±¡ï¼Œæœ€ç»ˆè¿˜æ˜¯ç»§æ‰¿è‡ª<code>Object</code>å¯¹è±¡</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/JavaScript/prototype.html#ä¸€ã€åŸå‹">é¢è¯•å®˜ï¼šJavaScriptåŸå‹ï¼ŒåŸå‹é“¾ ? æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="DOMå’ŒBOM"><a href="#DOMå’ŒBOM" class="headerlink" title="DOMå’ŒBOM"></a>DOMå’ŒBOM</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>DOMï¼š</p>
<ul>
<li>å…¨ç§°</li>
<li>ä½œç”¨ï¼š<strong>å®ƒæä¾›äº†å¯¹æ–‡æ¡£çš„ç»“æ„åŒ–çš„è¡¨è¿°ï¼Œå¹¶å®šä¹‰äº†ä¸€ç§æ–¹å¼å¯ä»¥ä½¿ä»ç¨‹åºä¸­å¯¹è¯¥ç»“æ„è¿›è¡Œè®¿é—®ï¼Œä»è€Œæ”¹å˜æ–‡æ¡£çš„ç»“æ„ï¼Œæ ·å¼å’Œå†…å®¹</strong></li>
<li>æ“ä½œ</li>
</ul>
<p>BOMï¼š</p>
<ul>
<li><p>å…¨ç§°</p>
</li>
<li><p>ä½œç”¨ï¼š<strong>å®ƒæä¾›äº†ç‹¬ç«‹äºå†…å®¹ä¸æµè§ˆå™¨çª—å£è¿›è¡Œäº¤äº’çš„å¯¹è±¡ â€”â€” å…¶ä½œç”¨å°±æ˜¯å’Œæµè§ˆå™¨åšä¸€äº›äº¤äº’æ•ˆæœç­‰</strong></p>
<blockquote>
<p>æµè§ˆå™¨çš„å…¨éƒ¨å†…å®¹å¯ä»¥çœ‹æˆDOMï¼Œæ•´ä¸ªæµè§ˆå™¨å¯ä»¥çœ‹æˆBOM</p>
</blockquote>
</li>
<li><p>BOMçš„æ ¸å¿ƒå¯¹è±¡ï¼š<code>window</code>ï¼ˆè¡¨ç¤ºæµè§ˆå™¨çš„ä¸€ä¸ªå®ä¾‹ï¼‰</p>
</li>
<li><p><code>location</code>ï¼šé™¤ <code>hash</code> å¤–ï¼Œåªè¦ä¿®æ”¹ <code>location</code> çš„ä¸€ä¸ªå±æ€§ï¼Œå°±ä¼šå¯¼è‡´é¡µé¢é‡æ–°åŠ è½½æ–°URL</p>
</li>
<li><p><code>navigator</code>ã€<code>screen</code>ã€<code>history</code></p>
</li>
</ul>
<p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview/JavaScript/BOM.html#é¢è¯•å®˜-è¯´è¯´ä½ å¯¹bomçš„ç†è§£-å¸¸è§çš„bomå¯¹è±¡ä½ äº†è§£å“ªäº›">é¢è¯•å®˜ï¼šè¯´è¯´ä½ å¯¹BOMçš„ç†è§£ï¼Œå¸¸è§çš„BOMå¯¹è±¡ä½ äº†è§£å“ªäº›ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></li>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview/JavaScript/Dom.html#é¢è¯•å®˜-domå¸¸è§çš„æ“ä½œæœ‰å“ªäº›">é¢è¯•å®˜ï¼šDOMå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></li>
</ul>
<h3 id="DOMäº‹ä»¶æµ"><a href="#DOMäº‹ä»¶æµ" class="headerlink" title="DOMäº‹ä»¶æµ"></a>DOMäº‹ä»¶æµ</h3><p>DOM äº‹ä»¶æµæè¿°çš„æ˜¯ä»é¡µé¢æ¥æ”¶äº‹ä»¶çš„é¡ºåºã€‚DOM2 çº§äº‹ä»¶è§„å®šçš„äº‹ä»¶æµåŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼šäº‹ä»¶æ•è·é˜¶æ®µã€å¤„äºç›®æ ‡é˜¶æ®µå’Œäº‹ä»¶å†’æ³¡é˜¶æ®µã€‚</p>
<ol>
<li><strong>äº‹ä»¶æ•è·é˜¶æ®µ</strong>ï¼šäº‹ä»¶å¼€å§‹æ—¶ï¼Œæµè§ˆå™¨ä¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œçˆ¶èŠ‚ç‚¹åœ¨å­èŠ‚ç‚¹ä¹‹å‰æ¥æ”¶åˆ°äº‹ä»¶ã€‚</li>
<li><strong>å¤„äºç›®æ ‡é˜¶æ®µ</strong>ï¼šäº‹ä»¶åˆ°è¾¾å®é™…çš„ç›®æ ‡å…ƒç´ ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œäº‹ä»¶å·²ç»è¢«æ´¾å‘åˆ°ç›®æ ‡å…ƒç´ ï¼Œç›®æ ‡å…ƒç´ å¤„ç†è¿™ä¸ªäº‹ä»¶ã€‚</li>
<li><strong>äº‹ä»¶å†’æ³¡é˜¶æ®µ</strong>ï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å¼€å§‹ï¼Œå‘ä¸Šå›ä¼ åˆ°æ ¹èŠ‚ç‚¹ã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œçˆ¶èŠ‚ç‚¹åœ¨å­èŠ‚ç‚¹ä¹‹åæ¥æ”¶åˆ°äº‹ä»¶ã€‚</li>
</ol>
<p>åœ¨è¿™ä¸‰ä¸ªé˜¶æ®µä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>addEventListener</code> æ–¹æ³•æ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¹¶é€šè¿‡ç¬¬ä¸‰ä¸ªå‚æ•°æ¥æŒ‡å®šæ˜¯åœ¨æ•è·é˜¶æ®µè¿˜æ˜¯å†’æ³¡é˜¶æ®µå¤„ç†äº‹ä»¶ã€‚å¦‚æœç¬¬ä¸‰ä¸ªå‚æ•°ä¸º <code>true</code>ï¼Œåˆ™åœ¨æ•è·é˜¶æ®µå¤„ç†äº‹ä»¶ï¼›å¦‚æœä¸º <code>false</code> æˆ–ä¸æä¾›ï¼Œé‚£ä¹ˆåœ¨å†’æ³¡é˜¶æ®µå¤„ç†äº‹ä»¶ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<p>äº‹ä»¶å§”æ‰˜ï¼Œä¹Ÿç§°ä¸ºäº‹ä»¶ä»£ç†ï¼Œæ˜¯ä¸€ç§åœ¨çˆ¶å…ƒç´ ä¸Šè®¾ç½®ç›‘å¬å™¨æ¥ç®¡ç†ä¸€ç§æˆ–å¤šç§å­å…ƒç´ çš„äº‹ä»¶ç›‘å¬çš„æŠ€æœ¯ã€‚å®ƒçš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>å†…å­˜å ç”¨å‡å°‘</strong>ï¼šä¸éœ€è¦ä¸ºæ¯ä¸ªå­å…ƒç´ éƒ½æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ï¼Œåªéœ€è¦åœ¨å…¶çˆ¶å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªç›‘å¬å™¨å°±å¯ä»¥ç®¡ç†æ‰€æœ‰çš„å­å…ƒç´ ã€‚è¿™å¤§å¤§å‡å°‘äº†å†…å­˜å ç”¨ï¼Œæé«˜äº†æ€§èƒ½ã€‚</li>
<li><strong>åŠ¨æ€å…ƒç´ çš„ç®¡ç†</strong>ï¼šå¦‚æœä½ çš„åº”ç”¨ä¸­ä¼šåŠ¨æ€æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼Œé‚£ä¹ˆäº‹ä»¶å§”æ‰˜å°±éå¸¸æœ‰ç”¨ã€‚ä½ ä¸éœ€è¦ä¸ºæ–°æ·»åŠ çš„å…ƒç´ æ·»åŠ æ–°çš„ç›‘å¬å™¨ï¼Œä¹Ÿä¸éœ€è¦åœ¨å…ƒç´ è¢«åˆ é™¤æ—¶ç§»é™¤ç›‘å¬å™¨ã€‚çˆ¶å…ƒç´ çš„ç›‘å¬å™¨ä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰çš„å­å…ƒç´ ï¼Œæ— è®ºå®ƒä»¬ä½•æ—¶è¢«æ·»åŠ æˆ–åˆ é™¤ã€‚</li>
<li><strong>ç®€åŒ–ä»£ç </strong>ï¼šäº‹ä»¶å§”æ‰˜å¯ä»¥ç®€åŒ–ä½ çš„ä»£ç ï¼Œä½¿å…¶æ›´æ˜“äºç®¡ç†å’Œç»´æŠ¤ã€‚ä½ åªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹æ·»åŠ ç›‘å¬å™¨ï¼Œè€Œä¸æ˜¯åœ¨å¤šä¸ªåœ°æ–¹æ·»åŠ å’Œç§»é™¤ç›‘å¬å™¨ã€‚</li>
<li><strong>æé«˜æ€§èƒ½</strong>ï¼šç”±äºæµè§ˆå™¨ä¸éœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ éƒ½ç»‘å®šäº‹ä»¶ï¼Œå› æ­¤å¯ä»¥å‡å°‘äº‹ä»¶ç»‘å®šçš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- HTML --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myList<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Item 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Item 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Item 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- å¯èƒ½ä¼šåŠ¨æ€æ·»åŠ æ›´å¤šçš„åˆ—è¡¨é¡¹ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

// JavaScript
document.getElementById('myList').addEventListener('click', function(e) &#123;
  if(e.target &amp;&amp; e.target.nodeName == 'LI') &#123;
    alert('List item ' + e.target.innerText + ' was clicked!');
  &#125;
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>addEventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°çš„åº”ç”¨åœºæ™¯</strong></p>
<p><code>addEventListener</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°å†³å®šäº†äº‹ä»¶å¤„ç†å‡½æ•°æ˜¯åœ¨äº‹ä»¶çš„â€œæ•è·é˜¶æ®µâ€è¿˜æ˜¯â€œå†’æ³¡é˜¶æ®µâ€è¢«è§¦å‘ã€‚è¿™ä¸¤ç§æ–¹å¼çš„é€‰æ‹©ä¸»è¦å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ã€‚</p>
<ol>
<li><p><strong>æ•è·é˜¶æ®µï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ä¸º <code>true</code>ï¼‰</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨äº‹ä»¶åˆ°è¾¾å…¶å®é™…ç›®æ ‡ä¹‹å‰å°±è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æƒ³åœ¨ç‚¹å‡»é“¾æ¥ä¹‹å‰è¿›è¡Œä¸€äº›æ“ä½œï¼Œå¦‚éªŒè¯æˆ–åŠ¨ç”»ç­‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åœ¨æ•è·é˜¶æ®µå¤„ç†äº‹ä»¶ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">document.body.addEventListener(&#39;click&#39;, function(event) &#123;
  alert(&#39;Body clicked during capturing phase&#39;);
&#125;, true);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ— è®ºä½ ç‚¹å‡»é¡µé¢çš„ä»»ä½•ä½ç½®ï¼Œéƒ½ä¼šé¦–å…ˆå¼¹å‡ºè­¦å‘Šæ¡†ï¼Œç„¶åæ‰ä¼šæ‰§è¡Œå…¶ä»–çš„ç‚¹å‡»äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p>
</li>
<li><p><strong>å†’æ³¡é˜¶æ®µï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ä¸º <code>false</code> æˆ–ä¸æä¾›ï¼‰</strong>ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨å†’æ³¡é˜¶æ®µå¤„ç†äº‹ä»¶ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ç¡®ä¿äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼ˆå¦‚é“¾æ¥çš„è·³è½¬ï¼‰å·²ç»å‘ç”Ÿã€‚æ­¤å¤–ï¼Œç”±äºå¤§å¤šæ•°çš„æµè§ˆå™¨éƒ½æ”¯æŒäº‹ä»¶å†’æ³¡ï¼Œæ‰€ä»¥åœ¨å†’æ³¡é˜¶æ®µå¤„ç†äº‹ä»¶å¯ä»¥æé«˜ä»£ç çš„å…¼å®¹æ€§ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Body clicked during bubbling phase'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåªæœ‰å½“æ‰€æœ‰çš„ç‚¹å‡»äº‹ä»¶å¤„ç†å‡½æ•°éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œæ‰ä¼šå¼¹å‡ºè­¦å‘Šæ¡†ã€‚</p>
</li>
</ol>
<p><strong>target currentTarget relateTargetå…·ä½“æŒ‡å‘ä»€ä¹ˆç›®æ ‡ï¼Ÿ</strong></p>
<p>åœ¨äº‹ä»¶å¤„ç†ä¸­ï¼Œ<code>target</code>ã€<code>currentTarget</code> å’Œ <code>relatedTarget</code> æ˜¯å¸¸ç”¨çš„ä¸‰ä¸ªå±æ€§ï¼Œå®ƒä»¬çš„å«ä¹‰å’Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li><p><strong>target</strong>ï¼š<code>event.target</code> æŒ‡å‘ç›´æ¥è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯äº‹ä»¶æœ€åˆå‘ç”Ÿçš„åœ°æ–¹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªæŒ‰é’®ä¸Šç‚¹å‡»ï¼Œé‚£ä¹ˆ <code>event.target</code> å°±æ˜¯è¿™ä¸ªæŒ‰é’®ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">button.addEventListener(&#39;click&#39;, function(event) &#123;
 console.log(event.target); &#x2F;&#x2F; è¾“å‡ºï¼šbuttonå…ƒç´ 
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>currentTarget</strong>ï¼š<code>event.currentTarget</code> æŒ‡å‘ç»‘å®šäº‹ä»¶ç›‘å¬å™¨çš„å…ƒç´ ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸Šè®¾ç½®äº†äº‹ä»¶ç›‘å¬å™¨ï¼Œè€Œç”¨æˆ·ç‚¹å‡»äº†å…¶ä¸­çš„ä¸€ä¸ªåˆ—è¡¨é¡¹ï¼Œé‚£ä¹ˆ <code>event.target</code> æ˜¯è¢«ç‚¹å‡»çš„åˆ—è¡¨é¡¹ï¼Œè€Œ <code>event.currentTarget</code> æ˜¯åˆ—è¡¨æœ¬èº«ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">list.addEventListener(&#39;click&#39;, function(event) &#123;

 console.log(event.target); &#x2F;&#x2F; è¾“å‡ºï¼šè¢«ç‚¹å‡»çš„liå…ƒç´ 

 console.log(event.currentTarget); &#x2F;&#x2F; è¾“å‡ºï¼šulå…ƒç´ 

&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>relatedTarget</strong>ï¼š<code>event.relatedTarget</code> åœ¨æŸäº›ç‰¹å®šçš„äº‹ä»¶ä¸­ä½¿ç”¨ï¼Œå¦‚ <code>mouseover</code> å’Œ <code>mouseout</code> äº‹ä»¶ï¼Œè¡¨ç¤ºé¼ æ ‡åˆšåˆšç¦»å¼€çš„å…ƒç´ ï¼ˆå¯¹äº <code>mouseover</code> äº‹ä»¶ï¼‰æˆ–è€…é¼ æ ‡å³å°†è¿›å…¥çš„å…ƒç´ ï¼ˆå¯¹äº <code>mouseout</code> äº‹ä»¶ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ å°†é¼ æ ‡ä»ä¸€ä¸ªæŒ‰é’®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæŒ‰é’®ï¼Œé‚£ä¹ˆ <code>event.target</code> æ˜¯ä½ å³å°†è¿›å…¥çš„æŒ‰é’®ï¼Œ<code>event.relatedTarget</code> æ˜¯ä½ åˆšåˆšç¦»å¼€çš„æŒ‰é’®ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">button.addEventListener(&#39;mouseover&#39;, function(event) &#123;

 console.log(event.target); &#x2F;&#x2F; è¾“å‡ºï¼šé¼ æ ‡è¿›å…¥çš„buttonå…ƒç´ 

 console.log(event.relatedTarget); &#x2F;&#x2F; è¾“å‡ºï¼šé¼ æ ‡ç¦»å¼€çš„å…ƒç´ 

&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h3><ul>
<li><p>å˜é‡æå‡ï¼šæŒ‡å˜é‡å’Œå‡½æ•°<strong>å£°æ˜</strong>åœ¨ä»£ç ç¼–è¯‘é˜¶æ®µè¢«æå‡åˆ°å®ƒä»¬æ‰€åœ¨çš„ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p>
</li>
<li><p>åªæœ‰åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹æ‰ä¼šå˜é‡æå‡ã€‚</p>
</li>
<li><p><strong>å…ˆæå‡å‡½æ•°ï¼Œå†æå‡å˜é‡</strong>ï¼šä¹Ÿå°±æ˜¯è¯´å¦‚æœåœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­åŒæ—¶å£°æ˜äº†ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸”å®ƒä»¬çš„åå­—ç›¸åŒï¼Œé‚£ä¹ˆ<strong>å‡½æ•°å£°æ˜ä¼šè¦†ç›–å˜é‡å£°æ˜</strong>ã€‚</p>
</li>
<li><p>åªæœ‰å£°æ˜çš„å˜é‡ä¼šæå‡ï¼Œåˆå§‹åŒ–ä¸ä¼šæå‡ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">console.log(a); &#x2F;&#x2F; è¾“å‡ºï¼šundefined
var a &#x3D; 5;
console.log(a); &#x2F;&#x2F; è¾“å‡ºï¼š5

&#x2F;&#x2F; å› ä¸ºaçš„å£°æ˜è¢«æå‡åˆ°äº†ä»£ç çš„é¡¶éƒ¨ï¼Œä½†æ˜¯åˆå§‹åŒ–å¹¶æ²¡æœ‰æå‡ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡æ‰“å°æ˜¯undefined<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>åªæœ‰å£°æ˜çš„å‡½æ•°æ‰ä¼šæå‡ï¼Œåˆå§‹åŒ–ä¸ä¼šæå‡ã€‚</p>
</li>
</ul>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li>JavaScriptå˜é‡å‘½åè§„åˆ™</li>
</ul>
<h3 id="å˜é‡å‘½åè§„åˆ™"><a href="#å˜é‡å‘½åè§„åˆ™" class="headerlink" title="å˜é‡å‘½åè§„åˆ™"></a>å˜é‡å‘½åè§„åˆ™</h3><ol>
<li><strong>var</strong>ï¼š<code>var</code> æ˜¯æœ€æ—©çš„å£°æ˜å˜é‡çš„æ–¹å¼ï¼Œå®ƒçš„ä½œç”¨åŸŸæ˜¯<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>ã€‚å¦‚æœåœ¨å‡½æ•°å¤–éƒ¨å£°æ˜ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å…¨å±€å˜é‡ã€‚<code>var</code> å£°æ˜çš„å˜é‡ä¼šå‘ç”Ÿ<strong>å˜é‡æå‡</strong>ï¼Œå³åœ¨å£°æ˜ä¹‹å‰å°±å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å€¼ä¸º <code>undefined</code>ã€‚</li>
<li><strong>let</strong>ï¼š<code>let</code> æ˜¯ ES6 å¼•å…¥çš„æ–°çš„å£°æ˜å˜é‡çš„æ–¹å¼ï¼Œå®ƒçš„ä½œç”¨åŸŸæ˜¯<strong>å—çº§ä½œç”¨åŸŸ</strong>ã€‚<code>let</code> å£°æ˜çš„å˜é‡<strong>ä¸ä¼šå‘ç”Ÿå˜é‡æå‡</strong>ï¼Œå¦‚æœåœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ä¼šæŠ¥é”™ã€‚</li>
<li><strong>const</strong>ï¼š<code>const</code> ä¹Ÿæ˜¯ ES6 å¼•å…¥çš„ï¼Œç”¨äºå£°æ˜å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œ<strong>å…¶å€¼å°±ä¸èƒ½æ”¹å˜</strong>ã€‚<code>const</code> çš„ä½œç”¨åŸŸå’Œ <code>let</code> ä¸€æ ·ï¼Œä¹Ÿæ˜¯<strong>å—çº§ä½œç”¨åŸŸ</strong>ã€‚<code>const</code> å£°æ˜çš„å¸¸é‡ä¹Ÿ<strong>ä¸ä¼šå‘ç”Ÿå˜é‡æå‡</strong>ï¼Œå¦‚æœåœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ä¼šæŠ¥é”™ã€‚</li>
</ol>
<h4 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h4><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function trickyQuestion() &#123;
  console.log(a); &#x2F;&#x2F; undefined
  console.log(foo()); &#x2F;&#x2F; 2
  
  var a &#x3D; 1;
  function foo() &#123;
    return 2;
  &#125;

  if(false) &#123;
    var a &#x3D; 3;
    function foo() &#123;
      return 4;
    &#125;
  &#125;

  console.log(a); &#x2F;&#x2F; 1 å£°æ˜ä¼šè¢«è¦†ç›–ï¼Œä½†æ˜¯åˆå§‹å€¼æ²¡æœ‰è¢«è¦†ç›–
  console.log(foo()); &#x2F;&#x2F; 2
&#125;

trickyQuestion();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">let a &#x3D; 0, b &#x3D; 0;
function fn(a) &#123;
  fn &#x3D; function fn2(b) &#123;
    console.log(a, b)
    console.log(++a+b)
  &#125;
  console.log(&#39;a&#39;, a++)
&#125;
fn(1); &#x2F;&#x2F; a, 1
fn(2); &#x2F;&#x2F; 2, 2   5
&#x2F;&#x2F; ä¸å¸¦ä¿®é¥°ç¬¦çš„å˜é‡çš„èµ‹å€¼ä¼šæ²¿ç€å‘ä¸ŠæŸ¥æ‰¾ä½œç”¨åŸŸä¸­çš„å€¼ï¼Œç›´åˆ°windowï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡æ‰§è¡Œfnåï¼Œfnå†…éƒ¨çš„fnç°åœ¨æˆäº†å…¨å±€å˜é‡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    a <span class="token operator">=</span> <span class="token number">5</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    a<span class="token punctuation">,</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> b
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//åœ¨ç«‹å³æ‰§è¡Œå‡½æ•°ä¸­ï¼Œé¦–å…ˆ console.log(a) è¾“å‡º undefinedï¼Œå› ä¸ºåœ¨å‡½æ•°ä½œç”¨åŸŸå†…æœ‰ var a çš„å£°æ˜ï¼Œæ‰€ä»¥ a åœ¨æ•´ä¸ªå‡½æ•°ä½œç”¨åŸŸå†…éƒ½å­˜åœ¨ï¼Œä½†åœ¨èµ‹å€¼ä¹‹å‰ï¼Œå…¶å€¼ä¸º undefinedï¼Œè¿™å°±æ˜¯ JavaScript çš„å˜é‡æå‡ï¼ˆhoistingï¼‰ã€‚</span>

<span class="token comment">//ç„¶å a = 5ï¼Œä½†è¿™ä¸ª a æ˜¯å‡½æ•°ä½œç”¨åŸŸå†…çš„ aï¼Œå¹¶ä¸å½±å“å…¨å±€çš„ aï¼Œæ‰€ä»¥ console.log(window.a) è¾“å‡ºçš„æ˜¯å…¨å±€çš„ aï¼Œå³ 10ã€‚</span>

<span class="token comment">//æ¥ç€ var a = 20ï¼Œè¿™ä¸ª a ä¹Ÿæ˜¯å‡½æ•°ä½œç”¨åŸŸå†…çš„ aï¼Œæ‰€ä»¥ console.log(a) è¾“å‡ºçš„æ˜¯ 20ã€‚</span>

<span class="token comment">//å¯¹äº var b = &#123; a, c: b &#125;ï¼Œè¿™æ˜¯ ES6 çš„å¯¹è±¡å­—é¢é‡å±æ€§å€¼ç®€å†™ï¼Œç­‰ä»·äº var b = &#123; a: a, c: b &#125;ï¼Œä½†åœ¨ b è¢«èµ‹å€¼ä¹‹å‰ï¼Œb æ˜¯ undefinedï¼Œæ‰€ä»¥ b.c çš„å€¼æ˜¯ undefinedï¼Œconsole.log(b.c) è¾“å‡ºçš„æ˜¯ undefinedã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/6933377315573497864">å½»åº•è§£å†³ JS å˜é‡æå‡| ä¸€é¢˜ä¸€å›¾ï¼Œè¶…è¯¦ç»†åŒ…æ•™åŒ…ä¼šğŸ˜‰ - æ˜é‡‘ (juejin.cn)</a></p>
<h3 id="thisçš„ç»‘å®šè§„åˆ™"><a href="#thisçš„ç»‘å®šè§„åˆ™" class="headerlink" title="thisçš„ç»‘å®šè§„åˆ™"></a>thisçš„ç»‘å®šè§„åˆ™</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>é»˜è®¤ç»‘å®š</li>
<li>éšå¼ç»‘å®š<ul>
<li>ä¸€èˆ¬çš„å¯¹è±¡è°ƒç”¨</li>
<li>å¯¹è±¡å±æ€§å¼•ç”¨é“¾</li>
<li>éšå¼ä¸¢å¤±</li>
</ul>
</li>
<li>æ˜¾ç¤ºç»‘å®š</li>
<li>newç»‘å®š</li>
<li>ç»‘å®šçš„ä¼˜å…ˆçº§</li>
<li>ç»‘å®šçš„ä¾‹å¤–æƒ…å†µ</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2024/03/05/this-de-bang-ding-gui-ze-xiang-jie/">thisçš„ç»‘å®šè§„åˆ™è¯¦è§£ | QT-7274 (qblog.top)</a></p>
<h3 id="æ·±æ‹·è´å’Œæµ…æ‹·è´"><a href="#æ·±æ‹·è´å’Œæµ…æ‹·è´" class="headerlink" title="æ·±æ‹·è´å’Œæµ…æ‹·è´"></a>æ·±æ‹·è´å’Œæµ…æ‹·è´</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/20/javascript-shen-kao-bei-he-qian-kao-bei/">JavaScriptæ·±æ‹·è´å’Œæµ…æ‹·è´ | QT-7274 (qblog.top)</a></p>
<h4 id="å¦‚ä½•å®ç°æ•°ç»„çš„æµ…æ‹·è´"><a href="#å¦‚ä½•å®ç°æ•°ç»„çš„æµ…æ‹·è´" class="headerlink" title="å¦‚ä½•å®ç°æ•°ç»„çš„æµ…æ‹·è´"></a>å¦‚ä½•å®ç°æ•°ç»„çš„æµ…æ‹·è´</h4><blockquote>
<p>å°é¹…é€š</p>
</blockquote>
<ol>
<li><p><strong>ä½¿ç”¨ <code>Array.prototype.slice()</code> æ–¹æ³•</strong>ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> copy <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>ä½¿ç”¨ <code>Array.prototype.concat()</code> æ–¹æ³•</strong>ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> copy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p><strong>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ<code>...</code>ï¼‰</strong>ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">let arr &#x3D; [1, 2, 3];
let copy &#x3D; [...arr];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p><strong>ä½¿ç”¨ <code>Array.from()</code> æ–¹æ³•</strong>ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">let arr &#x3D; [1, 2, 3];
let copy &#x3D; Array.from(arr);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="äº‹ä»¶å¾ªç¯"><a href="#äº‹ä»¶å¾ªç¯" class="headerlink" title="äº‹ä»¶å¾ªç¯"></a>äº‹ä»¶å¾ªç¯</h3><blockquote>
<p>å­—èŠ‚ã€å°é¹…é€šã€è…¾è®¯</p>
</blockquote>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/20/javascript-shi-jian-xun-huan/">JavaScriptäº‹ä»¶å¾ªç¯ | QT-7274 (qblog.top)</a></p>
<h4 id="ç»ƒä¹ é¢˜-1"><a href="#ç»ƒä¹ é¢˜-1" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h4><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">console.log(&#39;script start&#39;); 

setTimeout(function () &#123;
  console.log(&#39;setTimeout&#39;); 
&#125;, 0);

Promise.resolve().then(function () &#123;
  console.log(&#39;promise1&#39;);
&#125;).then(function () &#123;
  console.log(&#39;promise2&#39;); 
&#125;);

async function async1() &#123;
  console.log(&#39;async1 start&#39;); 
  await async2(); 
  console.log(&#39;async1 end&#39;);
&#125;

async function async2() &#123;
  console.log(&#39;async2&#39;);
&#125;

async1(); 

new Promise(function (resolve) &#123;
  console.log(&#39;promise3&#39;); 
  resolve(&#39;foo&#39;);
&#125;).then(function () &#123;
  console.log(&#39;promise4&#39;); 
&#125;).then(new Promise(function (resolve) &#123;
  console.log(&#39;promise8&#39;)
  resolve()
&#125;).then(function()&#123;
  console.log(&#39;promise5&#39;)
&#125;));

console.log(&#39;script end&#39;); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li><p>å…ˆæ‰§è¡ŒåŒæ­¥ä»£ç ï¼š</p>
<ul>
<li><code>console.log(&#39;script start&#39;)</code></li>
<li><code>async1()</code><ul>
<li><code>console.log(&#39;async1 start&#39;)</code> </li>
<li><code>await async2()</code><ul>
<li><code>console.log(&#39;async2&#39;)</code></li>
</ul>
</li>
</ul>
</li>
<li><code>console.log(&#39;promise3&#39;)</code></li>
<li><code>console.log(&#39;promise8&#39;)</code> </li>
<li><code>console.log(&#39;script end&#39;)</code> </li>
</ul>
</li>
<li><p>åœ¨æ‰§è¡Œå¾®é˜Ÿåˆ—ä»»åŠ¡ï¼š</p>
<ul>
<li><p><code>console.log(&#39;promise1&#39;)</code> </p>
</li>
<li><p><code>console.log(&#39;async1 end&#39;);</code></p>
</li>
<li><p><code>console.log(&#39;promise4&#39;);</code></p>
</li>
<li><p><code>console.log(&#39;promise5&#39;)</code> </p>
<blockquote>
<p>æ³¨æ„å› ä¸ºpromise8çš„ä¼˜å…ˆçº§ï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰æ˜¯æ¯”promise1ï¼ˆå¾®ä»»åŠ¡ï¼‰é«˜çš„ï¼Œæ‰€ä»¥promise5è‡ªç„¶åœ¨promise2ä¹‹å‰è¿›å…¥å¾®é˜Ÿåˆ—ã€‚</p>
</blockquote>
</li>
<li><p><code>console.log(&#39;promise2&#39;)</code> </p>
</li>
</ul>
</li>
<li><p>æœ€åæ‰§è¡Œå®ä»»åŠ¡ï¼š</p>
<ul>
<li><code>console.log(&#39;setTimeout&#39;)</code></li>
</ul>
</li>
</ol>
<h3 id="JavaScriptåƒåœ¾å›æ”¶æœºåˆ¶"><a href="#JavaScriptåƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="JavaScriptåƒåœ¾å›æ”¶æœºåˆ¶"></a>JavaScriptåƒåœ¾å›æ”¶æœºåˆ¶</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>æ ‡è®°æ¸…é™¤</li>
<li>å¼•ç”¨è®¡æ•°</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/21/javascript-zhong-de-la-ji-hui-shou-ji-zhi/">JavaScriptä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶ | QT-7274 (qblog.top)</a></p>
<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/05/04/tong-su-yi-dong-jie-shao-xia-js-bi-bao/">é€šä¿—æ˜“æ‡‚ä»‹ç»ä¸‹JSé—­åŒ… | QT-7274 (qblog.top)</a></p>
<h3 id="äº‹ä»¶å†’æ³¡åŠç»å†çš„é˜¶æ®µ"><a href="#äº‹ä»¶å†’æ³¡åŠç»å†çš„é˜¶æ®µ" class="headerlink" title="äº‹ä»¶å†’æ³¡åŠç»å†çš„é˜¶æ®µ"></a>äº‹ä»¶å†’æ³¡åŠç»å†çš„é˜¶æ®µ</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/10/03/javascript-dai-ma-ti-mu/#æ¦‚å¿µé—®é¢˜">JavaScriptä»£ç é¢˜ç›® | QT-7274 (qblog.top)</a></p>
<h3 id="å‘å¸ƒè®¢é˜…è€…æ¨¡å¼"><a href="#å‘å¸ƒè®¢é˜…è€…æ¨¡å¼" class="headerlink" title="å‘å¸ƒè®¢é˜…è€…æ¨¡å¼"></a>å‘å¸ƒè®¢é˜…è€…æ¨¡å¼</h3><p><strong>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</strong>å…¶å®æ˜¯ä¸€ç§å¯¹è±¡é—´ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°çŠ¶æ€æ”¹å˜çš„é€šçŸ¥ã€‚</p>
<ul>
<li><strong>è®¢é˜…è€…</strong>ï¼ˆSubscriberï¼‰æŠŠè‡ªå·±æƒ³è®¢é˜…çš„äº‹ä»¶ <strong>æ³¨å†Œ</strong>ï¼ˆSubscribeï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼ˆEvent Channelï¼‰;</li>
<li>å½“<strong>å‘å¸ƒè€…</strong>ï¼ˆPublisherï¼‰<strong>å‘å¸ƒè¯¥äº‹ä»¶</strong>ï¼ˆPublish Eventï¼‰åˆ°è°ƒåº¦ä¸­å¿ƒï¼Œä¹Ÿå°±æ˜¯è¯¥äº‹ä»¶è§¦å‘æ—¶ï¼Œç”± <strong>è°ƒåº¦ä¸­å¿ƒ</strong> ç»Ÿä¸€è°ƒåº¦ï¼ˆFire Eventï¼‰è®¢é˜…è€…æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒçš„å¤„ç†ä»£ç ã€‚</li>
</ul>
<blockquote>
<p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼šåœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè¢«è§‚å¯Ÿçš„å¯¹è±¡ï¼ˆç§°ä¸ºä¸»é¢˜ï¼‰ç»´æŠ¤ä¸€ä¸ªè§‚å¯Ÿè€…åˆ—è¡¨ï¼Œå½“ä¸»é¢˜çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚è§‚å¯Ÿè€…æ¨¡å¼é€šå¸¸ç”¨äºå®ç°ä½è€¦åˆçš„ç³»ç»Ÿï¼Œä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ä¸éœ€è¦ç›´æ¥å½±å“å…¶ä»–å¯¹è±¡ã€‚</p>
</blockquote>
<h3 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h3><p>æç¤ºï¼š</p>
<ol>
<li>åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºçˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬</li>
<li>å¢å¼ºå¯¹è±¡ï¼Œå¼¥è¡¥å› é‡å†™åŸå‹è€Œå¤±å»çš„é»˜è®¤çš„constructorå±æ€§</li>
<li>æŒ‡å®šå¯¹è±¡ï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»çš„åŸå‹</li>
</ol>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903696111763470?searchId=202404141803020E8704353213BB22279C">JavaScriptå¸¸ç”¨å…«ç§ç»§æ‰¿æ–¹æ¡ˆ - æ˜é‡‘ (juejin.cn)</a></p>
<h2 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h2><h3 id="nodeæ¨¡å—è§£ææœºåˆ¶"><a href="#nodeæ¨¡å—è§£ææœºåˆ¶" class="headerlink" title="nodeæ¨¡å—è§£ææœºåˆ¶"></a>nodeæ¨¡å—è§£ææœºåˆ¶</h3><p>Node.js çš„æ¨¡å—è§£ææœºåˆ¶ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>å†…ç½®æ¨¡å—</strong>ï¼šå¦‚æœè¯·æ±‚çš„æ¨¡å—æ˜¯ Node.js çš„å†…ç½®æ¨¡å—ï¼ˆä¾‹å¦‚ <code>fs</code>ã€<code>path</code> ç­‰ï¼‰ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›å†…ç½®æ¨¡å—ï¼Œå¹¶ç»“æŸæŸ¥æ‰¾ã€‚</li>
<li><strong>æ–‡ä»¶æ¨¡å—</strong>ï¼šå¦‚æœè¯·æ±‚çš„æ¨¡å—ä»¥ <code>./</code>ã€<code>../</code> æˆ– <code>/</code> å¼€å¤´ï¼Œé‚£ä¹ˆ Node.js ä¼šå°†å…¶è§†ä¸ºæ–‡ä»¶æ¨¡å—ã€‚Node.js ä¼šæŒ‰ç…§ <code>.js</code>ã€<code>.json</code>ã€<code>.node</code> çš„é¡ºåºï¼Œå°è¯•æ·»åŠ è¿™äº›æ‰©å±•åï¼Œç„¶ååœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æŸ¥æ‰¾ã€‚</li>
<li><strong>ç›®å½•æ¨¡å—</strong>ï¼šå¦‚æœè¯·æ±‚çš„æ¨¡å—æ˜¯ä¸€ä¸ªç›®å½•ï¼Œé‚£ä¹ˆ Node.js ä¼šæŸ¥æ‰¾è¯¥ç›®å½•ä¸‹çš„ <code>package.json</code> æ–‡ä»¶ã€‚å¦‚æœ <code>package.json</code> æ–‡ä»¶å­˜åœ¨ï¼Œé‚£ä¹ˆ Node.js ä¼šæŸ¥æ‰¾ <code>package.json</code> ä¸­ <code>main</code> å­—æ®µæŒ‡å®šçš„æ–‡ä»¶ã€‚å¦‚æœ <code>package.json</code> ä¸å­˜åœ¨ï¼Œæˆ–è€… <code>main</code> å­—æ®µä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ Node.js ä¼šæŸ¥æ‰¾è¯¥ç›®å½•ä¸‹çš„ <code>index.js</code> æ–‡ä»¶ã€‚</li>
<li><strong>node_modules</strong>ï¼šå¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ²¡æœ‰æ‰¾åˆ°æ¨¡å—ï¼Œé‚£ä¹ˆ Node.js ä¼šåœ¨å½“å‰ç›®å½•çš„çˆ¶ç›®å½•ä¸­æŸ¥æ‰¾ <code>node_modules</code> æ–‡ä»¶å¤¹ï¼Œå¹¶å°è¯•åœ¨å…¶ä¸­æŸ¥æ‰¾æ¨¡å—ã€‚Node.js ä¼šä¸€ç›´å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æ¨¡å—æˆ–è€…åˆ°è¾¾æ ¹ç›®å½•ã€‚</li>
</ol>
<h3 id="npmæ‰å¹³å®‰è£…æœºåˆ¶å¦‚ä½•å¤„ç†ç‰ˆæœ¬å†²çª"><a href="#npmæ‰å¹³å®‰è£…æœºåˆ¶å¦‚ä½•å¤„ç†ç‰ˆæœ¬å†²çª" class="headerlink" title="npmæ‰å¹³å®‰è£…æœºåˆ¶å¦‚ä½•å¤„ç†ç‰ˆæœ¬å†²çª"></a>npmæ‰å¹³å®‰è£…æœºåˆ¶å¦‚ä½•å¤„ç†ç‰ˆæœ¬å†²çª</h3><p>æç¤ºï¼š</p>
<ul>
<li>å¹½çµä¾èµ–</li>
<li>pnpmåŒ…ç®¡ç†å™¨</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/7342678690667642916?searchId=20240329120112FFC0BE937546C844D6F1">èŠä¸€èŠå‰ç«¯åŒ…ç®¡ç†ä¸­çš„å¹½çµä¾èµ– - æ˜é‡‘ (juejin.cn)</a></p>
<h3 id="package-json-ä¸-package-lock-json-çš„å…³ç³»"><a href="#package-json-ä¸-package-lock-json-çš„å…³ç³»" class="headerlink" title="package.json ä¸ package-lock.json çš„å…³ç³»"></a>package.json ä¸ package-lock.json çš„å…³ç³»</h3><p>æç¤ºï¼š</p>
<ul>
<li><p><code>~</code> ä¼šåŒ¹é…æœ€è¿‘çš„å°ç‰ˆæœ¬ä¾èµ–åŒ…ï¼Œæ¯”å¦‚ ~1.2.3 ä¼šåŒ¹é…æ‰€æœ‰ 1.2.x ç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬ 1.3.0</p>
<p><code>^</code> ä¼šåŒ¹é…æœ€æ–°çš„å¤§ç‰ˆæœ¬ä¾èµ–åŒ…ï¼Œæ¯”å¦‚ ^1.2.3 ä¼šåŒ¹é…æ‰€æœ‰ 1.x.x çš„åŒ…ï¼ŒåŒ…æ‹¬ 1.3.0ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬ 2.0.0</p>
<p><code>*</code> å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ä¾èµ–åŒ…ï¼Œæ¯”å¦‚ *1.2.3 ä¼šåŒ¹é… x.x.x</p>
</li>
<li><p>package-lock.jsonï¼šå¯¹æ•´ä¸ªä¾èµ–æ ‘è¿›è¡Œç‰ˆæœ¬é”æ­»</p>
</li>
<li><p><code>package-lock.json</code> æ˜¯ä¸ä¼šæ— ç¼˜æ— æ•…è¢«æ›´æ”¹çš„ï¼Œä¸€å®šæ˜¯å› ä¸º <strong>package.json æˆ–è€… node_modules è¢«æ›´æ”¹äº†</strong></p>
</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/post/7078233610683170824">package.json ä¸ package-lock.json çš„å…³ç³» - æ˜é‡‘ (juejin.cn)</a></p>
<h3 id="npm-i-å’Œ-npm-ci-çš„åŒºåˆ«"><a href="#npm-i-å’Œ-npm-ci-çš„åŒºåˆ«" class="headerlink" title="npm i å’Œ npm ci çš„åŒºåˆ«"></a>npm i å’Œ npm ci çš„åŒºåˆ«</h3><ol>
<li><strong>npm install</strong>ï¼šè¿™ä¸ªå‘½ä»¤ä¼šæ ¹æ® <code>package.json</code> å’Œ <code>package-lock.json</code>ï¼ˆæˆ– <code>yarn.lock</code>ï¼‰æ¥å®‰è£…ä¾èµ–ã€‚å¦‚æœ <code>package-lock.json</code> ä¸å­˜åœ¨ï¼Œ<code>npm install</code> ä¼šåˆ›å»ºå®ƒã€‚æ­¤å¤–ï¼Œ<code>npm install</code> ä¼šè‡ªåŠ¨æ›´æ–° <code>package-lock.json</code>ï¼Œå¦‚æœæœ‰ä»»ä½•ä¾èµ–çš„æ–°ç‰ˆæœ¬ç¬¦åˆ <code>package.json</code> ä¸­çš„ç‰ˆæœ¬è§„åˆ™ã€‚</li>
<li><strong>npm ci</strong>ï¼šè¿™ä¸ªå‘½ä»¤ä¸»è¦ç”¨äºæŒç»­é›†æˆï¼ˆContinuous Integrationï¼‰ç¯å¢ƒã€‚å®ƒä¼šä¸¥æ ¼æ ¹æ® <code>package-lock.json</code> æˆ– <code>npm-shrinkwrap.json</code> å®‰è£…ä¾èµ–ï¼Œä¸ä¼šæ›´æ–°è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚æ­¤å¤–ï¼Œ<code>npm ci</code> ä¼šåœ¨å®‰è£…å‰åˆ é™¤ <code>node_modules</code> ç›®å½•ï¼Œç¡®ä¿ä»å¹²å‡€çš„çŠ¶æ€å¼€å§‹å®‰è£…ã€‚</li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><h2 id="æ“ä½œç³»ç»Ÿç›¸å…³"><a href="#æ“ä½œç³»ç»Ÿç›¸å…³" class="headerlink" title="æ“ä½œç³»ç»Ÿç›¸å…³"></a>æ“ä½œç³»ç»Ÿç›¸å…³</h2><h3 id="è¿›ç¨‹å’Œçº¿ç¨‹"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹"></a>è¿›ç¨‹å’Œçº¿ç¨‹</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>æ¦‚å¿µ</li>
<li>æ˜¯å¦å¯ä»¥ç›´æ¥è®¿é—®ï¼Ÿç”¨ä»€ä¹ˆæ–¹æ³•å®ç°ï¼Ÿ</li>
<li>åŒºåˆ«</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/10/08/liu-lan-qi-xiang-guan-xi-jie-ti-3/#è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«">æµè§ˆå™¨ç›¸å…³ç»†èŠ‚é¢˜ï¼ˆ3ï¼‰ | QT-7274 (qblog.top)</a></p>
<h3 id="è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼"><a href="#è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼" class="headerlink" title="è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼"></a>è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/618243652">è¿›ç¨‹é—´é€šä¿¡ï¼ˆInterProcess Communicationï¼ŒIPCï¼‰æ˜¯æŒ‡åœ¨ä¸åŒè¿›ç¨‹ä¹‹é—´ä¼ æ’­æˆ–äº¤æ¢ä¿¡æ¯</a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/618243652">1</a>ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼š</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868"><strong>ç®¡é“ï¼ˆPipeï¼‰</strong>ï¼šç®¡é“æ˜¯ä¸€ç§åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œæ•°æ®åªèƒ½å•å‘æµåŠ¨ï¼Œè€Œä¸”åªèƒ½åœ¨å…·æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚ç®¡é“åˆ†ä¸ºæ— åç®¡é“å’Œå‘½åç®¡é“ï¼ˆFIFOï¼‰ã€‚æ— åç®¡é“é€šå¸¸ç”¨äºçˆ¶å­è¿›ç¨‹æˆ–å…„å¼Ÿè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œè€Œå‘½åç®¡é“åˆ™å¯ä»¥ç”¨äºæ— äº²ç¼˜å…³ç³»è¿›ç¨‹é—´çš„é€šä¿¡</a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868">2</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhaohong_bo/article/details/89552188">3</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34796146/article/details/107825875">4</a>ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868"><strong>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰</strong>ï¼šæ¶ˆæ¯é˜Ÿåˆ—æ˜¯ç”±æ¶ˆæ¯çš„é“¾è¡¨ï¼Œå­˜æ”¾åœ¨å†…æ ¸ä¸­å¹¶ç”±æ¶ˆæ¯é˜Ÿåˆ—æ ‡è¯†ç¬¦æ ‡è¯†ã€‚æ¶ˆæ¯é˜Ÿåˆ—å…‹æœäº†ä¿¡å·ä¼ é€’ä¿¡æ¯å°‘ã€ç®¡é“åªèƒ½æ‰¿è½½æ— æ ¼å¼å­—èŠ‚æµä»¥åŠç¼“å†²åŒºå¤§å°å—é™ç­‰ç¼ºç‚¹</a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868">2</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhaohong_bo/article/details/89552188">3</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34796146/article/details/107825875">4</a>ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868"><strong>å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰</strong>ï¼šå…±äº«å†…å­˜å°±æ˜¯æ˜ å°„ä¸€æ®µèƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€è®¿é—®çš„å†…å­˜ï¼Œè¿™æ®µå…±äº«å†…å­˜ç”±ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºï¼Œä½†å¤šä¸ªè¿›ç¨‹éƒ½å¯ä»¥è®¿é—®ã€‚å…±äº«å†…å­˜æ˜¯æœ€å¿«çš„ IPC æ–¹å¼ï¼Œå®ƒæ˜¯é’ˆå¯¹å…¶ä»–è¿›ç¨‹é—´é€šä¿¡æ–¹å¼è¿è¡Œæ•ˆç‡ä½è€Œä¸“é—¨è®¾è®¡çš„</a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868">2</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhaohong_bo/article/details/89552188">3</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34796146/article/details/107825875">4</a>ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868"><strong>ä¿¡å·é‡ï¼ˆSemaphoreï¼‰</strong>ï¼šä¿¡å·é‡æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå¯ä»¥ç”¨æ¥æ§åˆ¶å¤šä¸ªè¿›ç¨‹å¯¹å…±äº«èµ„æºçš„è®¿é—®ã€‚å®ƒå¸¸ä½œä¸ºä¸€ç§é”æœºåˆ¶ï¼Œé˜²æ­¢æŸè¿›ç¨‹æ­£åœ¨è®¿é—®å…±äº«èµ„æºæ—¶ï¼Œå…¶ä»–è¿›ç¨‹ä¹Ÿè®¿é—®è¯¥èµ„æº</a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868">2</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhaohong_bo/article/details/89552188">3</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34796146/article/details/107825875">4</a>ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhaohong_bo/article/details/89552188"><strong>ä¿¡å·ï¼ˆSignalï¼‰</strong>ï¼šä¿¡å·æ˜¯ä¸€ç§æ¯”è¾ƒå¤æ‚çš„é€šä¿¡æ–¹å¼ï¼Œç”¨äºé€šçŸ¥æ¥æ”¶è¿›ç¨‹æŸä¸ªäº‹ä»¶å·²ç»å‘ç”Ÿ</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhaohong_bo/article/details/89552188">3</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34796146/article/details/107825875">4</a>ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868"><strong>å¥—æ¥å­—ï¼ˆSocketï¼‰</strong>ï¼šå¥—æ¥å­—ä¹Ÿæ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œä¸å…¶ä»–é€šä¿¡æœºåˆ¶ä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ç”¨äºä¸åŒä¸»æœºä¸Šçš„ä¸¤ä¸ªè¿›ç¨‹é—´çš„é€šä¿¡</a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/465574868">2</a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/618243652">1</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34796146/article/details/107825875">4</a>ã€‚</li>
</ol>
<h3 id="åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹"><a href="#åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹" class="headerlink" title="åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹"></a>åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ol>
<li><strong>åƒµå°¸è¿›ç¨‹ï¼ˆZombie Processï¼‰</strong>ï¼šå½“ä¸€ä¸ªå­è¿›ç¨‹æ¯”å®ƒçš„çˆ¶è¿›ç¨‹å…ˆç»“æŸï¼Œè€Œçˆ¶è¿›ç¨‹è¿˜æ²¡æœ‰è°ƒç”¨ wait() æˆ– waitpid() ç­‰å‡½æ•°æ¥è¯»å–å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„è¿›ç¨‹æè¿°ç¬¦åœ¨ç³»ç»Ÿä¸­ä»ç„¶å­˜åœ¨ï¼Œè¿™ç§çŠ¶æ€çš„è¿›ç¨‹å°±è¢«ç§°ä¸ºåƒµå°¸è¿›ç¨‹ã€‚</li>
<li><strong>å­¤å„¿è¿›ç¨‹ï¼ˆOrphan Processï¼‰</strong>ï¼šå½“ä¸€ä¸ªçˆ¶è¿›ç¨‹ç»“æŸï¼Œè€Œå®ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªå­è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œé‚£ä¹ˆé‚£äº›å­è¿›ç¨‹å°†æˆä¸ºå­¤å„¿è¿›ç¨‹ã€‚å­¤å„¿è¿›ç¨‹å°†è¢« init è¿›ç¨‹ï¼ˆè¿›ç¨‹å·ä¸º1ï¼‰æ¥ç®¡ï¼Œå¹¶ç”± init è¿›ç¨‹å¯¹å®ƒä»¬å®ŒæˆçŠ¶æ€æ”¶é›†å·¥ä½œã€‚</li>
</ol>
<h3 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ol>
<li>æ¦‚å¿µï¼šæ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–æ›´å¤šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§äº’ç›¸ç­‰å¾…çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›å¹²æ¶‰å®ƒä»¬å°†æ— æ³•ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚</li>
<li>æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼š<ul>
<li>äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚</li>
<li>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚</li>
<li>ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚</li>
<li>å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚</li>
</ul>
</li>
<li>è§£å†³æ­»é”çš„åŸºæœ¬æ–¹æ³•ï¼š<ul>
<li>é¢„é˜²æ­»é”ï¼šç ´åæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªã€‚ä¾‹å¦‚ï¼Œåªå…è®¸è¿›ç¨‹åœ¨æ²¡æœ‰å…¶ä»–èµ„æºçš„æƒ…å†µä¸‹è¯·æ±‚èµ„æºï¼Œæˆ–è€…åªå…è®¸è¿›ç¨‹ä¸€æ¬¡è¯·æ±‚æ‰€æœ‰çš„èµ„æºã€‚</li>
<li>é¿å…æ­»é”ï¼šåœ¨èµ„æºåŠ¨æ€åˆ†é…è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¸€äº›é¿å…ç®—æ³•ï¼Œé˜²æ­¢ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œé“¶è¡Œå®¶ç®—æ³•ã€‚</li>
<li>æ£€æµ‹æ­»é”ï¼šå½“ç³»ç»Ÿä¸­å­˜åœ¨ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨ç­‰å¾…å·²è¢«å…¶ä»–è¿›ç¨‹å ç”¨çš„èµ„æºæ—¶ï¼Œå°±å¯èƒ½å­˜åœ¨æ­»é”ã€‚ç³»ç»Ÿå¯ä»¥æä¾›ä¸€ç§æœºåˆ¶æ¥æ£€æµ‹å’Œæ¢å¤æ­»é”ã€‚</li>
<li>è§£é™¤æ­»é”ï¼šå½“æ£€æµ‹åˆ°æ­»é”åï¼Œå¯ä»¥é€šè¿‡å‰¥å¤ºèµ„æºã€æ’¤é”€è¿›ç¨‹ç­‰æ–¹å¼è§£é™¤æ­»é”ã€‚</li>
</ul>
</li>
</ol>
<h3 id="ç«¯å£æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ç«¯å£æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç«¯å£æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ç«¯å£æ˜¯ä»€ä¹ˆï¼Ÿ</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>ç«¯å£æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„æœåŠ¡æˆ–è¿›ç¨‹ã€‚æ¯ä¸ªç½‘ç»œæœåŠ¡æˆ–è¿›ç¨‹éƒ½ä¼šç»‘å®šåˆ°ä¸€ä¸ªç‰¹å®šçš„ç«¯å£å·ä¸Šï¼Œè¿™æ ·å½“ç½‘ç»œæ•°æ®åˆ°è¾¾è®¡ç®—æœºæ—¶ï¼Œå°±å¯ä»¥æ ¹æ®ç«¯å£å·å°†æ•°æ®åˆ†å‘åˆ°å¯¹åº”çš„æœåŠ¡æˆ–è¿›ç¨‹ã€‚</p>
<p>ç«¯å£çš„ä¸»è¦ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>åŒºåˆ†æœåŠ¡</strong>ï¼šåŒä¸€å°è®¡ç®—æœºä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªç½‘ç»œæœåŠ¡ï¼Œä¾‹å¦‚ HTTP æœåŠ¡ã€FTP æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ç­‰ã€‚è¿™äº›æœåŠ¡éƒ½ä¼šç›‘å¬åœ¨ä¸åŒçš„ç«¯å£ä¸Šï¼Œä¾‹å¦‚ HTTP æœåŠ¡é€šå¸¸ç›‘å¬åœ¨ 80 ç«¯å£ï¼ŒHTTPS æœåŠ¡ç›‘å¬åœ¨ 443 ç«¯å£ï¼ŒMySQL æ•°æ®åº“æœåŠ¡ç›‘å¬åœ¨ 3306 ç«¯å£ç­‰ã€‚</li>
<li><strong>åŒºåˆ†è¿æ¥</strong>ï¼šåœ¨ TCP æˆ– UDP åè®®ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„è¿æ¥ç”±æº IP åœ°å€ã€æºç«¯å£ã€ç›®æ ‡ IP åœ°å€å’Œç›®æ ‡ç«¯å£å››ä¸ªå…ƒç´ ç»„æˆã€‚è¿™æ ·å³ä½¿ä»åŒä¸€ä¸ª IP åœ°å€å‘å‡ºå¤šä¸ªè¿æ¥è¯·æ±‚ï¼Œåªè¦æºç«¯å£ä¸åŒï¼Œå°±å¯ä»¥è¢«è§†ä¸ºä¸åŒçš„è¿æ¥ã€‚</li>
<li><strong>æ•°æ®åˆ†å‘</strong>ï¼šå½“ç½‘ç»œæ•°æ®åˆ°è¾¾è®¡ç®—æœºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šæ ¹æ®æ•°æ®åŒ…çš„ç›®æ ‡ç«¯å£ï¼Œå°†æ•°æ®åˆ†å‘ç»™ç›‘å¬åœ¨è¯¥ç«¯å£ä¸Šçš„æœåŠ¡æˆ–è¿›ç¨‹ã€‚</li>
</ol>
<h2 id="CSSç›¸å…³"><a href="#CSSç›¸å…³" class="headerlink" title="CSSç›¸å…³"></a>CSSç›¸å…³</h2><h3 id="CSSé€‰æ‹©å™¨ä»¥åŠä¼˜å…ˆçº§"><a href="#CSSé€‰æ‹©å™¨ä»¥åŠä¼˜å…ˆçº§" class="headerlink" title="CSSé€‰æ‹©å™¨ä»¥åŠä¼˜å…ˆçº§"></a>CSSé€‰æ‹©å™¨ä»¥åŠä¼˜å…ˆçº§</h3><p>CSSé€‰æ‹©å™¨ç”¨äºé€‰æ‹©ä½ æƒ³è¦æ ·å¼åŒ–çš„å…ƒç´ ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„CSSé€‰æ‹©å™¨ï¼š</p>
<ol>
<li><strong>å…ƒç´ é€‰æ‹©å™¨</strong>ï¼šé€‰æ‹©HTMLå…ƒç´ ç±»å‹ã€‚ä¾‹å¦‚ï¼Œ<code>p</code>é€‰æ‹©æ‰€æœ‰çš„<code>&lt;p&gt;</code>å…ƒç´ ã€‚</li>
<li><strong>ç±»é€‰æ‹©å™¨</strong>ï¼šé€‰æ‹©å…·æœ‰ç‰¹å®šç±»çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>.myClass</code>é€‰æ‹©æ‰€æœ‰å…·æœ‰<code>myClass</code>ç±»çš„å…ƒç´ ã€‚</li>
<li><strong>IDé€‰æ‹©å™¨</strong>ï¼šé€‰æ‹©å…·æœ‰ç‰¹å®šIDçš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>#myID</code>é€‰æ‹©IDä¸º<code>myID</code>çš„å…ƒç´ ã€‚</li>
<li><strong>å±æ€§é€‰æ‹©å™¨</strong>ï¼šé€‰æ‹©å…·æœ‰ç‰¹å®šå±æ€§çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>[href]</code>é€‰æ‹©æ‰€æœ‰å…·æœ‰<code>href</code>å±æ€§çš„å…ƒç´ ã€‚</li>
<li><strong>ä¼ªç±»é€‰æ‹©å™¨</strong>ï¼šé€‰æ‹©å¤„äºç‰¹å®šçŠ¶æ€çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>:hover</code>é€‰æ‹©é¼ æ ‡æ‚¬åœåœ¨ä¸Šé¢çš„å…ƒç´ ã€‚</li>
<li><strong>ä¼ªå…ƒç´ é€‰æ‹©å™¨</strong>ï¼šé€‰æ‹©å…ƒç´ çš„ç‰¹å®šéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œ<code>::before</code>é€‰æ‹©å…ƒç´ çš„å†…å®¹ä¹‹å‰çš„ä½ç½®ã€‚</li>
<li><strong>ç»„åˆé€‰æ‹©å™¨</strong>ï¼šç»“åˆå¤šä¸ªé€‰æ‹©å™¨ï¼Œé€‰æ‹©æ»¡è¶³æ‰€æœ‰æ¡ä»¶çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ<code>p.myClass</code>é€‰æ‹©æ‰€æœ‰æ—¢æ˜¯<code>&lt;p&gt;</code>å…ƒç´ åˆå…·æœ‰<code>myClass</code>ç±»çš„å…ƒç´ ã€‚</li>
</ol>
<p>CSSé€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ï¼ˆä¹Ÿç§°ä¸ºç‰¹å¼‚æ€§ï¼‰å†³å®šäº†å½“å¤šä¸ªè§„åˆ™åº”ç”¨äºåŒä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå“ªä¸ªè§„åˆ™ä¼šç”Ÿæ•ˆã€‚ä¼˜å…ˆçº§ç”±é€‰æ‹©å™¨çš„ç»„æˆéƒ¨åˆ†å†³å®šï¼š</p>
<ol>
<li><code>!important</code></li>
<li><strong>å†…è”æ ·å¼</strong>ï¼ˆ1000ï¼‰ï¼šåœ¨HTMLå…ƒç´ çš„<code>style</code>å±æ€§ä¸­å®šä¹‰çš„æ ·å¼å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ã€‚</li>
<li><strong>IDé€‰æ‹©å™¨</strong>ï¼ˆ0100ï¼‰ï¼šIDé€‰æ‹©å™¨çš„ä¼˜å…ˆçº§é«˜äºç±»é€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨å’Œå…ƒç´ é€‰æ‹©å™¨ã€‚</li>
<li><strong>ç±»é€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨å’Œä¼ªç±»é€‰æ‹©å™¨</strong>ï¼ˆ0001ï¼‰ï¼šè¿™äº›é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§é«˜äºå…ƒç´ é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ é€‰æ‹©å™¨ã€‚</li>
<li><strong>å…ƒç´ é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ é€‰æ‹©å™¨</strong>ï¼ˆ0000ï¼‰ï¼šè¿™äº›é€‰æ‹©å™¨å…·æœ‰æœ€ä½çš„ä¼˜å…ˆçº§ã€‚</li>
</ol>
<p>å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œé‚£ä¹ˆåœ¨CSSä¸­åå‡ºç°çš„è§„åˆ™ä¼šè¦†ç›–å…ˆå‡ºç°çš„è§„åˆ™ã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªè§„åˆ™æ— è®ºå¦‚ä½•éƒ½ç”Ÿæ•ˆï¼Œä½ å¯ä»¥åœ¨è§„åˆ™åé¢æ·»åŠ <code>!important</code>å…³é”®å­—ï¼Œä½†è¿™åº”è¯¥å°½é‡é¿å…ï¼Œå› ä¸ºå®ƒä¼šç ´åCSSçš„ä¼˜å…ˆçº§è§„åˆ™ã€‚</p>
<h3 id="ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«"><a href="#ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«" class="headerlink" title="ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«"></a>ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«</h3><p>ä¼ªç±»å’Œä¼ªå…ƒç´ æ˜¯ç”¨æ¥ä¿®é¥°ä¸åœ¨æ–‡æ¡£æ ‘ä¸­çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚ï¼Œä¸€å¥è¯ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ¯ï¼Œæˆ–è€…æ˜¯åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ </p>
<ul>
<li><p>ä¼ªç±»ç”¨äº<strong>å½“å·²æœ‰å…ƒç´ å¤„äºçš„æŸä¸ªçŠ¶æ€</strong>æ—¶ï¼Œä¸ºå…¶æ·»åŠ å¯¹åº”çš„æ ·å¼ï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯æ ¹æ®ç”¨æˆ·è¡Œä¸ºè€ŒåŠ¨æ€å˜åŒ–çš„ã€‚æ¯”å¦‚è¯´ï¼Œå½“ç”¨æˆ·æ‚¬åœåœ¨æŒ‡å®šçš„å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡:hoveræ¥æè¿°è¿™ä¸ªå…ƒç´ çš„çŠ¶æ€ã€‚</p>
<blockquote>
<p>è™½ç„¶å®ƒå’Œæ™®é€šçš„cssç±»ç›¸ä¼¼ï¼Œå¯ä»¥ä¸ºå·²æœ‰çš„å…ƒç´ æ·»åŠ æ ·å¼ï¼Œä½†æ˜¯å®ƒåªæœ‰å¤„äºdomæ ‘æ— æ³•æè¿°çš„çŠ¶æ€ä¸‹æ‰èƒ½ä¸ºå…ƒç´ æ·»åŠ æ ·å¼ï¼Œæ‰€ä»¥å°†å…¶ç§°ä¸ºä¼ªç±»ã€‚</p>
</blockquote>
</li>
<li><p>ä¼ªå…ƒç´ ç”¨äº<strong>åˆ›å»ºä¸€äº›ä¸åœ¨æ–‡æ¡£æ ‘ä¸­çš„å…ƒç´ </strong>ï¼Œå¹¶ä¸ºå…¶æ·»åŠ æ ·å¼ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡:beforeæ¥åœ¨ä¸€ ä¸ªå…ƒç´ å‰å¢åŠ äº›æ–‡æœ¬ï¼Œå¹¶ä¸ºè¿™äº›æ–‡æœ¬æ·»åŠ æ ·å¼ã€‚è™½ç„¶ç”¨æˆ·å¯ä»¥çœ‹åˆ°è¿™äº›æ–‡æœ¬ï¼Œä½†æ˜¯è¿™äº›æ–‡æœ¬å®é™…ä¸Šä¸åœ¨æ–‡æ¡£æ ‘ä¸­ã€‚</p>
</li>
</ul>
<p>åŒºåˆ«</p>
<ul>
<li>ä¼ªç±»çš„æ“ä½œå¯¹è±¡æ˜¯æ–‡æ¡£æ ‘ä¸­å·²æœ‰çš„å…ƒç´ ï¼Œè€Œä¼ªå…ƒç´ åˆ™åˆ›å»ºäº†ä¸€ä¸ªæ–‡æ¡£æ ‘å¤–çš„å…ƒç´ ã€‚ å› æ­¤ï¼Œä¼ªç±»ä¸ä¼ªå…ƒç´ çš„åŒºåˆ«åœ¨äº:æœ‰æ²¡æœ‰åˆ›å»ºä¸€ä¸ªæ–‡æ¡£æ ‘ä¹‹ å¤–çš„å…ƒç´ ã€‚</li>
<li>CSS3è§„èŒƒä¸­çš„è¦æ±‚ä½¿ç”¨åŒå†’å·è¡¨ç¤ºä¼ªå…ƒç´ ï¼Œä»¥æ­¤æ¥åŒºåˆ†ä¼ªå…ƒç´ å’Œä¼ªç±»ï¼Œæ¯”å¦‚:beforeå’Œ:afterç­‰ä¼ªå…ƒç´ ä½¿ç”¨åŒå†’å·ï¼Œ:hoverå’Œ:activeç­‰ä¼ªç±»ä½¿ç”¨å•å†’å·ã€‚ é™¤äº†ä¸€äº›ä½äºIE8ç‰ˆæœ¬çš„æµè§ˆå™¨å¤–ï¼Œå¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒä¼ªå…ƒç´ çš„åŒå†’å·è¡¨ç¤ºæ–¹æ³•ã€‚</li>
</ul>
<h3 id="rem-em-vh-vw"><a href="#rem-em-vh-vw" class="headerlink" title="rem em vh vw"></a>rem em vh vw</h3><ul>
<li>emï¼šå®šä¹‰å­—ä½“å¤§å°æ—¶ä»¥çˆ¶çº§çš„å­—ä½“å¤§å°ä¸ºåŸºå‡†ï¼›å®šä¹‰é•¿åº¦å•ä½æ—¶ä»¥å½“å‰å­—ä½“å¤§å°ä¸ºåŸºå‡†ã€‚</li>
<li>remï¼šä»¥æ ¹å…ƒç´ çš„å­—ä½“å¤§å°ä¸ºåŸºå‡†</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/12/xiang-ying-shi-bu-ju-de-chang-yong-jie-jue-fang-an-dui-bi/">å“åº”å¼å¸ƒå±€çš„å¸¸ç”¨è§£å†³æ–¹æ¡ˆå¯¹æ¯” | QT-7274 (qblog.top)</a></p>
<h3 id="z-index"><a href="#z-index" class="headerlink" title="z-index"></a>z-index</h3><p><code>z-index</code> æ˜¯ CSS å±æ€§ï¼Œç”¨äºæ§åˆ¶å…ƒç´ åœ¨é¡µé¢çš„å †å é¡ºåºï¼ˆå³å“ªä¸ªå…ƒç´ åœ¨å‰ï¼Œå“ªä¸ªå…ƒç´ åœ¨åï¼‰ã€‚ä½¿ç”¨ <code>z-index</code> æ—¶ï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li><strong>å®šä½ä¸Šä¸‹æ–‡</strong>ï¼š<code>z-index</code> åªå¯¹å®šä½å…ƒç´ ï¼ˆå³ <code>position</code> å±æ€§ä¸º <code>relative</code>ã€<code>absolute</code>ã€<code>fixed</code> æˆ– <code>sticky</code> çš„å…ƒç´ ï¼‰æœ‰æ•ˆã€‚å¯¹äº <code>position</code> ä¸º <code>static</code> çš„å…ƒç´ ï¼Œ<code>z-index</code> ä¸ä¼šäº§ç”Ÿä»»ä½•æ•ˆæœã€‚</li>
<li><strong>å †å ä¸Šä¸‹æ–‡</strong>ï¼š<code>z-index</code> çš„å€¼åªåœ¨åŒä¸€ä¸ªå †å ä¸Šä¸‹æ–‡ä¸­æ¯”è¾ƒã€‚æ¯ä¸ªå®šä½å…ƒç´ å’Œæ ¹å…ƒç´ éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å †å ä¸Šä¸‹æ–‡ã€‚åœ¨ä¸€ä¸ªå †å ä¸Šä¸‹æ–‡ä¸­ï¼Œå…·æœ‰è¾ƒå¤§ <code>z-index</code> å€¼çš„å…ƒç´ ä¼šè¦†ç›–å…·æœ‰è¾ƒå° <code>z-index</code> å€¼çš„å…ƒç´ ï¼Œä½†å®ƒä»¬éƒ½ä¸ä¼šè¦†ç›–ä»»ä½•åœ¨çˆ¶çº§å †å ä¸Šä¸‹æ–‡ä¸­çš„å…ƒç´ ã€‚</li>
<li><strong><code>z-index</code> æ˜¯æ•´æ•°</strong>ï¼š<code>z-index</code> çš„å€¼å¿…é¡»æ˜¯æ•´æ•°ã€‚ä½ å¯ä»¥ä½¿ç”¨æ­£æ•°ã€é›¶æˆ–è´Ÿæ•°ã€‚æ­£æ•°çš„å…ƒç´ ä¼šè¦†ç›–é›¶å’Œè´Ÿæ•°çš„å…ƒç´ ï¼Œé›¶çš„å…ƒç´ ä¼šè¦†ç›–è´Ÿæ•°çš„å…ƒç´ ã€‚</li>
<li><strong>è‡ªåŠ¨å€¼</strong>ï¼šå¦‚æœ <code>z-index</code> çš„å€¼æ˜¯ <code>auto</code>ï¼Œé‚£ä¹ˆå…ƒç´ çš„å †å é¡ºåºç”±å…¶åœ¨ HTML ä¸­çš„ä½ç½®å†³å®šï¼ˆåå‡ºç°çš„å…ƒç´ è¦†ç›–å…ˆå‡ºç°çš„å…ƒç´ ï¼‰ã€‚</li>
<li><strong>é€æ˜åº¦å’Œæ··åˆæ¨¡å¼</strong>ï¼šè®¾ç½® <code>opacity</code>ã€<code>transform</code>ã€<code>filter</code> æˆ– <code>mix-blend-mode</code> å±æ€§çš„å€¼ä¹Ÿä¼šåˆ›å»ºæ–°çš„å †å ä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>å­å…ƒç´ å’Œçˆ¶å…ƒç´ </strong>ï¼šå­å…ƒç´ æ°¸è¿œä¸ä¼šè¦†ç›–å…¶çˆ¶å…ƒç´ ï¼Œæ— è®º <code>z-index</code> å¦‚ä½•è®¾ç½®ã€‚è¿™æ˜¯å› ä¸ºå­å…ƒç´ æ˜¯åœ¨çˆ¶å…ƒç´ çš„å †å ä¸Šä¸‹æ–‡ä¸­ã€‚</li>
</ol>
<p><strong>z-indexä¸º0å’Œautoçš„åŒºåˆ«ï¼Ÿ</strong></p>
<p><code>z-index</code> çš„é»˜è®¤å€¼æ˜¯ <code>auto</code>ã€‚è¿™æ„å‘³ç€å…ƒç´ çš„å †å é¡ºåºç”±å…¶åœ¨ HTML ä¸­çš„ä½ç½®å†³å®šï¼ˆåå‡ºç°çš„å…ƒç´ è¦†ç›–å…ˆå‡ºç°çš„å…ƒç´ ï¼‰ã€‚</p>
<p><code>auto</code> å’Œ <code>0</code> åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹çš„æ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œéƒ½è¡¨ç¤ºå…ƒç´ å¤„äºæ­£å¸¸çš„æ–‡æ¡£æµä¸­ã€‚ç„¶è€Œï¼Œå®ƒä»¬åœ¨åˆ›å»ºæ–°çš„å †å ä¸Šä¸‹æ–‡æ—¶æœ‰æ‰€ä¸åŒã€‚</p>
<p>å¯¹äº <code>position</code> ä¸º <code>relative</code>ã€<code>absolute</code> æˆ– <code>fixed</code> çš„å…ƒç´ ï¼Œå¦‚æœ <code>z-index</code> çš„å€¼ä¸º <code>auto</code>ï¼Œé‚£ä¹ˆå®ƒä¸ä¼šåˆ›å»ºæ–°çš„å †å ä¸Šä¸‹æ–‡ï¼›å¦‚æœ <code>z-index</code> çš„å€¼ä¸º <code>0</code> æˆ–å…¶ä»–æ•°å­—ï¼Œé‚£ä¹ˆå®ƒä¼šåˆ›å»ºæ–°çš„å †å ä¸Šä¸‹æ–‡ã€‚</p>
<p>åˆ›å»ºæ–°çš„å †å ä¸Šä¸‹æ–‡çš„å…ƒç´ ä¼šä¸å…¶å…„å¼Ÿå…ƒç´ åˆ†å¼€ï¼Œå®ƒå’Œå…¶å­å…ƒç´ ä¼šå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„å±‚æ¬¡ï¼Œè¿™ä¸ªå±‚æ¬¡çš„ <code>z-index</code> ä¼šè¢«è§†ä¸ºä¸€ä¸ªæ•´ä½“æ¥ä¸å…¶ä»–å±‚æ¬¡æ¯”è¾ƒï¼Œè€Œä¸æ˜¯å•ç‹¬çš„å…ƒç´ ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿å †å ä¸Šä¸‹æ–‡ä¸­çš„ä¸€ä¸ªå…ƒç´ çš„ <code>z-index</code> å¾ˆå¤§ï¼Œå®ƒä¹Ÿä¸èƒ½è¦†ç›–å…¶çˆ¶çº§å †å ä¸Šä¸‹æ–‡ä¸­çš„å…¶ä»–å…ƒç´ ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è™½ç„¶å…ƒç´  B çš„ <code>z-index</code> å€¼ï¼ˆ3ï¼‰å¤§äºå…ƒç´  A çš„ <code>z-index</code> å€¼ï¼ˆ2ï¼‰ï¼Œä½†å…ƒç´  B ä¸ä¼šè¦†ç›–å…ƒç´  Aï¼Œå› ä¸ºå®ƒä»¬ä¸åœ¨åŒä¸€ä¸ªå †å ä¸Šä¸‹æ–‡ä¸­ã€‚å…ƒç´  A å’Œ B åˆ†åˆ«åœ¨å®ƒä»¬å„è‡ªçš„çˆ¶å…ƒç´ çš„å †å ä¸Šä¸‹æ–‡ä¸­ï¼Œè€Œè¿™ä¸¤ä¸ªçˆ¶å…ƒç´ çš„ <code>z-index</code> å€¼åˆ†åˆ«ä¸º 1 å’Œ 0ï¼Œæ‰€ä»¥å…ƒç´  A çš„çˆ¶å…ƒç´ ï¼ˆä»¥åŠå…¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼‰å°†è¦†ç›–å…ƒç´  B çš„çˆ¶å…ƒç´ ã€‚</p>
<h3 id="ç›’æ¨¡å‹"><a href="#ç›’æ¨¡å‹" class="headerlink" title="ç›’æ¨¡å‹"></a>ç›’æ¨¡å‹</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼šç›’å­çš„å¤§å°=ï¼Ÿ</p>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/06/26/css-zhong-de-he-zi-mo-xing/">CSSä¸­çš„ç›’å­æ¨¡å‹ | QT-7274 (qblog.top)</a></p>
<h3 id="align-content-å’Œ-align-self-çš„åŒºåˆ«"><a href="#align-content-å’Œ-align-self-çš„åŒºåˆ«" class="headerlink" title="align-content å’Œ align-self çš„åŒºåˆ«"></a><code>align-content</code> å’Œ <code>align-self</code> çš„åŒºåˆ«</h3><blockquote>
<p>é‡‘å±±äº‘</p>
</blockquote>
<ol>
<li><code>align-content</code>ï¼šè¿™ä¸ªå±æ€§ç”¨äº<strong>å¤šè¡Œ</strong>çš„ flex å®¹å™¨ï¼ˆå½“ flex å®¹å™¨çš„ flex-wrap å±æ€§ä¸æ˜¯ nowrapï¼Œå¹¶ä¸”æœ‰å¤šè¡Œ flex é¡¹ç›®æ—¶ï¼‰ã€‚å®ƒæ§åˆ¶çš„æ˜¯<strong>è¡Œä¸è¡Œ</strong>ä¹‹é—´çš„å¯¹é½ï¼Œå¯ä»¥å°†å…¶è§†ä¸ºåœ¨ flex å®¹å™¨çš„äº¤å‰è½´ä¸Šå¯¹é½ flex è¡Œã€‚å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š<code>flex-start</code>ã€<code>flex-end</code>ã€<code>center</code>ã€<code>space-between</code>ã€<code>space-around</code>ã€<code>stretch</code>ã€‚</li>
<li><code>align-self</code>ï¼šè¿™ä¸ªå±æ€§å…è®¸ä½ è¦†ç›–<strong>æŸä¸ª</strong>ç‰¹å®š flex é¡¹ç›®çš„ align-items å±æ€§ã€‚å®ƒæ§åˆ¶çš„æ˜¯å•ä¸ªé¡¹ç›®åœ¨<strong>äº¤å‰è½´</strong>ä¸Šçš„å¯¹é½æ–¹å¼ã€‚å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š<code>auto</code>ã€<code>flex-start</code>ã€<code>flex-end</code>ã€<code>center</code>ã€<code>baseline</code>ã€<code>stretch</code>ã€‚</li>
</ol>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/02/css-zhong-de-bu-ju-hui-zong/#justify-items-æ°´å¹³æ–¹å‘-align-items-å‚ç›´æ–¹å‘">CSSä¸­çš„å¸ƒå±€æ±‡æ€» | QT-7274 (qblog.top)</a></p>
<h3 id="flex-å¸ƒå±€å®ç°å‚ç›´ç½®é¡¶ï¼Œé å³å¯¹é½"><a href="#flex-å¸ƒå±€å®ç°å‚ç›´ç½®é¡¶ï¼Œé å³å¯¹é½" class="headerlink" title="flex å¸ƒå±€å®ç°å‚ç›´ç½®é¡¶ï¼Œé å³å¯¹é½"></a><code>flex</code> å¸ƒå±€å®ç°å‚ç›´ç½®é¡¶ï¼Œé å³å¯¹é½</h3><blockquote>
<p>é‡‘å±±äº‘</p>
</blockquote>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><code>flex-direction: column</code> è®¾ç½®ä¸»è½´æ–¹å‘ä¸ºä»ä¸Šåˆ°ä¸‹</li>
<li><code>justify-content: flex-start</code> å°±å¯ä»¥ä½¿é¡¹ç›®å‚ç›´ç½®é¡¶</li>
<li><code>align-items: flex-end</code> åˆ™ä½¿é¡¹ç›®åœ¨äº¤å‰è½´ï¼ˆä»å·¦åˆ°å³ï¼‰ä¸Šé å³å¯¹é½ã€‚</li>
</ul>
<h3 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h3><blockquote>
<p>å­—èŠ‚ã€å°é¹…é€šã€è…¾è®¯</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å…¨ç§° åŠ ä¸€å¥è¯æ¦‚æ‹¬ä½œç”¨</li>
<li>BFCçš„æ¸²æŸ“è§„åˆ™ï¼šå…­ç§</li>
<li>BFCçš„åˆ›å»ºæ¡ä»¶ï¼šäº”ç§</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/05/09/qian-duan-mian-shi-hui-zong/#è¯·æè¿°-BFC-Block-Formatting-Context-åŠå…¶å¦‚ä½•å·¥ä½œã€‚">å‰ç«¯é¢è¯•æ±‡æ€» | QT-7274 (qblog.top)</a></p>
<h3 id="å¦‚ä½•å®ç°å‚ç›´æ°´å¹³å±…ä¸­"><a href="#å¦‚ä½•å®ç°å‚ç›´æ°´å¹³å±…ä¸­" class="headerlink" title="å¦‚ä½•å®ç°å‚ç›´æ°´å¹³å±…ä¸­"></a>å¦‚ä½•å®ç°å‚ç›´æ°´å¹³å±…ä¸­</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å®½é«˜å·²çŸ¥ï¼šä¸€ç§</li>
<li>å®½é«˜æœªçŸ¥ï¼šå®šä½ä¸¤ç§+å¸ƒå±€ä¸‰ç§</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/18/css-shui-ping-chui-zhi-ju-zhong-xiang-jie/">CSSæ°´å¹³å‚ç›´å±…ä¸­è¯¦è§£ | QT-7274 (qblog.top)</a></p>
<h3 id="ä¿®æ”¹ElementUIçš„æ ·å¼"><a href="#ä¿®æ”¹ElementUIçš„æ ·å¼" class="headerlink" title="ä¿®æ”¹ElementUIçš„æ ·å¼"></a>ä¿®æ”¹ElementUIçš„æ ·å¼</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<ul>
<li><p>å…¨å±€æ ·å¼è¦†ç›–</p>
<p>åœ¨ä½ çš„å…¨å±€æ ·å¼æ–‡ä»¶ï¼ˆå¦‚ <code>App.vue</code> æˆ– <code>main.js</code> å¼•å…¥çš„ CSS æ–‡ä»¶ï¼‰ä¸­ï¼Œå†™å…¥é’ˆå¯¹ ElementUI ç»„ä»¶çš„ CSS æ ·å¼ã€‚ç”±äº CSS çš„ç‰¹æ€§ï¼Œåé¢çš„æ ·å¼ä¼šè¦†ç›–å‰é¢çš„æ ·å¼ï¼Œæ‰€ä»¥ä½ çš„è‡ªå®šä¹‰æ ·å¼ä¼šè¦†ç›– ElementUI çš„é»˜è®¤æ ·å¼ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œç”±äº ElementUI çš„æ ·å¼æ˜¯é€šè¿‡ç±»é€‰æ‹©å™¨åº”ç”¨çš„ï¼Œæ‰€ä»¥ä½ å¯èƒ½éœ€è¦ä½¿ç”¨ <code>!important</code> æ¥è¦†ç›–é»˜è®¤æ ·å¼ã€‚</p>
</blockquote>
</li>
<li><p>å±€éƒ¨æ ·å¼è¦†ç›–</p>
<p>åœ¨ä½ çš„ Vue ç»„ä»¶ä¸­ï¼Œä½ å¯ä»¥åœ¨ <code>&lt;style&gt;</code> æ ‡ç­¾ä¸­å†™å…¥é’ˆå¯¹ ElementUI ç»„ä»¶çš„ CSS æ ·å¼ã€‚å¦‚æœä½ åªæƒ³åœ¨è¿™ä¸ªç»„ä»¶ä¸­è¦†ç›–æ ·å¼ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>scoped</code> å±æ€§ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œå¦‚æœä½ ä½¿ç”¨ <code>scoped</code>ï¼Œä½ çš„æ ·å¼åªä¼šåº”ç”¨åˆ°è¿™ä¸ªç»„ä»¶ä¸­çš„ ElementUI ç»„ä»¶ã€‚å¦‚æœä½ æƒ³è¦†ç›–å…¨å±€çš„ ElementUI æ ·å¼ï¼Œä½ éœ€è¦å»æ‰ <code>scoped</code>ã€‚</p>
</blockquote>
</li>
<li><p>::deepä¿®æ”¹</p>
<p>è¿™æ˜¯å› ä¸º ElementUI çš„æ ·å¼æ˜¯åœ¨ç»„ä»¶çš„ Shadow DOM ä¸­ï¼Œè€Œ <code>::v-deep</code> å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç©¿é€ Shadow DOMï¼Œä¿®æ”¹å…¶å†…éƒ¨çš„æ ·å¼ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œ<code>::v-deep</code> åªèƒ½åœ¨ Vue ç»„ä»¶çš„ <code>&lt;style&gt;</code> æ ‡ç­¾ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”éœ€è¦é…åˆ <code>scoped</code> ä½¿ç”¨ã€‚å¦‚æœä½ åœ¨å…¨å±€æ ·å¼æ–‡ä»¶ä¸­ä½¿ç”¨ <code>::v-deep</code>ï¼Œå¯èƒ½ä¼šæ— æ³•ç”Ÿæ•ˆã€‚</p>
</blockquote>
</li>
<li><p>ä¿®æ”¹ElementUIçš„ Sass å˜é‡</p>
<p>ElementUI çš„æ ·å¼æ˜¯åŸºäº Sass çš„ï¼Œä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ Sass å˜é‡æ¥æ”¹å˜ ElementUI çš„é»˜è®¤æ ·å¼ã€‚é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£… <code>sass-loader</code> å’Œ <code>node-sass</code>ï¼Œç„¶ååœ¨ä½ çš„æ ·å¼æ–‡ä»¶ä¸­å¼•å…¥ ElementUI çš„æ ·å¼æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹ä½ æƒ³è¦æ”¹å˜çš„å˜é‡ã€‚</p>
</li>
<li><p>ç›´æ¥ä¿®æ”¹æºä»£ç </p>
</li>
</ul>
<h3 id="ç›’æ¨¡å‹-1"><a href="#ç›’æ¨¡å‹-1" class="headerlink" title="ç›’æ¨¡å‹"></a>ç›’æ¨¡å‹</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>ç›’å­çš„åˆ†ç±»</li>
<li>ç›’å­çš„ç»„æˆ</li>
<li>ç›’å­çš„å¤§å°</li>
<li>å››ä¸ªå±æ€§çš„ç‰¹ç‚¹</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/06/26/css-zhong-de-he-zi-mo-xing/">CSSä¸­çš„ç›’å­æ¨¡å‹ | QT-7274 (qblog.top)</a></p>
<h3 id="ç²˜æ€§å®šä½çš„åŸç†"><a href="#ç²˜æ€§å®šä½çš„åŸç†" class="headerlink" title="ç²˜æ€§å®šä½çš„åŸç†"></a>ç²˜æ€§å®šä½çš„åŸç†</h3><blockquote>
<p>å°é¹…é€š</p>
</blockquote>
<p>å®ƒæ˜¯ç›¸å¯¹å®šä½å’Œå›ºå®šå®šä½çš„æ··åˆä½“ï¼šå…ƒç´ åœ¨æ»šåŠ¨åˆ°ä¸€å®šä½ç½®ä¹‹å‰è¡¨ç°ä¸ºç›¸å¯¹å®šä½ï¼Œå½“å…ƒç´ æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®æ—¶ï¼Œå®ƒä¼šå˜ä¸ºå›ºå®šå®šä½ã€‚</p>
<p>å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>å½“å…ƒç´ åœ¨è§†å£ï¼ˆviewportï¼‰å†…ï¼Œä¸”æœªè¾¾åˆ°æŒ‡å®šçš„åç§»ä½ç½®æ—¶ï¼Œå…ƒç´ è¡¨ç°ä¸ºç›¸å¯¹å®šä½ã€‚æ­¤æ—¶ï¼Œå…ƒç´ ä¼šæŒ‰ç…§æ­£å¸¸çš„æ–‡æ¡£æµè¿›è¡Œå¸ƒå±€ï¼Œä¸ä¼šè„±ç¦»æ–‡æ¡£æµã€‚</li>
<li>å½“é¡µé¢æ»šåŠ¨ï¼Œä½¿å…ƒç´ è¾¾åˆ°æˆ–è¶…è¿‡æŒ‡å®šçš„åç§»ä½ç½®æ—¶ï¼Œå…ƒç´ ä¼šå˜ä¸ºå›ºå®šå®šä½ã€‚æ­¤æ—¶ï¼Œå…ƒç´ ä¼šå›ºå®šåœ¨è§†å£çš„æŸä¸ªä½ç½®ï¼Œä¸ä¼šéšç€é¡µé¢çš„æ»šåŠ¨è€Œç§»åŠ¨ã€‚</li>
<li>å½“é¡µé¢ç»§ç»­æ»šåŠ¨ï¼Œ<strong>ä½¿å…ƒç´ çš„çˆ¶å®¹å™¨æ»šå‡ºè§†å£æ—¶</strong>ï¼Œå…ƒç´ ä¼šå†æ¬¡å˜ä¸ºç›¸å¯¹å®šä½ï¼Œæ¢å¤åˆ°æ­£å¸¸çš„æ–‡æ¡£æµä¸­ã€‚</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.sticky</span> <span class="token punctuation">&#123;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="HTMLçš„å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ "><a href="#HTMLçš„å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ " class="headerlink" title="HTMLçš„å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ "></a>HTMLçš„å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ </h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p><strong>å—çº§å…ƒç´ </strong>åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>&lt;div&gt;</code></li>
<li><code>&lt;h1&gt;</code> åˆ° <code>&lt;h6&gt;</code></li>
<li><code>&lt;p&gt;</code></li>
<li><code>&lt;form&gt;</code></li>
<li><code>&lt;header&gt;</code>, <code>&lt;footer&gt;</code>, <code>&lt;section&gt;</code> ç­‰</li>
</ul>
<p>å—çº§å…ƒç´ çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå—çº§å…ƒç´ ä¼šç‹¬å ä¸€è¡Œï¼Œå³ä½¿è®¾ç½®äº†å®½åº¦ï¼Œå…¶åçš„å…ƒç´ ä¹Ÿä¼šæ¢è¡Œæ˜¾ç¤ºã€‚</li>
<li>å¯ä»¥è®¾ç½®å®½åº¦ã€é«˜åº¦ã€å¤–è¾¹è·å’Œå†…è¾¹è·ã€‚</li>
</ul>
<p><strong>è¡Œå†…å…ƒç´ </strong>åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>&lt;span&gt;</code></li>
<li><code>&lt;a&gt;</code></li>
<li><code>&lt;img&gt;</code></li>
<li><code>&lt;button&gt;</code></li>
<li><code>&lt;input&gt;</code></li>
<li><code>&lt;label&gt;</code></li>
<li><code>&lt;em&gt;</code>, <code>&lt;strong&gt;</code> ç­‰</li>
</ul>
<p>è¡Œå†…å…ƒç´ çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è¡Œå†…å…ƒç´ ä¸ä¼šç‹¬å ä¸€è¡Œï¼Œå¤šä¸ªè¡Œå†…å…ƒç´ ä¼šåœ¨ä¸€è¡Œå†…ä»å·¦åˆ°å³ä¾æ¬¡æ’åˆ—ã€‚</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸èƒ½è®¾ç½®å®½åº¦å’Œé«˜åº¦ï¼ˆé™¤éè®¾ç½®äº† <code>display: inline-block</code>ï¼‰ï¼Œåªèƒ½è®¾ç½®å·¦å³çš„å¤–è¾¹è·å’Œå†…è¾¹è·ã€‚</li>
</ul>
<p><strong>è¡Œå†…å—å…ƒç´ </strong>åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>&lt;img&gt;</code></li>
<li><code>&lt;input&gt;</code></li>
</ul>
<p>è¡Œå†…å—å…ƒç´ çš„ç‰¹ç‚¹ï¼š</p>
<p>è¡Œå†…å—çº§å…ƒç´ æ˜¯å—çº§å…ƒç´ å’Œè¡Œå†…å…ƒç´ çš„æ··åˆä½“ã€‚å®ƒåƒè¡Œå†…å…ƒç´ ä¸€æ ·ï¼Œä¸ä¼šç‹¬å ä¸€è¡Œï¼Œå¯ä»¥å’Œå…¶ä»–å…ƒç´ å¹¶æ’æ˜¾ç¤ºã€‚åŒæ—¶ï¼Œå®ƒåˆåƒå—çº§å…ƒç´ ä¸€æ ·ï¼Œå¯ä»¥è®¾ç½®å®½åº¦å’Œé«˜åº¦ã€‚</p>
<h3 id="positonå®šä½åŠåŒºåˆ«"><a href="#positonå®šä½åŠåŒºåˆ«" class="headerlink" title="positonå®šä½åŠåŒºåˆ«"></a>positonå®šä½åŠåŒºåˆ«</h3><blockquote>
<p>è…¾è®¯</p>
</blockquote>
<p>åœ¨ CSS ä¸­ï¼Œposition å±æ€§æœ‰ 4 ä¸ªå–å€¼ï¼šstaticã€fixedã€relativeã€absoluteã€‚å„ä¸ªå–å€¼çš„å®šä½å¯¹è±¡å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>
<ul>
<li><p>åŸå› </p>
<p><details><summary><b>ç­”æ¡ˆ</b></summary></p>
<p>


</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>static</td>
<td>é™æ€å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸æ–‡æ¡£ä¸­ï¼ˆé»˜è®¤å€¼ï¼‰</td>
</tr>
<tr>
<td>fixed</td>
<td>å›ºå®šå®šä½ï¼Œç›¸å¯¹äº<strong>æµè§ˆå™¨çª—å£å®šä½</strong></td>
</tr>
<tr>
<td>relative</td>
<td>ç›¸å¯¹å®šä½ï¼Œç›¸å¯¹äº<strong>å…ƒç´ åˆå§‹ä½ç½®å®šä½</strong></td>
</tr>
<tr>
<td>absolute</td>
<td>ç»å¯¹å®šä½ï¼Œç›¸å¯¹äºå€¼<strong>ä¸ä¸º static çš„ç¥–å…ˆå…ƒç´ å®šä½</strong></td>
</tr>
</tbody>
</table>
</div>
<h2 id="ES6ç›¸å…³"><a href="#ES6ç›¸å…³" class="headerlink" title="ES6ç›¸å…³"></a>ES6ç›¸å…³</h2><h3 id="ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«"><a href="#ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«" class="headerlink" title="ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«"></a>ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«</h3><blockquote>
<p>é‡‘å±±äº‘</p>
</blockquote>
<ul>
<li><p><code>this</code> ç»‘å®š</p>
<p><strong>ç®­å¤´å‡½æ•°</strong>çš„ <code>this</code> å€¼å–å†³äºæ‰€åœ¨<strong>å®šä¹‰çš„ä½ç½®</strong>ï¼Œ<strong>æ™®é€šå‡½æ•°</strong>çš„ <code>this</code> å€¼å–å†³äºè¢«<strong>è°ƒç”¨çš„ä½ç½®</strong>ã€‚</p>
</li>
<li><p><code>arguments</code> å¯¹è±¡</p>
<p>ç®­å¤´å‡½æ•°ä¸ç»‘å®š <code>arguments</code> å¯¹è±¡ï¼Œå¦‚æœåœ¨ç®­å¤´å‡½æ•°ä¸­è®¿é—® <code>arguments</code>ï¼Œå®ƒå°†å–è‡ªåŒ…å«ç®­å¤´å‡½æ•°çš„æœ€è¿‘çš„éç®­å¤´å‡½æ•°ã€‚æ™®é€šå‡½æ•°åˆ™ä¼šåœ¨æ¯æ¬¡å‡½æ•°è°ƒç”¨æ—¶åˆ›å»ºè‡ªå·±çš„ <code>arguments</code> å¯¹è±¡ã€‚</p>
</li>
<li><p>æ„é€ å‡½æ•°</p>
<p>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ï¼Œä½ ä¸èƒ½ä½¿ç”¨ <code>new</code> å…³é”®å­—è°ƒç”¨ç®­å¤´å‡½æ•°ã€‚å¦‚æœä½ è¿™æ ·åšï¼ŒJavaScript ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
</li>
<li><p><code>prototype</code> å±æ€§</p>
<p>ç®­å¤´å‡½æ•°æ²¡æœ‰ <code>prototype</code> å±æ€§ï¼Œè€Œæ™®é€šå‡½æ•°æœ‰è¿™ä¸ªå±æ€§ã€‚</p>
</li>
<li><p><code>yield</code> å…³é”®å­—</p>
<p>ç®­å¤´å‡½æ•°ä¸èƒ½åŒ…å« <code>yield</code> å…³é”®å­—ï¼Œæ‰€ä»¥ä½ ä¸èƒ½åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨ <code>yield</code> å…³é”®å­—æ¥å®šä¹‰ç”Ÿæˆå™¨å‡½æ•°ã€‚æ™®é€šå‡½æ•°åˆ™å¯ä»¥ã€‚</p>
</li>
</ul>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li><code>this</code> æŒ‡å‘ç›¸å…³é¢˜ç›®</li>
<li>æ„é€ å‡½æ•°</li>
<li>ç”Ÿæˆå™¨å‡½æ•°</li>
</ul>
<h3 id="CommonJSå’ŒES6æ¨¡å—çš„åŒºåˆ«"><a href="#CommonJSå’ŒES6æ¨¡å—çš„åŒºåˆ«" class="headerlink" title="CommonJSå’ŒES6æ¨¡å—çš„åŒºåˆ«"></a>CommonJSå’ŒES6æ¨¡å—çš„åŒºåˆ«</h3><ol>
<li><strong>åŠ è½½æ–¹å¼çš„å·®å¼‚</strong>ï¼šCommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼Œå³åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»å’Œè¾“å‡ºå€¼ã€‚è€Œ ES6 Modules æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ï¼Œå³åœ¨ä»£ç çš„é™æ€è§£æé˜¶æ®µå°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»å’Œè¾“å‡ºå€¼ã€‚</li>
<li><strong>è¾“å‡ºå€¼çš„å·®å¼‚</strong>ï¼šCommonJS è¾“å‡ºçš„æ˜¯å€¼çš„æ‹·è´ï¼Œå³ä¸€æ—¦è¾“å‡ºå€¼ï¼Œå°±ä¸æ¨¡å—å†…éƒ¨çš„å€¼æ— å…³ã€‚è€Œ ES6 Modules è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼Œå³æ¨¡å—å†…éƒ¨çš„å€¼æ”¹å˜ä¼šå½±å“åˆ°è¾“å‡ºå€¼ã€‚</li>
<li><strong>æ¨¡å—è·¯å¾„çš„å·®å¼‚</strong>ï¼šCommonJS å¯¼å…¥çš„æ¨¡å—è·¯å¾„å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå› ä¸ºå®ƒä½¿ç”¨çš„æ˜¯ <code>require</code> æ–¹æ³•ã€‚è€Œ ES6 Modules çš„æ¨¡å—è·¯å¾„åªèƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</li>
<li><strong><code>this</code> çš„æŒ‡å‘å·®å¼‚</strong>ï¼šåœ¨ CommonJS ä¸­ï¼Œ<code>this</code> æŒ‡å‘å½“å‰æ¨¡å—ã€‚è€Œåœ¨ ES6 Modules ä¸­ï¼Œ<code>this</code> æŒ‡å‘ <code>undefined</code>ã€‚</li>
<li><strong>é¡¶å±‚å˜é‡çš„å·®å¼‚</strong>ï¼šåœ¨ ES6 Modules ä¸­ï¼Œæ²¡æœ‰è¿™äº›é¡¶å±‚å˜é‡ï¼š<code>arguments</code>ã€<code>require</code>ã€<code>module</code>ã€<code>exports</code>ã€<code>__filename</code>ã€<code>__dirname</code>ã€‚</li>
</ol>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><blockquote>
<p>é‡‘å±±äº‘</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>çŠ¶æ€ï¼šä¸‰ç§</li>
<li>ç‰¹ç‚¹ï¼šä¸å—å¤–ç•Œå½±å“ï¼›çŠ¶æ€ä¸€æ—¦æ”¹å˜</li>
<li>å®ä¾‹æ–¹æ³•ï¼šä¸‰ç§</li>
<li>æ„é€ å‡½æ•°æ–¹æ³•ï¼šäº”ç§</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/19/es6-jing-dian-shu-ju-jie-gou-xiang-jie/#Promise">ES6ç»å…¸æ•°æ®ç»“æ„è¯¦è§£ | QT-7274 (qblog.top)</a></p>
<h3 id="class"><a href="#class" class="headerlink" title="class"></a>class</h3><blockquote>
<p>é‡‘å±±äº‘</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li><p>ES6çš„<strong>ç±»</strong>å®Œå…¨å¯ä»¥çœ‹åšES5çš„<strong>æ„é€ å‡½æ•°</strong>ï¼š<code>Point === Point.prototype.constructor</code>ï¼Œå³åœ¨ES6çš„ç±»çš„å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³• == è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</p>
</li>
<li><p>constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶è‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚</p>
</li>
<li><p>ç±»çš„æ–¹æ³•å†…éƒ¨å¦‚æœå«æœ‰ <code>this</code>ï¼Œå®ƒå°†é»˜è®¤æŒ‡å‘ç±»çš„å®ä¾‹ï¼Œä½†å¦‚æœå•ç‹¬å–å‡ºæ–¹æ³•ä½¿ç”¨ï¼Œ<code>this</code> ä¼šæŒ‡å‘è°ƒç”¨å®ƒçš„ç¯å¢ƒã€‚</p>
<blockquote>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<ol>
<li>åœ¨æ„é€ æ–¹æ³•ä¸­ç»‘å®š <code>this</code>ï¼š<code>this.printName() = this.printName.bind(this)</code></li>
<li>ä½¿ç”¨ç®­å¤´å‡½æ•°</li>
<li>ä½¿ç”¨Proxyï¼Œåœ¨è·å–æ–¹æ³•çš„æ—¶å€™è‡ªåŠ¨ç»‘å®š <code>this</code></li>
</ol>
</blockquote>
</li>
</ul>
<p>å’ŒES5çš„åŒºåˆ«ï¼š</p>
<ul>
<li><p>ES6ç±»çš„<strong>å†…éƒ¨å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾</strong>çš„ï¼Œè¿™å’ŒES5ä¸åŒï¼š<code>Object.keys(Point.prototype)</code></p>
</li>
<li><p>ES6ç±»å’Œæ¨¡å—çš„å†…éƒ¨é»˜è®¤ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</p>
</li>
<li><p>ES6ç±»å¿…é¡»ä½¿ç”¨newè°ƒç”¨ï¼Œæ™®é€šæ„é€ å‡½æ•°ä¸ç”¨newä¹Ÿå¯ä»¥æ‰§è¡Œ</p>
</li>
<li><p>ES6ç±»<strong>ä¸å­˜åœ¨å˜é‡æå‡</strong>ï¼Œå› ä¸ºå¿…é¡»ä¿è¯å­ç±»åœ¨çˆ¶ç±»ä¹‹åå®šä¹‰</p>
</li>
<li><p>ES6 ä¸º new å‘½ä»¤å¼•å…¥äº† <code>new.target</code> å±æ€§ï¼Œï¼ˆåœ¨æ„é€ å‡½æ•°ä¸­ï¼‰è¿”å› new å‘½ä»¤æ‰€ä½œç”¨çš„æ„é€ å‡½æ•°ã€‚ å¦‚æœæ„é€ å‡½æ•°ä¸æ˜¯é€šè¿‡ new å‘½ä»¤è°ƒç”¨çš„ï¼Œé‚£ä¹ˆ
<code>new.target</code> ä¼šè¿”å› <code>undefined</code> ï¼Œå› æ­¤è¿™ä¸ªå±æ€§å¯ç”¨äºç¡®å®šæ„é€ å‡½æ•°æ˜¯æ€ä¹ˆè°ƒç”¨çš„ ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ <code>new.target</code> ä¼šè¿”å›å­ç±»ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹ï¼Œå¯ä»¥å†™å‡ºä¸èƒ½ç‹¬ç«‹ä½¿ç”¨è€Œå¿…é¡»ç»§æ‰¿åæ‰èƒ½ä½¿ç”¨çš„ç±»ã€‚  </li>
<li>åœ¨å‡½æ•°å¤–éƒ¨ï¼Œä½¿ç”¨ <code>new.target</code> ä¼šæŠ¥é”™ã€‚</li>
</ol>
</blockquote>
</li>
</ul>
<p>å’ŒES5çš„ç›¸åŒï¼š</p>
<ul>
<li>å®ä¾‹å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼ˆå®šä¹‰åœ¨thisä¸Šï¼‰ï¼Œ<code>hasOwnProperty()</code> æ–¹æ³•è¿”å› <code>true</code> ï¼›åŸå‹å¯¹è±¡çš„å±æ€§ï¼ˆå®šä¹‰åœ¨ç±»ä¸Šï¼‰ï¼Œ<code>hasOwnProperty()</code> æ–¹æ³•è¿”å› <code>false</code></li>
<li>ç±»çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡å…±äº«ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼š<code>p1._ proto _ === p2._ proto _</code></li>
<li>ç±»çš„å†…éƒ¨éƒ½å¯ä»¥ä½¿ç”¨ <code>get</code> å’Œ <code>set</code> å…³é”®å­—å¯¹æŸä¸ªå±æ€§è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ï¼Œæ‹¦æˆªè¯¥å±æ€§çš„å­˜å–è¡Œä¸º</li>
</ul>
<h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><blockquote>
<p>é‡‘å±±äº‘</p>
</blockquote>
<p>ECMAScriptçš„åŸç”Ÿæ„é€ å‡½æ•°å¤§è‡´æœ‰ï¼š<code>Boolean()</code>ï¼Œ<code>Number()</code>ï¼Œ<code>String()</code>ï¼Œ<code>Array()</code>ï¼Œ<code>Date()</code>ï¼Œ<code>Function()</code>ï¼Œ<code>RegExp()</code>ï¼Œ<code>Error()</code>ï¼Œ<code>Object()</code></p>
<ul>
<li>ES5å…ˆæ–°å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡ <code>this</code>ï¼Œå†å°†çˆ¶ç±»çš„å±æ€§æ·»åŠ åˆ°å­ç±»ä¸Šï¼Œç”±äºçˆ¶ç±»çš„å†…éƒ¨å±æ€§æ— æ³•è·å–ï¼Œ<strong>å¯¼è‡´æ— æ³•ç»§æ‰¿åŸç”Ÿçš„æ„é€ å‡½æ•°</strong>ã€‚</li>
<li>ES6å…ˆæ–°å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡ <code>this</code>ï¼Œå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®é¥° <code>this</code>ï¼Œä½¿å¾—çˆ¶ç±»çš„æ‰€æœ‰è¡Œä¸ºéƒ½å¯ä»¥ç»§æ‰¿ã€‚</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šç»§æ‰¿ <code>Object</code> çš„å­ç±»æœ‰ä¸€ä¸ªè¡Œä¸ºå·®å¼‚ï¼Œå³æ— æ³•é€šè¿‡superæ–¹æ³•å‘çˆ¶ç±» <code>Object</code> ä¼ å‚ï¼Œè¿™æ˜¯å› ä¸ºES6æ”¹å˜äº† <code>Object</code> æ„é€ å‡½æ•°çš„è¡Œä¸ºï¼Œä¸€æ—¦å‘ç° <code>Object</code> æ„é€ å‡½æ•°çš„è¡Œä¸ºï¼Œä¸€æ—¦å‘ç° <code>Object</code> æ–¹æ³•ä¸æ˜¯é€šè¿‡ <code>new Object()</code> è¿™ç§å½¢å¼è°ƒç”¨ï¼ŒES6 è§„å®š <code>Object</code> æ„é€ å‡½æ•°ä¼šå¿½ç•¥å‚æ•°ã€‚</p>
</blockquote>
<h2 id="é¡¹ç›®ç›¸å…³"><a href="#é¡¹ç›®ç›¸å…³" class="headerlink" title="é¡¹ç›®ç›¸å…³"></a>é¡¹ç›®ç›¸å…³</h2><h3 id="Three-js"><a href="#Three-js" class="headerlink" title="Three.js"></a>Three.js</h3><ul>
<li><p>åœ¨é¡µé¢<strong>å…³é—­é”€æ¯</strong>å’Œ<strong>è·³è½¬ç¦»å¼€</strong>æ—¶æ¸…é™¤ä»£ç ä¸­ <strong>å®šæ—¶å™¨</strong>ï¼Œ<strong>äº‹ä»¶ç›‘å¬</strong> å’Œ<strong>åŠ¨ç”»å¸§</strong>ç­‰ç›¸å…³æ–¹æ³•ã€‚é‡Šæ”¾åœºæ™¯ä¸­çš„æè´¨å†…å­˜ï¼Œæ¸…é™¤åœºæ™¯å’Œæ¨¡å‹ç›¸å…³ä¿¡æ¯</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&#x2F;&#x2F; æ¸…é™¤æ¨¡å‹æ•°æ®
onClearModelData()&#123;
	cancelAnimationFrame(this.rotationAnimationFrame)
	cancelAnimationFrame(this.renderAnimation)
	cancelAnimationFrame(this.animationFrame)
	this.container.removeEventListener(&#39;click&#39;, this.onMouseClickModel)
	this.container.removeEventListener(&#39;mousedown&#39;, this.onMouseDownModel)
	this.container.removeEventListener(&#39;mousemove&#39;, this.onMouseMoveModel)
	window.removeEventListener(&quot;resize&quot;, this.onWindowResize)
	&#x2F;&#x2F; æè´¨é‡Šæ”¾å†…å­˜
 	this.scene.traverse((v) &#x3D;&gt; &#123;
		  if (v.type &#x3D;&#x3D;&#x3D; &#39;Mesh&#39;) &#123;
		     v.geometry.dispose();
		     v.material.dispose();
	    	&#125;
	  &#125;)
	  &#x2F;&#x2F; æ¸…é™¤åœºæ™¯å’Œæ¨¡å‹ç›¸å…³ä¿¡æ¯
         this.model.clear()
          this.scene.clear()
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>åªåœ¨éœ€è¦çš„æ—¶å€™æ¸²æŸ“ å¦‚æœåœ¨æ²¡æœ‰æ“ä½œçš„æ—¶å€™ï¼Œè®©å¾ªç¯ä¸€ç›´æ¸²æŸ“å±äºæµªè´¹èµ„æºï¼Œæ¥ä¸‹æ¥æˆ‘æ¥å¸¦ç»™å¤§å®¶ä¸€ä¸ªåªåœ¨éœ€è¦æ—¶æ¸²æŸ“çš„æ–¹æ³•ã€‚</p>
<ul>
<li><p>é¦–å…ˆåœ¨å¾ªç¯æ¸²æŸ“ä¸­åŠ å…¥ä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æœåˆ¤æ–­å€¼ä¸ºtrueæ—¶ï¼Œæ‰å¯ä»¥å¾ªç¯æ¸²æŸ“ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">var renderEnabled;
function animate() &#123;
 
    if (renderEnabled) &#123;
        renderer.render(scene, camera);
    &#125;
 
    requestAnimationFrame(animate);
&#125;
 
animate();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>ç„¶åè®¾ç½®ä¸€ä¸ªå»¶è¿Ÿå™¨å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨åï¼Œå¯ä»¥å°†<code>renderEnabled</code>è®¾ç½®ä¸º<code>true</code>ï¼Œå¹¶å»¶è¿Ÿä¸‰ç§’å°†å…¶è®¾ç½®ä¸º<code>false</code>ï¼Œè¿™ä¸ªå»¶è¿Ÿæ—¶é—´å¤§å®¶å¯ä»¥æ ¹æ®éœ€æ±‚æ¥ä¿®æ”¹ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&#x2F;&#x2F;è°ƒç”¨ä¸€æ¬¡å¯ä»¥æ¸²æŸ“ä¸‰ç§’
let timeOut &#x3D; null;
function timeRender() &#123;
	&#x2F;&#x2F;è®¾ç½®ä¸ºå¯æ¸²æŸ“çŠ¶æ€
    renderEnabled &#x3D; true;
    &#x2F;&#x2F;æ¸…é™¤ä¸Šæ¬¡çš„å»¶è¿Ÿå™¨
    if (timeOut) &#123;
        clearTimeout(timeOut);
    &#125;
 
    timeOut &#x3D; setTimeout(function () &#123;
        renderEnabled &#x3D; false;
    &#125;, 3000);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨è¿™ä¸ª<code>timeRender()</code>æ–¹æ³•å³å¯ï¼Œæ¯”å¦‚åœ¨ç›¸æœºæ§åˆ¶å™¨æ›´æ–°åçš„å›è°ƒä¸­ï¼š</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">controls.addEventListener(&#39;change&#39;, function()&#123;
    timeRender();
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="tailwindCSS"><a href="#tailwindCSS" class="headerlink" title="tailwindCSS"></a>tailwindCSS</h3><ol>
<li>åŸå­åŒ– CSS (Atomic CSS)</li>
</ol>
<p>CSS åŸå­åŒ–æ˜¯æŒ‡å®šä¹‰ä¸€ç»„è¡¨ç¤ºå•ä¸€ç”¨é€”æ ·å¼å•å…ƒçš„ç±»ã€‚</p>
<p>å¦å¤–è¿˜æœ‰ CSS ç»„ä»¶åŒ–ï¼Œäº†è§£ä¸¤è€…å¯å‚è€ƒæ–‡ç«  <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/39476410">ã€ŒCSS æ€ç»´ã€ç»„ä»¶åŒ– VS åŸå­åŒ–</a> ã€‚</p>
<p><code>TailwindCss</code> å°†ç±»åæ‹†åˆ°äº†æœ€å°çš„å•ä½ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨åˆ°ä¸€å®šæ•°é‡çš„åŸå­ç±»ï¼Œå°±èƒ½å®Œæˆä¸€ä¸ªå¤æ‚çš„é¡µé¢æ ·å¼ã€‚è¿™ä¹Ÿæ˜¯ä¸ºå•¥ä½¿ç”¨ <code>TailwindCss</code> çš„ <strong>tree-shake</strong> åï¼Œå‹ç¼©åçš„ css ä½“ç§¯å¯ä»¥é™ä½åˆ° 10kb ä»¥ä¸‹çš„åŸå› ã€‚</p>
<ol>
<li>è¾ƒå¥½çš„è¯­ä¹‰åŒ–</li>
</ol>
<p>ä½¿ç”¨ <code>TailwindCss</code> ä½ ä¸ç”¨èŠ±ç²¾åŠ›æ¥å®šä¹‰ç±»åï¼Œä½ å¯ä»¥ä½¿ç”¨å†…ç½®å…·æœ‰è‰¯å¥½è¯­ä¹‰åŒ–çš„ç±»åï¼Œå®ç°æ ·å¼æ•ˆæœã€‚ä½ ä¹Ÿå¯ä»¥ä¸€å®šç¨‹åº¦å®šä¹‰ç¬¦åˆä½ è‡ªå·±è§„åˆ™çš„ç±»åï¼Œä¾‹å¦‚åŠ ä¸Šç»Ÿä¸€çš„å‰ç¼€ã€‚</p>
<blockquote>
<p><code>TailwindCss</code> è¯­ä¹‰åŒ–ä¹Ÿå¹¶ä¸å®Œç¾ï¼Œé»˜è®¤çš„å‘½åæ–¹æ¡ˆæœ‰ä¸€å®šçš„è®°å¿†æˆæœ¬ã€‚åœ¨åé¢æœ€ä½³å®è·µï¼Œä¼šå…·ä½“è°ˆè°ˆè¿™ä¸ªé—®é¢˜ï¼Œæä¾›ä¸€äº›å…¶ä»–è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<ol>
<li>çº¦æŸæ€§</li>
</ol>
<p>ä½¿ç”¨ <code>TailwindCss</code> åŠŸèƒ½ç±»ï¼Œæ˜¯ä»é¢„å®šä¹‰çš„è®¾è®¡ç³»ç»Ÿä¸­é€‰æ‹©æ ·å¼ï¼Œè¿™ä½¿å¾—æ„å»ºç»Ÿä¸€çš„ UI å˜å¾—æ›´åŠ å®¹æ˜“ã€‚è¿™ä¹Ÿæ˜¯ CSS åŸå­åŒ–ä¸ç›´æ¥ä½¿ç”¨å†…è”æ ·å¼æœ‰ç€æ˜æ˜¾å·®å¼‚ï¼Œ<code>TailwindCss</code> å…·æœ‰çº¦æŸæ€§ã€‚</p>
<ol>
<li>å“åº”å¼</li>
</ol>
<p><code>TailwindCss</code> ä¸­çš„æ¯ä¸ªåŠŸèƒ½ç±»éƒ½å¯ä»¥æœ‰æ¡ä»¶çš„åº”ç”¨äºä¸åŒçš„æ–­ç‚¹ï¼ˆbreakpointsï¼‰ï¼Œåœ¨ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡ä¸Šï¼Œå¯ä»¥è½»æ¾åˆ‡æ¢å±æ€§ã€‚å†…è”æ ·å¼ä¸­ï¼Œæ— æ³•ä½¿ç”¨åª’ä½“æŸ¥è¯¢ã€‚</p>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/397880385">TailwindCSS åŸºæœ¬ä»‹ç»ä¸æœ€ä½³å®è·µ - çŸ¥ä¹ (zhihu.com)</a></p>
<p>è§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ</p>
<ul>
<li><p>CSSç±»å‘½å</p>
</li>
<li><p>æ ·å¼å†²çª</p>
<p>æ ·å¼å†²çªè¿™ä¸ªé—®é¢˜å…¶å®èµ·å› è¿˜è¦å½’ç»“äº CSS ç±»å‘½åã€‚ä¸ºäº†å¤ç”¨ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ª class ä¸ŠæŒ‚ä¸€äº›å¸¸ç”¨çš„è§„åˆ™ï¼Œæ¯”å¦‚è¯´ï¼š</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.left</span> <span class="token punctuation">&#123;</span> <span class="token property">float</span><span class="token punctuation">:</span> left <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>æ¨¡å—å¤ç”¨</p>
</li>
</ul>
<p>è¿™ä¸ªå®ç°ç‰ˆæœ¬ï¼Œå¯¹æ¯”ç¬¬ä¸€ç‰ˆï¼Œæœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</p>
<ol>
<li><strong>æˆ‘ä»¬æ²¡æœ‰è‡ªå®šä¹‰ä»»ä½•çš„ css classï¼Œä½¿ç”¨çš„æ‰€æœ‰çš„ css class éƒ½ç›´æ¥æ¥æºäº Tailwind CSS</strong>ï¼Œè¿™æ ·å°±æ²¡æœ‰äº†å‘½åçš„å›°æ‰°é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº† css è†¨èƒ€çš„é—®é¢˜ã€‚å½“ç„¶ html ä½“ç§¯ä¹Ÿå˜å¤§äº†ï¼Œä½†æ˜¯å› ä¸º class ä¸­ä½¿ç”¨çš„æ˜¯æœ‰é™é›†åˆå†…çš„ã€é«˜åº¦é‡å¤çš„ class åç§°ï¼Œåœ¨ Gzipã€Brotli è¿™äº›å‹ç¼©ç®—æ³•çš„ä½œç”¨ä¸‹ï¼Œæ˜¯å¯ä»¥åŸºæœ¬å¿½ç•¥çš„ã€‚</li>
<li><strong>æ¯ä¸€ä¸ª class ä¸€èˆ¬åªå¯¹åº”ä¸€æ¡ css è§„åˆ™</strong>ï¼Œå¦‚ p-6 å¯¹åº” padding: 1.5remï¼Œh-12å¯¹åº” height: 3remï¼ŒåŸå­æ€§çš„ class é¢—ç²’åº¦è‡ªç„¶æ›´å®¹æ˜“åœ¨å…¶ä»–åœ°æ–¹å¤ç”¨ï¼Œè€Œä¸”åŸå­åŒ–çš„ css  è§„èŒƒ/æ€æƒ³ï¼Œå¼ºåˆ¶å¼€å‘äººå‘˜åœ¨ä¸º html æ ‡ç­¾å®šä¹‰æ ·å¼æ—¶ï¼Œå†™å…¨æ‰€æœ‰éœ€è¦çš„ class ï¼Œå¤§å¤§å‡å°‘äº†ä¸åŒ html æ ‡ç­¾çš„ class ä¹‹é—´çš„ç›¸äº’å½±å“ã€‚</li>
<li>ã€ŒAtomic/Utility-First CSSã€çš„ä½¿ç”¨ï¼Œè®©æ ·å¼é‡æ„/æ•´ä½“ä¿®æ”¹å˜å¾—æ›´åŠ å®¹æ˜“ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¦†ç›–åŸå­é¢—ç²’åº¦çš„ class ï¼Œå˜æ›´åº”ç”¨çš„æ•´ä½“æ ·å¼ï¼Œä¾‹å¦‚ï¼Œè¦†ç›– text-xl ä¸º 2remï¼Œè¿™æ ·æ‰€ä»¥ä½¿ç”¨åˆ° text-xl class çš„å­—ä½“å¤§å°éƒ½ä¼šå˜æˆ 2remã€‚</li>
</ol>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://juejin.cn/s/tailwindcss é¢è¯•é¢˜">tailwindcss é¢è¯•é¢˜-æ˜é‡‘ (juejin.cn)</a></p>
<h3 id="å›¾ç‰‡ä¸Šä¼ "><a href="#å›¾ç‰‡ä¸Šä¼ " class="headerlink" title="å›¾ç‰‡ä¸Šä¼ "></a>å›¾ç‰‡ä¸Šä¼ </h3><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">&#x2F;&#x2F; HTML
&lt;form id&#x3D;&quot;uploadForm&quot; enctype&#x3D;&quot;multipart&#x2F;form-data&quot;&gt;
    &lt;input id&#x3D;&quot;fileInput&quot; type&#x3D;&quot;file&quot; name&#x3D;&quot;image&quot; accept&#x3D;&quot;image&#x2F;png, image&#x2F;jpeg&quot; &#x2F;&gt;
    &lt;button type&#x3D;&quot;submit&quot;&gt;ä¸Šä¼ &lt;&#x2F;button&gt;
&lt;&#x2F;form&gt;

&#x2F;&#x2F; JavaScript
document.getElementById(&#39;uploadForm&#39;).addEventListener(&#39;submit&#39;, function(event) &#123;
    event.preventDefault();

    var fileInput &#x3D; document.getElementById(&#39;fileInput&#39;);
    var file &#x3D; fileInput.files[0];

    &#x2F;&#x2F; æ£€æŸ¥æ–‡ä»¶ç±»å‹
    var validTypes &#x3D; [&#39;image&#x2F;jpeg&#39;, &#39;image&#x2F;png&#39;];
    if (!validTypes.includes(file.type)) &#123;
        alert(&#39;ä¸Šä¼ å›¾ç‰‡åªèƒ½æ˜¯ JPGã€PNG æ ¼å¼!&#39;);
        return;
    &#125;

    &#x2F;&#x2F; æ£€æŸ¥æ–‡ä»¶å¤§å°
    if (file.size &#x2F; 1024 &#x2F; 1024 &gt; 5) &#123;
        alert(&#39;ä¸Šä¼ å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5MB!&#39;);
        return;
    &#125;

    var formData &#x3D; new FormData();
    formData.append(&#39;image&#39;, file);

    fetch(&#39;ä½ çš„ä¸Šä¼ URL&#39;, &#123;
        method: &#39;POST&#39;,
        body: formData
    &#125;)
    .then(response &#x3D;&gt; response.json())
    .then(data &#x3D;&gt; &#123;
        console.log(&#39;å›¾ç‰‡ä¸Šä¼ æˆåŠŸ&#39;, data);
    &#125;)
    .catch(error &#x3D;&gt; &#123;
        console.error(&#39;å›¾ç‰‡ä¸Šä¼ å¤±è´¥&#39;, error);
    &#125;);
&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æ–‡ä»¶ä¸Šä¼ çš„äºŒè¿›åˆ¶å…·ä½“æ˜¯æ€ä¹ˆå¤„ç†çš„"><a href="#æ–‡ä»¶ä¸Šä¼ çš„äºŒè¿›åˆ¶å…·ä½“æ˜¯æ€ä¹ˆå¤„ç†çš„" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ çš„äºŒè¿›åˆ¶å…·ä½“æ˜¯æ€ä¹ˆå¤„ç†çš„"></a><strong>æ–‡ä»¶ä¸Šä¼ çš„äºŒè¿›åˆ¶å…·ä½“æ˜¯æ€ä¹ˆå¤„ç†çš„</strong></h3><p><img src="/medias/images/loading.gif" data-original="image-20240423172522888.png" alt="image-20240423172522888"></p>
<p>åœ¨JavaScriptä¸­ï¼Œå¤„ç†æ–‡ä»¶ä¸Šä¼ çš„äºŒè¿›åˆ¶æ•°æ®é€šå¸¸ä½¿ç”¨ <code>FileReader</code> å¯¹è±¡ã€‚<code>FileReader</code> å¯¹è±¡å…è®¸Webåº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ï¼ˆæˆ–åŸå§‹æ•°æ®ç¼“å†²åŒºï¼‰çš„å†…å®¹ï¼Œä½¿ç”¨ <code>File</code> æˆ– <code>Blob</code> å¯¹è±¡æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶æˆ–æ•°æ®ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•è¯»å–ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶å¹¶å°†å…¶ä½œä¸ºäºŒè¿›åˆ¶æ•°æ®å¤„ç†ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span> <span class="token comment">// è·å–ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶</span>
<span class="token keyword">var</span> chunkSize <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å—å¤§å°ä¸º1MB</span>
<span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> file<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> chunk <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> start <span class="token operator">+</span> chunkSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> binaryString <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
    <span class="token comment">// è¿™é‡Œå¯ä»¥å¤„ç†äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  reader<span class="token punctuation">.</span><span class="token function">readAsBinaryString</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span><span class="token punctuation">;</span>

  start <span class="token operator">+=</span> chunkSize<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ–­ç‚¹ç»­ä¼ ç›¸å…³"><a href="#æ–­ç‚¹ç»­ä¼ ç›¸å…³" class="headerlink" title="æ–­ç‚¹ç»­ä¼ ç›¸å…³"></a>æ–­ç‚¹ç»­ä¼ ç›¸å…³</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span> <span class="token comment">// è·å–ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶</span>
<span class="token keyword">var</span> chunkSize <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å—å¤§å°ä¸º1MB</span>
<span class="token keyword">var</span> totalChunks <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>size <span class="token operator">/</span> chunkSize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—æ€»åˆ‡ç‰‡æ•°</span>
<span class="token keyword">var</span> maxRetries <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°ä¸º3</span>
<span class="token keyword">var</span> parallelUploads <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®åŒæ—¶ä¸Šä¼ çš„åˆ‡ç‰‡æ•°ä¸º3</span>
<span class="token keyword">var</span> cancelUpload <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®ä¸€ä¸ªæ ‡å¿—ï¼Œè¡¨ç¤ºç”¨æˆ·æ˜¯å¦å–æ¶ˆä¸Šä¼ </span>

<span class="token comment">// ä» localStorage ä¸­æ¢å¤ä¸Šä¼ è¿›åº¦</span>
<span class="token keyword">var</span> uploadProgress <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'uploadProgress'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>uploadProgress<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  uploadProgress <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>uploadProgress<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœæœ‰ä¸Šä¼ è¿›åº¦ï¼Œè§£æä¸ºå¯¹è±¡</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  uploadProgress <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token comment">// å¦åˆ™ï¼Œåˆå§‹åŒ–ä¸Šä¼ è¿›åº¦</span>
    <span class="token literal-property property">uploadedChunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// å·²ä¸Šä¼ çš„åˆ‡ç‰‡ç´¢å¼•</span>
    <span class="token literal-property property">totalChunks</span><span class="token operator">:</span> totalChunks<span class="token punctuation">,</span> <span class="token comment">// æ€»åˆ‡ç‰‡æ•°</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºä¸Šä¼ æ–‡ä»¶åˆ‡ç‰‡</span>
<span class="token keyword">function</span> <span class="token function">uploadChunk</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> retries <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cancelUpload<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Upload cancelled'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœç”¨æˆ·å–æ¶ˆä¸Šä¼ ï¼Œæ‹’ç» Promise</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">var</span> start <span class="token operator">=</span> i <span class="token operator">*</span> chunkSize<span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—åˆ‡ç‰‡çš„å¼€å§‹ä½ç½®</span>
  <span class="token keyword">var</span> end <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>start <span class="token operator">+</span> chunkSize<span class="token punctuation">,</span> file<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—åˆ‡ç‰‡çš„ç»“æŸä½ç½®</span>
  <span class="token keyword">var</span> chunk <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–æ–‡ä»¶åˆ‡ç‰‡</span>

  <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ FormData å¯¹è±¡ï¼Œæ·»åŠ æ–‡ä»¶åˆ‡ç‰‡</span>
  <span class="token keyword">var</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span> chunk<span class="token punctuation">,</span> <span class="token string">'chunk-'</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ä½¿ç”¨ fetch API ä¸Šä¼ æ–‡ä»¶åˆ‡ç‰‡</span>
  <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/upload'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span> formData<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Upload failed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœå“åº”ä¸æ˜¯ okï¼ŒæŠ›å‡ºé”™è¯¯</span>
      <span class="token punctuation">&#125;</span>

      <span class="token comment">// æ›´æ–°ä¸Šä¼ è¿›åº¦</span>
      uploadProgress<span class="token punctuation">.</span>uploadedChunks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'uploadProgress'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>uploadProgress<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¿å­˜ä¸Šä¼ è¿›åº¦åˆ° localStorage</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>uploadProgress<span class="token punctuation">.</span>uploadedChunks<span class="token punctuation">.</span>length <span class="token operator">===</span> totalChunks<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// å¦‚æœæ‰€æœ‰åˆ‡ç‰‡éƒ½å·²ä¸Šä¼ ï¼Œé€šçŸ¥æœåŠ¡å™¨åˆå¹¶åˆ‡ç‰‡</span>
        <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/merge'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>retries <span class="token operator">&lt;</span> maxRetries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// å¦‚æœå¤±è´¥ï¼Œä¸”é‡è¯•æ¬¡æ•°å°äºæœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œé‡è¯•ä¸Šä¼ </span>
        <span class="token keyword">return</span> <span class="token function">uploadChunk</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> retries <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">throw</span> error<span class="token punctuation">;</span> <span class="token comment">// å¦åˆ™ï¼ŒæŠ›å‡ºé”™è¯¯</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å¹¶è¡Œä¸Šä¼ æ–‡ä»¶åˆ‡ç‰‡</span>
<span class="token keyword">var</span> chunkIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> uploadPromises <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>chunkIndex <span class="token operator">&lt;</span> totalChunks <span class="token operator">&amp;&amp;</span> uploadPromises<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> parallelUploads<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uploadProgress<span class="token punctuation">.</span>uploadedChunks<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>chunkIndex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    uploadPromises<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">uploadChunk</span><span class="token punctuation">(</span>chunkIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœè¿™ä¸ªåˆ‡ç‰‡è¿˜æ²¡æœ‰ä¸Šä¼ ï¼Œæ·»åŠ åˆ°ä¸Šä¼  Promise æ•°ç»„</span>
  <span class="token punctuation">&#125;</span>
  chunkIndex<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>uploadPromises<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Upload complete'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å½“æ‰€æœ‰ Promise éƒ½å®Œæˆï¼Œæ‰“å° "Upload complete"</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœæœ‰ä»»ä½• Promise å¤±è´¥ï¼Œæ‰“å°é”™è¯¯</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Node-jsç›¸å…³"><a href="#Node-jsç›¸å…³" class="headerlink" title="Node.jsç›¸å…³"></a>Node.jsç›¸å…³</h2><h3 id="Node-jsçš„åŠ è½½æœºåˆ¶"><a href="#Node-jsçš„åŠ è½½æœºåˆ¶" class="headerlink" title="Node.jsçš„åŠ è½½æœºåˆ¶"></a>Node.jsçš„åŠ è½½æœºåˆ¶</h3><p>Node.js çš„æ¨¡å—åŠ è½½æœºåˆ¶ä¸»è¦åŸºäº CommonJS è§„èŒƒï¼Œå…¶ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>è·¯å¾„åˆ†æï¼šNode.js ä¼šåˆ†ææ¨¡å—è·¯å¾„ï¼Œç¡®å®šæ¨¡å—çš„ä½ç½®ã€‚å¦‚æœæ¨¡å—è·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼ŒNode.js ä¼šç›´æ¥ä½¿ç”¨è¿™ä¸ªè·¯å¾„ã€‚å¦‚æœæ¨¡å—è·¯å¾„æ˜¯æ¨¡å—åï¼ŒNode.js ä¼šåœ¨ <code>node_modules</code> ç›®å½•ä¸­æŸ¥æ‰¾æ¨¡å—ã€‚</li>
<li>æ–‡ä»¶å®šä½ï¼šNode.js ä¼šæ ¹æ®æ¨¡å—è·¯å¾„å®šä½åˆ°å…·ä½“çš„æ–‡ä»¶ã€‚å¦‚æœæ¨¡å—è·¯å¾„æ²¡æœ‰æ–‡ä»¶æ‰©å±•åï¼ŒNode.js ä¼šæŒ‰ <code>.js</code>ã€<code>.json</code>ã€<code>.node</code> çš„é¡ºåºå°è¯•æ·»åŠ æ‰©å±•åã€‚å¦‚æœæ¨¡å—è·¯å¾„æ˜¯ç›®å½•ï¼ŒNode.js ä¼šå°è¯•åŠ è½½è¯¥ç›®å½•ä¸‹çš„ <code>package.json</code> æ–‡ä»¶æˆ– <code>index.js</code> æ–‡ä»¶ã€‚</li>
<li>ç¼–è¯‘æ‰§è¡Œï¼šNode.js ä¼šæ ¹æ®æ–‡ä»¶ç±»å‹è¿›è¡Œç¼–è¯‘æ‰§è¡Œã€‚<code>.js</code> æ–‡ä»¶ä¼šè¢«è½¬æ¢ä¸º JavaScript ä»£ç å¹¶æ‰§è¡Œï¼Œ<code>.json</code> æ–‡ä»¶ä¼šè¢«è§£æä¸º JSON å¯¹è±¡ï¼Œ<code>.node</code> æ–‡ä»¶ä¼šè¢«è§†ä¸ºç¼–è¯‘è¿‡çš„æ’ä»¶åŠ è½½ã€‚</li>
<li>ç¼“å­˜ï¼šä¸ºäº†æé«˜æ€§èƒ½ï¼ŒNode.js ä¼šç¼“å­˜å·²åŠ è½½çš„æ¨¡å—ã€‚å¦‚æœåç»­å†æ¬¡åŠ è½½åŒä¸€ä¸ªæ¨¡å—ï¼ŒNode.js ä¼šç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œè€Œä¸ä¼šå†æ¬¡æ‰§è¡Œä¸Šè¿°æ­¥éª¤ã€‚</li>
</ol>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒNode.js çš„æ¨¡å—åŠ è½½æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ <code>require()</code> å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼ŒNode.js ä¼šç«‹å³åŠ è½½å’Œæ‰§è¡Œæ¨¡å—ï¼Œç„¶åè¿”å›æ¨¡å—çš„ <code>exports</code> å¯¹è±¡ã€‚è¿™æ„å‘³ç€æ¨¡å—çš„åŠ è½½é¡ºåºä¼šå½±å“ç¨‹åºçš„æ‰§è¡Œé¡ºåºã€‚</p>
<h3 id="module-exports-å’Œ-exports-çš„åŒºåˆ«"><a href="#module-exports-å’Œ-exports-çš„åŒºåˆ«" class="headerlink" title="module.exports å’Œ exports çš„åŒºåˆ«"></a><code>module.exports</code> å’Œ <code>exports</code> çš„åŒºåˆ«</h3><ol>
<li><code>module.exports</code> æ˜¯çœŸæ­£çš„æ¥å£ï¼šNode.js æ¨¡å—ç³»ç»Ÿä¸­ï¼Œ<code>module.exports</code> æ˜¯çœŸæ­£ç”¨äºå¯¼å‡ºæ¨¡å—å…¬å¼€æ¥å£çš„å¯¹è±¡ã€‚</li>
<li><code>exports</code> æ˜¯ <code>module.exports</code> çš„ä¸€ä¸ªå¼•ç”¨ï¼šåœ¨æ¯ä¸ªæ¨¡å—çš„å¼€å¤´ï¼ŒNode.js éƒ½ä¼šæ·»åŠ è¿™æ ·ä¸€è¡Œä»£ç ï¼š<code>exports = module.exports</code>ã€‚è¿™æ ·ï¼Œ<code>exports</code> å°±æˆäº† <code>module.exports</code> çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ï¼Œä½ å¯ä»¥é€šè¿‡ <code>exports</code> æ·»åŠ å±æ€§å’Œæ–¹æ³•æ¥å¯¼å‡ºæ¥å£ã€‚</li>
<li><code>exports</code> ä¸èƒ½æ”¹å˜ <code>module.exports</code> çš„æŒ‡å‘ï¼šå¦‚æœä½ ç»™ <code>exports</code> èµ‹ä¸€ä¸ªæ–°çš„å€¼ï¼Œä¾‹å¦‚ <code>exports = function() &#123;&#125;</code> æˆ– <code>exports = new SomeClass()</code>ï¼Œè¿™æ—¶ <code>exports</code> å°±ä¸å†æŒ‡å‘ <code>module.exports</code> äº†ã€‚ä½†æ˜¯ï¼ŒNode.js ä»ç„¶ä¼šè¿”å› <code>module.exports</code>ï¼Œè€Œä¸æ˜¯ <code>exports</code>ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³å¯¼å‡ºä¸€ä¸ªå‡½æ•°æˆ–å¯¹è±¡ï¼Œä½ åº”è¯¥ç›´æ¥èµ‹å€¼ç»™ <code>module.exports</code>ï¼Œè€Œä¸æ˜¯ <code>exports</code>ã€‚</li>
</ol>
<blockquote>
<p>å¦‚æœä½ æƒ³å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œä½ å¿…é¡»ä½¿ç”¨ <code>module.exports</code>ã€‚å› ä¸º <code>exports</code> åªæ˜¯ <code>module.exports</code> çš„ä¸€ä¸ªå¼•ç”¨ï¼Œä½ ä¸èƒ½é€šè¿‡æ”¹å˜ <code>exports</code> æ¥æ”¹å˜ <code>module.exports</code> çš„å€¼ã€‚</p>
</blockquote>
<h2 id="WebSocket-jsç›¸å…³"><a href="#WebSocket-jsç›¸å…³" class="headerlink" title="WebSocket.jsç›¸å…³"></a>WebSocket.jsç›¸å…³</h2><h3 id="WebSocketçš„ç†è§£"><a href="#WebSocketçš„ç†è§£" class="headerlink" title="WebSocketçš„ç†è§£"></a>WebSocketçš„ç†è§£</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/http/WebSocket.html">é¢è¯•å®˜ï¼šè¯´è¯´å¯¹WebSocketçš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)</a></p>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨WebScocket"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨WebScocket" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨WebScocket"></a>ä¸ºä»€ä¹ˆä½¿ç”¨WebScocket</h3><p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä½¿ç”¨ WebSocket æ¥å®ç°å®æ—¶é€šä¿¡ï¼Œä¸»è¦æ˜¯å› ä¸º WebSocket æä¾›äº†å…¨åŒå·¥çš„é€šä¿¡æœºåˆ¶ï¼Œè¿™æ„å‘³ç€æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œè€Œæ— éœ€ç­‰å¾…å¯¹æ–¹çš„å“åº”ã€‚è¿™å¯¹äºæˆ‘ä»¬çš„é¡¹ç›®æ¥è¯´éå¸¸é‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨ç”¨æˆ·ä¸Šä¼ å›¾åƒåç«‹å³å¼€å§‹å›¾åƒè¯†åˆ«ï¼Œå¹¶å°†è¯†åˆ«ç»“æœå®æ—¶åé¦ˆç»™ç”¨æˆ·ã€‚</p>
<p>æˆ‘é€‰æ‹© WebSocket è€Œä¸æ˜¯ AJAXã€Server-Sent Events æˆ–è€…é•¿è½®è¯¢ï¼Œä¸»è¦æ˜¯å› ä¸ºè¿™äº›æŠ€æœ¯éƒ½æœ‰ä¸€äº›é™åˆ¶ã€‚ä¾‹å¦‚ï¼ŒAJAX æ˜¯ä¸€ç§å•å‘é€šä¿¡æŠ€æœ¯ï¼Œ<strong>å®ƒåªèƒ½ç”±å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œè€ŒæœåŠ¡å™¨ä¸èƒ½ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€æ•°æ®</strong>ã€‚Server-Sent Events ä¹Ÿæ˜¯ä¸€ç§å•å‘é€šä¿¡æŠ€æœ¯ï¼Œè™½ç„¶å®ƒå…è®¸æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œä½†å®¢æˆ·ç«¯ä¸èƒ½å‘æœåŠ¡å™¨å‘é€æ•°æ®ã€‚<strong>é•¿è½®è¯¢è™½ç„¶å¯ä»¥å®ç°ç±»ä¼¼äºå®æ—¶é€šä¿¡çš„æ•ˆæœï¼Œä½†å®ƒéœ€è¦ä¸æ–­åœ°å‘é€è¯·æ±‚ï¼Œè¿™ä¼šå¢åŠ æœåŠ¡å™¨çš„è´Ÿè½½ã€‚</strong></p>
<p>åœ¨å®ç° WebSocket é€šä¿¡æ—¶ï¼Œæˆ‘ä½¿ç”¨äº† Python çš„ <code>websockets</code> åº“åœ¨æœåŠ¡å™¨ç«¯åˆ›å»º WebSocket æœåŠ¡ï¼Œç„¶ååœ¨ Vue çš„å‰ç«¯ä½¿ç”¨åŸç”Ÿçš„ WebSocket API æ¥è¿æ¥æœåŠ¡å™¨ã€‚å½“ç”¨æˆ·ä¸Šä¼ å›¾åƒåï¼Œæˆ‘ä¼šå°†å›¾åƒæ•°æ®é€šè¿‡ WebSocket å‘é€åˆ°æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨ä¼šç«‹å³å¼€å§‹å›¾åƒè¯†åˆ«ï¼Œå¹¶å°†è¯†åˆ«ç»“æœé€šè¿‡ WebSocket å‘é€å›å®¢æˆ·ç«¯ã€‚è¿™æ ·ï¼Œç”¨æˆ·å°±å¯ä»¥å®æ—¶çœ‹åˆ°å›¾åƒè¯†åˆ«çš„ç»“æœã€‚</p>
<h3 id="WebScoketçš„å·¥ä½œåŸç†"><a href="#WebScoketçš„å·¥ä½œåŸç†" class="headerlink" title="WebScoketçš„å·¥ä½œåŸç†"></a>WebScoketçš„å·¥ä½œåŸç†</h3><p>WebSocket çš„å·¥ä½œåŸç†å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><p>å»ºç«‹è¿æ¥ï¼šé¦–å…ˆï¼Œå®¢æˆ·ç«¯ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚è¢«ç§°ä¸ºæ¡æ‰‹è¯·æ±‚ã€‚è¿™ä¸ªè¯·æ±‚çš„ç‰¹ç‚¹æ˜¯ï¼Œå®ƒçš„ <code>Upgrade</code> å¤´å­—æ®µçš„å€¼ä¸º <code>websocket</code>ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å¸Œæœ›å°†è¿æ¥å‡çº§ä¸º WebSocket è¿æ¥ã€‚</p>
</li>
<li><p>æœåŠ¡å™¨å“åº”ï¼šå¦‚æœæœåŠ¡å™¨æ”¯æŒ WebSocketï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª HTTP 101 Switching Protocols å“åº”ï¼Œè¡¨ç¤ºåŒæ„å‡çº§è¿æ¥ã€‚è¿™ä¸ªå“åº”çš„ <code>Upgrade</code> å¤´å­—æ®µçš„å€¼ä¹Ÿä¸º <code>websocket</code>ã€‚</p>
</li>
<li><p>æ•°æ®ä¼ è¾“ï¼šä¸€æ—¦è¿æ¥è¢«å‡çº§ä¸º WebSocket è¿æ¥ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè¿æ¥è¿›è¡Œå…¨åŒå·¥çš„æ•°æ®ä¼ è¾“ã€‚è¿™æ„å‘³ç€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œè€Œæ— éœ€ç­‰å¾…å¯¹æ–¹çš„å“åº”ã€‚</p>
<blockquote>
<p>åœ¨æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ï¼ŒWebSocket ä½¿ç”¨äº†ä¸€ç§ç§°ä¸ºå¸§çš„æ•°æ®å•ä½ã€‚æ¯ä¸ªå¸§éƒ½åŒ…å«äº†ä¸€äº›å…ƒæ•°æ®ï¼Œä¾‹å¦‚å¸§çš„é•¿åº¦ã€ç±»å‹ï¼ˆæ–‡æœ¬æˆ–äºŒè¿›åˆ¶ï¼‰å’Œæ˜¯å¦æ˜¯æ¶ˆæ¯çš„æœ€åä¸€ä¸ªå¸§ç­‰ã€‚è¿™ä½¿å¾— WebSocket å¯ä»¥æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬æ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ”¯æŒå¤§äº 64KB çš„æ•°æ®ã€‚</p>
</blockquote>
</li>
<li><p>å…³é—­è¿æ¥ï¼šå®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘é€ä¸€ä¸ªå…³é—­å¸§æ¥å…³é—­è¿æ¥ã€‚ä¸€æ—¦è¿æ¥è¢«å…³é—­ï¼Œå°±ä¸èƒ½å†å‘é€æ•°æ®äº†ã€‚</p>
</li>
</ol>
<h3 id="WebSocketçš„å®‰å…¨æªæ–½"><a href="#WebSocketçš„å®‰å…¨æªæ–½" class="headerlink" title="WebSocketçš„å®‰å…¨æªæ–½"></a>WebSocketçš„å®‰å…¨æªæ–½</h3><ol>
<li>ä½¿ç”¨ WSSï¼ˆWebSocket Secureï¼‰ï¼šWSS æ˜¯ WebSocket çš„å®‰å…¨ç‰ˆæœ¬ï¼Œå®ƒä½¿ç”¨äº† TLSï¼ˆä¼ è¾“å±‚å®‰å…¨åè®®ï¼‰æ¥åŠ å¯†æ•°æ®ã€‚è¿™å¯ä»¥é˜²æ­¢æ•°æ®è¢«çªƒå¬æˆ–ç¯¡æ”¹ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½ä½¿ç”¨ WSS è€Œä¸æ˜¯éåŠ å¯†çš„ WSã€‚</li>
<li>éªŒè¯å’Œè¿‡æ»¤è¾“å…¥ï¼šä¸ºäº†é˜²æ­¢è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ‰€æœ‰ä»å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æ•°æ®è¿›è¡ŒéªŒè¯å’Œè¿‡æ»¤ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç™½åå•æ¥è¿‡æ»¤æ‰æ‰€æœ‰éæ³•çš„è¾“å…¥ï¼Œæˆ–è€…ä½¿ç”¨ HTML å®ä½“ç¼–ç æ¥è½¬ä¹‰æ‰€æœ‰çš„ HTML ç‰¹æ®Šå­—ç¬¦ã€‚</li>
<li>ä½¿ç”¨ Same-Origin Policyï¼šä¸ºäº†é˜²æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæºç­–ç•¥ã€‚åŒæºç­–ç•¥æ˜¯ä¸€ç§å®‰å…¨ç­–ç•¥ï¼Œå®ƒé™åˆ¶äº†ä¸€ä¸ªæ–‡æ¡£æˆ–è„šæœ¬ä»å“ªäº›æºå¯ä»¥åŠ è½½èµ„æºã€‚åœ¨ WebSocket ä¸­ï¼ŒæœåŠ¡å™¨å¯ä»¥æ£€æŸ¥è¯·æ±‚çš„ <code>Origin</code> å¤´å­—æ®µï¼Œåªæ¥å—æ¥è‡ªåˆæ³•æºçš„è¯·æ±‚ã€‚</li>
<li>ä½¿ç”¨è®¤è¯å’Œæˆæƒï¼šä¸ºäº†é˜²æ­¢æœªç»æˆæƒçš„è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ WebSocket è¿æ¥ä¸Šå®æ–½è®¤è¯å’Œæˆæƒã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¡æ‰‹è¯·æ±‚ä¸­åŒ…å«ä¸€ä¸ªä»¤ç‰Œï¼ˆä¾‹å¦‚ JWTï¼‰ï¼Œç„¶ååœ¨æœåŠ¡å™¨ç«¯éªŒè¯è¿™ä¸ªä»¤ç‰Œã€‚åªæœ‰å½“ä»¤ç‰Œæœ‰æ•ˆæ—¶ï¼Œæ‰å…è®¸å»ºç«‹è¿æ¥ã€‚</li>
</ol>
<h3 id="WebSocket-è¿æ¥æ–­å¼€"><a href="#WebSocket-è¿æ¥æ–­å¼€" class="headerlink" title="WebSocket è¿æ¥æ–­å¼€"></a>WebSocket è¿æ¥æ–­å¼€</h3><p>å½“ WebSocket è¿æ¥æ–­å¼€æ—¶ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬ <code>close</code> äº‹ä»¶æ¥å¤„ç†ã€‚åœ¨ <code>close</code> äº‹ä»¶çš„å¤„ç†å‡½æ•°ä¸­ï¼Œå¯ä»¥è¿›è¡Œå¿…è¦çš„æ¸…ç†å·¥ä½œï¼Œä¾‹å¦‚å–æ¶ˆæ‰€æœ‰çš„è®¢é˜…ï¼Œæ¸…é™¤æ‰€æœ‰çš„çŠ¶æ€ç­‰ã€‚</p>
<p>å¦‚æœéœ€è¦å®ç°è‡ªåŠ¨é‡è¿çš„æœºåˆ¶ï¼Œå¯ä»¥åœ¨ <code>close</code> äº‹ä»¶çš„å¤„ç†å‡½æ•°ä¸­å¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå®šæ—¶å°è¯•é‡æ–°è¿æ¥ã€‚</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">let socket &#x3D; new WebSocket(&#39;wss:&#x2F;&#x2F;example.com&#39;);

socket.onclose &#x3D; function(event) &#123;
  console.log(&#39;WebSocket is closed. Reconnect will be attempted in 1 second.&#39;, event.reason);
  setTimeout(function() &#123;
    connect();
  &#125;, 1000);
&#125;;

socket.onerror &#x3D; function(err) &#123;
  console.error(&#39;WebSocket encountered error: &#39;, err.message, &#39;Closing socket&#39;);
  socket.close();
&#125;;

function connect() &#123;
  socket &#x3D; new WebSocket(&#39;wss:&#x2F;&#x2F;example.com&#39;);
  socket.onclose &#x3D; ... &#x2F;&#x2F; é‡æ–°è®¾ç½®äº‹ä»¶å¤„ç†å‡½æ•°
  socket.onerror &#x3D; ...
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Vueç›¸å…³"><a href="#Vueç›¸å…³" class="headerlink" title="Vueç›¸å…³"></a>Vueç›¸å…³</h2><h3 id="Vueé€šä¿¡æ–¹å¼"><a href="#Vueé€šä¿¡æ–¹å¼" class="headerlink" title="Vueé€šä¿¡æ–¹å¼"></a>Vueé€šä¿¡æ–¹å¼</h3><blockquote>
<p>é‡‘å±±äº‘</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>é€šä¿¡çš„åˆ†ç±»</li>
<li>çˆ¶å­ç»„ä»¶çš„ä¼ é€’æ–¹å¼</li>
<li>refçš„ç‰¹ç‚¹</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/13/vue-zu-jian-jian-tong-xin-fang-shi-xiang-jie/">Vueç»„ä»¶é—´é€šä¿¡æ–¹å¼è¯¦è§£ | QT-7274 (qblog.top)</a></p>
<h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><p>æç¤ºï¼š</p>
<ul>
<li>åŸç†ï¼š<ol>
<li>Vueç»„ä»¶æ¥æ”¶äº¤äº’è¡Œä¸ºï¼Œè°ƒç”¨dispatchè§¦å‘å¯¹åº”çš„acitonï¼ˆæä¾›äº†Promiseçš„å°è£…ï¼‰</li>
<li>actioné€šè¿‡commitæäº¤æ“ä½œæ–¹æ³•ï¼Œå¯¹mutationè¿›è¡Œæäº¤ï¼Œæ˜¯å”¯ä¸€èƒ½æ‰§è¡Œmutationçš„æ–¹æ³•</li>
<li>mutations çŠ¶æ€æ”¹å˜æ“ä½œæ–¹æ³•ï¼Œé€šè¿‡å…¶æ”¹å˜çŠ¶æ€ï¼Œå³state</li>
<li>gettersè¿”å›æœ€æ–°stateå€¼ï¼Œæ˜¯stateå¯¹è±¡çš„è¯»å–æ–¹æ³•ï¼Œå“åº”æ•°æ®æˆ–è€…çŠ¶æ€ç»™Vueç»„ä»¶ï¼Œç•Œé¢éšä¹‹æ›´æ–°</li>
</ol>
</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/07/18/xiang-jie-vuex/#å·¥ä½œåŸç†">è¯¦è§£Vuex | QT-7274 (qblog.top)</a></p>
<h3 id="vue-routerçš„ä¸¤ç§æ¨¡å¼ä»¥åŠå®ç°åŸç†"><a href="#vue-routerçš„ä¸¤ç§æ¨¡å¼ä»¥åŠå®ç°åŸç†" class="headerlink" title="vue-routerçš„ä¸¤ç§æ¨¡å¼ä»¥åŠå®ç°åŸç†"></a>vue-routerçš„ä¸¤ç§æ¨¡å¼ä»¥åŠå®ç°åŸç†</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>hash<ul>
<li>hashå€¼åœ¨å“ª</li>
<li>å‘é€è¯·æ±‚æ—¶ï¼Ÿ</li>
<li>hashå€¼çš„æ”¹å˜ï¼Œéƒ½ä¼šï¼Ÿ</li>
</ul>
</li>
<li>history<ul>
<li>ä¸¤ä¸ªAPI</li>
<li>åœ¨ä½¿ç”¨ history æ¨¡å¼æ—¶ï¼Œéœ€è¦<strong>é€šè¿‡æœåŠ¡ç«¯æ”¯æŒå…è®¸åœ°å€å¯è®¿é—®</strong>ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œå°±å¾ˆå®¹æ˜“å¯¼è‡´å‡ºç° 404 çš„å±€é¢ã€‚</li>
</ul>
</li>
<li>åŸç†<ul>
<li>é€šå¸¸æ„å»ºä¸€ä¸ªVueåº”ç”¨çš„æ—¶å€™, æˆ‘ä»¬ä¼šä½¿ç”¨Vue.useä»¥æ’ä»¶çš„å½¢å¼å®‰è£…VueRouterï¼ŒåŒæ—¶ä¼šåœ¨Vueçš„å®ä¾‹ä¸ŠæŒ‚è½½routerçš„å®ä¾‹ã€‚</li>
<li>åœ¨vueRouterè¿™ä¸ªæ’ä»¶ä¸­æœ‰ä¸€ä¸ªå…¬å…±çš„æ–¹æ³•installï¼Œè¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Vueæ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„å‚æ•°å¯¹è±¡ï¼Œå…¶ä¸­åœ¨installæ–‡ä»¶ä¸­ï¼Œæ··å…¥äº†mixinï¼Œç»™æ¯ä¸€ä¸ªç»„ä»¶åˆ›å»ºbeforeCreateé’©å­ï¼Œåœ¨Vueçš„å®ä¾‹ä¸Šåˆå§‹åŒ–äº†ä¸€äº›ç§æœ‰å±æ€§ï¼Œå…¶ä¸­_ routeræŒ‡å‘äº†VueRouterçš„å®ä¾‹ï¼Œ_ rootæŒ‡å‘äº†Vueçš„å®ä¾‹ã€‚</li>
<li>åœ¨Vueä¸­åˆ©ç”¨æ•°æ®åŠ«æŒdefinePropertyåœ¨åŸå‹prototypeä¸Šåˆå§‹åŒ–äº†ä¸€äº›getterï¼Œåˆ†åˆ«æ˜¯ï¼š<ul>
<li>router ä»£è¡¨å½“å‰Routerçš„å®ä¾‹ã€‚</li>
<li>route ä»£è¡¨å½“å‰Routerçš„ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>åœ¨installä¸­ä¹Ÿå…¨å±€æ³¨å†Œäº†router-viewï¼Œrouter-linkï¼Œå…¶ä¸­çš„Vue.util.defineReactive, è¿™æ˜¯Vueé‡Œé¢è§‚å¯Ÿè€…åŠ«æŒæ•°æ®çš„æ–¹æ³•ï¼ŒåŠ«æŒ_ routeï¼Œå½“_ routeè§¦å‘setteræ–¹æ³•çš„æ—¶å€™ï¼Œåˆ™ä¼šé€šçŸ¥åˆ°ä¾èµ–çš„ç»„ä»¶ã€‚</li>
<li>æ¥ä¸‹æ¥åœ¨initä¸­ï¼Œä¼šæŒ‚è½½åˆ¤æ–­æ˜¯è·¯ç”±çš„æ¨¡å¼ï¼Œæ˜¯historyæˆ–è€…æ˜¯hash,ç‚¹å‡»è¡Œä¸ºæŒ‰é’®ï¼Œè°ƒç”¨hashchangeæˆ–è€…popstateçš„åŒæ—¶æ›´æ–°_ route, _ routeçš„æ›´æ–°ä¼šè§¦å‘route-viewçš„é‡æ–°æ¸²æŸ“ã€‚</li>
</ul>
</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/vue-xiang-guan-xi-jie-ti/#èƒ½è¯´ä¸‹-vue-router-ä¸­å¸¸ç”¨çš„-hash-å’Œ-history-è·¯ç”±æ¨¡å¼å®ç°åŸç†å—ï¼Ÿ">Vueç›¸å…³ç»†èŠ‚é¢˜ | QT-7274 (qblog.top)</a></p>
<h3 id="SPA"><a href="#SPA" class="headerlink" title="SPA"></a>SPA</h3><p>SPAï¼ˆSingle Page Applicationï¼‰å•é¡µåº”ç”¨ï¼Œæ˜¯ä¸€ç§åªæœ‰ä¸€ä¸ª HTML é¡µé¢çš„åº”ç”¨ï¼Œæ‰€æœ‰çš„ç”¨æˆ·äº¤äº’éƒ½é€šè¿‡ JavaScript æ¥æ›´æ–°å½“å‰é¡µé¢ï¼Œè€Œä¸æ˜¯é€šè¿‡ç½‘ç»œè¯·æ±‚æ–°çš„ HTML é¡µé¢ã€‚è¿™ç§æ¨¡å¼çš„åº”ç”¨åŒ…æ‹¬ Gmailã€Google Mapsã€Facebook æˆ– Twitter ç­‰ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·ä½“éªŒå¥½</strong>ï¼šç”±äºå¤§éƒ¨åˆ†èµ„æºï¼ˆHTML/CSS/JSï¼‰éƒ½åœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶å°±å·²ç»è·å–ï¼Œæ‰€ä»¥é¡µé¢ä¹‹é—´çš„åˆ‡æ¢ä¸éœ€è¦é‡æ–°ä»æœåŠ¡å™¨åŠ è½½èµ„æºï¼Œå“åº”é€Ÿåº¦å¿«ï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚</li>
<li><strong>å‰åç«¯åˆ†ç¦»</strong>ï¼šå‰ç«¯é€šè¿‡ API ä¸åç«¯è¿›è¡Œäº¤äº’ï¼Œå‰åç«¯å¯ä»¥åˆ†åˆ«å¼€å‘å’Œä¼˜åŒ–ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>å‡è½»æœåŠ¡å™¨å‹åŠ›</strong>ï¼šæœåŠ¡å™¨åªç”¨å‡ºæ•°æ®å°±å¯ä»¥ï¼Œä¸ç”¨ç®¡å±•ç¤ºé€»è¾‘å’Œé¡µé¢åˆæˆï¼Œååèƒ½åŠ›ä¼šæé«˜å‡ å€ã€‚</li>
</ol>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ol>
<li><strong>é¦–å±åŠ è½½æ…¢</strong>ï¼šç”±äºä¸€å¼€å§‹éœ€è¦åŠ è½½çš„èµ„æºè¾ƒå¤šï¼Œæ‰€ä»¥é¦–å±çš„åŠ è½½æ—¶é—´å¯èƒ½ä¼šè¾ƒé•¿ã€‚</li>
<li><strong>SEO ä¸å‹å¥½</strong>ï¼šç”±äºæ‰€æœ‰çš„å†…å®¹éƒ½åœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œä¸”å†…å®¹çš„æ”¹å˜æ˜¯é€šè¿‡ JavaScript åŠ¨æ€æ›¿æ¢çš„ï¼Œæ‰€ä»¥æœç´¢å¼•æ“å¯èƒ½æ— æ³•æ­£ç¡®ç´¢å¼•åˆ°é¡µé¢çš„ä¿¡æ¯ã€‚</li>
<li><strong>å‰ç«¯å·¥ä½œé‡å¤§</strong>ï¼šå‰ç«¯éœ€è¦å¤„ç†è·¯ç”±ã€è§†å›¾ä»¥åŠæ•°æ®ç­‰å„ç§é—®é¢˜ï¼Œå·¥ä½œé‡ç›¸å¯¹è¾ƒå¤§ã€‚</li>
</ol>
<h3 id="SSR"><a href="#SSR" class="headerlink" title="SSR"></a>SSR</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>å…¨ç§°</li>
<li>ä¼˜ç‚¹ï¼ˆå’ŒSPAæ¯”è¾ƒï¼‰ï¼šä¸¤ç‚¹</li>
<li>ç¼ºç‚¹ï¼šä¸¤ç‚¹</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/vue-xiang-guan-xi-jie-ti/#ä½¿ç”¨è¿‡Vue-SSRå—ï¼Ÿè¯´è¯´-SSRï¼Ÿ">Vueç›¸å…³ç»†èŠ‚é¢˜ | QT-7274 (qblog.top)</a></p>
<h3 id="Vueå’ŒReactåŒºåˆ«"><a href="#Vueå’ŒReactåŒºåˆ«" class="headerlink" title="Vueå’ŒReactåŒºåˆ«"></a>Vueå’ŒReactåŒºåˆ«</h3><blockquote>
<p>å­—èŠ‚</p>
</blockquote>
<ol>
<li><strong>æ¨¡æ¿ vs JSX</strong>ï¼šVue.js ä½¿ç”¨åŸºäº HTML çš„æ¨¡æ¿è¯­æ³•ï¼Œè¿™ä½¿å¾— Vue.js çš„å­¦ä¹ æ›²çº¿ç›¸å¯¹è¾ƒå¹³ç¼“ï¼Œå°¤å…¶æ˜¯å¯¹äºé‚£äº›å·²ç»ç†Ÿæ‚‰ HTML çš„å¼€å‘è€…ã€‚è€Œ React ä½¿ç”¨ JSXï¼Œè¿™æ˜¯ä¸€ç§å°† JavaScript å’Œ HTML æ··åˆåœ¨ä¸€èµ·çš„è¯­æ³•ï¼Œå¯¹äºé‚£äº›å–œæ¬¢åœ¨ JavaScript ä¸­å¤„ç†ä¸€åˆ‡çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™å¯èƒ½æ›´æœ‰å¸å¼•åŠ›ã€‚</li>
<li><strong>æ•°æ®ç»‘å®š</strong>ï¼šVue.js æä¾›äº†åŒå‘æ•°æ®ç»‘å®šï¼Œè¿™æ„å‘³ç€å½“ä½ åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹æ—¶ï¼Œä½ çš„æ•°æ®æ¨¡å‹ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œåä¹‹äº¦ç„¶ã€‚è€Œ React åªæä¾›äº†å•å‘æ•°æ®æµï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦æ‰‹åŠ¨å¤„ç†è¾“å…¥æ¡†çš„å˜åŒ–äº‹ä»¶ï¼Œå¹¶æ›´æ–°ä½ çš„æ•°æ®æ¨¡å‹ã€‚</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šReact é€šå¸¸ä¸ Redux ä¸€èµ·ä½¿ç”¨ï¼Œä»¥æä¾›é›†ä¸­å¼çš„çŠ¶æ€ç®¡ç†ã€‚è€Œ Vue.js æœ‰ä¸€ä¸ªå®˜æ–¹çš„çŠ¶æ€ç®¡ç†åº“ Vuexï¼Œå®ƒçš„ API è®¾è®¡æ›´åŠ ç®€æ´ï¼Œæ›´æ˜“äºç†è§£å’Œä½¿ç”¨ã€‚</li>
<li><strong>ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šReact çš„ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿæ›´åŠ æˆç†Ÿï¼Œæœ‰è®¸å¤šé«˜è´¨é‡çš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥ä½¿ç”¨ã€‚è€Œ Vue.js çš„ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿè™½ç„¶ä¹Ÿåœ¨å¿«é€Ÿå‘å±•ï¼Œä½†ç›¸æ¯” React è¿˜æ˜¯ç¨å¾®å°ä¸€äº›ã€‚</li>
</ol>
<h3 id="Computedå’ŒWatchçš„åŒºåˆ«"><a href="#Computedå’ŒWatchçš„åŒºåˆ«" class="headerlink" title="Computedå’ŒWatchçš„åŒºåˆ«"></a>Computedå’ŒWatchçš„åŒºåˆ«</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>ä½œç”¨</li>
<li>åº”ç”¨åœºæ™¯</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/vue-xiang-guan-xi-jie-ti/#computed-å’Œ-watch-çš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯ï¼Ÿ">Vueç›¸å…³ç»†èŠ‚é¢˜ | QT-7274 (qblog.top)</a></p>
<h3 id="v-ifå’Œv-showçš„åŒºåˆ«"><a href="#v-ifå’Œv-showçš„åŒºåˆ«" class="headerlink" title="v-ifå’Œv-showçš„åŒºåˆ«"></a>v-ifå’Œv-showçš„åŒºåˆ«</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>è§¦å‘æ¡ä»¶å¸¦æ¥çš„å½±å“</li>
<li>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/08/11/shang-pin-hui-xing-neng-you-hua/#v-if-or-v-showï¼Ÿ">å°šå“æ±‡-æ€§èƒ½ä¼˜åŒ– | QT-7274 (qblog.top)</a></p>
<h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æå‡ï¼š</p>
<ul>
<li>æµç¨‹</li>
<li>å„é˜¶æ®µçš„ä½¿ç”¨åœºæ™¯</li>
<li>æ•°æ®è¯·æ±‚åœ¨createdå’Œmountedçš„åŒºåˆ«</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/07/10/vue-he-xin-vue-sheng-ming-zhou-qi/">Vueæ ¸å¿ƒ Vueç”Ÿå‘½å‘¨æœŸ | QT-7274 (qblog.top)</a></p>
<h3 id="Vue2å’ŒVue3çš„åŒºåˆ«"><a href="#Vue2å’ŒVue3çš„åŒºåˆ«" class="headerlink" title="Vue2å’ŒVue3çš„åŒºåˆ«"></a>Vue2å’ŒVue3çš„åŒºåˆ«</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>é€Ÿåº¦æ›´å¿«</li>
<li>ä½“ç§¯å‡å°</li>
<li>æ›´å®¹æ˜“ç»´æŠ¤</li>
<li>æ›´å¥½çš„TSæ”¯æŒ</li>
<li>å…¶ä»–ç»†èŠ‚æ”¹å˜</li>
</ul>
<p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/09/13/vue3-he-vue2-de-qu-bie/">Vue3å’ŒVue2çš„åŒºåˆ« | QT-7274 (qblog.top)</a></li>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/08/30/vue3-xin-te-xing/">Vue3æ–°ç‰¹æ€§ | QT-7274 (qblog.top)</a></li>
</ul>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li>Vue3çš„æ€§èƒ½ä¼˜åŒ–</li>
<li>Vue3çš„Tree shakingç®—æ³•</li>
</ul>
<h3 id="Vue3çš„æ€§èƒ½ä¼˜åŒ–"><a href="#Vue3çš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Vue3çš„æ€§èƒ½ä¼˜åŒ–"></a>Vue3çš„æ€§èƒ½ä¼˜åŒ–</h3><p>æç¤ºï¼š</p>
<ul>
<li>vue2çš„æ€§èƒ½æµªè´¹</li>
<li>diffç®—æ³•ä¼˜åŒ–ï¼šé™æ€æ ‡è®°</li>
<li>é™æ€æå‡</li>
<li>äº‹ä»¶ç›‘å¬ç¼“å­˜</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/13/vue3-he-vue2-de-qu-bie/">Vue3å’ŒVue2çš„åŒºåˆ« | QT-7274 (qblog.top)</a></p>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li>Vue3çš„Tree shaking</li>
</ul>
<h3 id="Vue3çš„Tree-shaking"><a href="#Vue3çš„Tree-shaking" class="headerlink" title="Vue3çš„Tree shaking"></a>Vue3çš„Tree shaking</h3><p>æç¤ºï¼š</p>
<ul>
<li>ä¼ ç»Ÿæ–¹æ³•å’ŒTree shaking çš„åŒºåˆ«</li>
<li>Vue2çš„ç¼ºç‚¹ï¼šç”Ÿäº§ä»£ç +æ— æ³•æ£€æµ‹</li>
<li>Vue3çš„ä¼˜ç‚¹ï¼šåˆ†å—</li>
<li>Tree shakingçš„ä¼˜ç‚¹</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/14/vue3-0-zhong-treeshaking-te-xing/">Vue3.0ä¸­Treeshakingç‰¹æ€§ | QT-7274 (qblog.top)</a></p>
<h3 id="Vueçš„åŒå‘ç»‘å®šçš„åŸç†"><a href="#Vueçš„åŒå‘ç»‘å®šçš„åŸç†" class="headerlink" title="Vueçš„åŒå‘ç»‘å®šçš„åŸç†"></a>Vueçš„åŒå‘ç»‘å®šçš„åŸç†</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>åŒå‘ç»‘å®šçš„æ¦‚å¿µ</li>
<li>åŒå‘ç»‘å®šçš„ç»„æˆï¼šMVVM</li>
<li>ç¼–è¯‘ -- è·å– -- å®šä¹‰ -- éœ€è¦ -- é€šçŸ¥</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/vue-xiang-guan-xi-jie-ti/#Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿ">Vueç›¸å…³ç»†èŠ‚é¢˜ | QT-7274 (qblog.top)</a></p>
<h3 id="è™šæ‹ŸDOM"><a href="#è™šæ‹ŸDOM" class="headerlink" title="è™šæ‹ŸDOM"></a>è™šæ‹ŸDOM</h3><blockquote>
<p>æ»´æ»´</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆè¦ç”¨åˆ°è™šæ‹ŸDOM</li>
<li>ä»€ä¹ˆæ˜¯è™šæ‹ŸDOM</li>
<li>å¦‚ä½•å®ç°è™šæ‹ŸDOM<ul>
<li>ç”¨JSå¯¹è±¡æ¨¡æ‹ŸDOMæ ‘</li>
<li>æ¸²æŸ“ç”¨JSè¡¨ç¤ºçš„DOMå¯¹è±¡</li>
<li>æ¯”è¾ƒä¸¤æ£µè™šæ‹ŸDOMæ ‘çš„å·®å¼‚</li>
<li>å°†ä¸¤ä¸ªè™šæ‹ŸDOMå¯¹è±¡çš„å·®å¼‚åº”ç”¨åˆ°çœŸæ­£çš„DOMæ ‘</li>
</ul>
</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/09/15/vue-xu-ni-dom-xiang-jie/">Vueè™šæ‹ŸDOMè¯¦è§£ | QT-7274 (qblog.top)</a></p>
<h3 id="nextTick-çš„åŸç†"><a href="#nextTick-çš„åŸç†" class="headerlink" title="$nextTick()çš„åŸç†"></a>$nextTick()çš„åŸç†</h3><blockquote>
<p>å°é¹…é€š</p>
</blockquote>
<p>æç¤ºï¼š</p>
<ul>
<li>èº«ä»½ï¼šå®ƒæ˜¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­</li>
<li>ä½œç”¨</li>
<li>ä½¿ç”¨åœºæ™¯</li>
<li>å®ç°åŸç†<ul>
<li>å®ç°åŸç†ä¸»è¦æ¶‰åŠåˆ°JavaScript çš„äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆMicrotask Queueï¼‰ã€‚ã€è¯¦è§ï¼šJavaScriptäº‹ä»¶å¾ªç¯ã€‘</li>
<li>Vue.js çš„ DOM æ›´æ–°æ˜¯å¼‚æ­¥çš„ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼ŒVue.js ä¸ä¼šç«‹å³æ›´æ–° DOMï¼Œè€Œæ˜¯å°†éœ€è¦æ›´æ–°çš„ç»„ä»¶æ·»åŠ åˆ°ä¸€ä¸ªå¼‚æ­¥é˜Ÿåˆ—ä¸­ã€‚ç„¶åï¼Œåœ¨äº‹ä»¶å¾ªç¯çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼ŒVue.js ä¼šæ¸…ç©ºå¼‚æ­¥é˜Ÿåˆ—ï¼Œæ›´æ–°æ‰€æœ‰éœ€è¦æ›´æ–°çš„ç»„ä»¶ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º &quot;å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—&quot;ã€‚</li>
<li><code>$nextTick()</code> æ–¹æ³•å°±æ˜¯åŸºäºè¿™ä¸ªå¼‚æ­¥æ›´æ–°é˜Ÿåˆ—å®ç°çš„ã€‚å½“ä½ è°ƒç”¨ <code>$nextTick()</code> æ–¹æ³•æ—¶ï¼Œ<strong>Vue.js ä¼šå°†ä½ æä¾›çš„å›è°ƒå‡½æ•°æ·»åŠ åˆ°ä¸€ä¸ªå•ç‹¬çš„é˜Ÿåˆ—ä¸­ï¼Œè¿™ä¸ªé˜Ÿåˆ—ä¼šåœ¨å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—æ¸…ç©ºåæ‰§è¡Œã€‚</strong>è¿™æ ·ï¼Œä½ å°±å¯ä»¥ç¡®ä¿ä½ çš„ä»£ç åœ¨ DOM æ›´æ–°åæ‰§è¡Œã€‚</li>
</ul>
</li>
</ul>
<p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2023/07/18/vue-he-xin-nexttick-guo-du-yu-dong-hua/">Vueæ ¸å¿ƒ $nextTick è¿‡æ¸¡ä¸åŠ¨ç”» | QT-7274 (qblog.top)</a></p>
<p>ç›¸å…³æ‹“å±•ï¼š</p>
<ul>
<li>JavaScriptä¸­çš„äº‹ä»¶å¾ªç¯</li>
</ul>
<h3 id="Vueçš„å“åº”å¼åŸç†åŠæ›´æ–°è¿­ä»£"><a href="#Vueçš„å“åº”å¼åŸç†åŠæ›´æ–°è¿­ä»£" class="headerlink" title="Vueçš„å“åº”å¼åŸç†åŠæ›´æ–°è¿­ä»£"></a>Vueçš„å“åº”å¼åŸç†åŠæ›´æ–°è¿­ä»£</h3><p>ç­”æ¡ˆï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/09/08/vue-xiang-guan-xi-jie-ti/#åŠ¨æ€ç»™vueçš„dataæ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ€æ ·è§£å†³ï¼Ÿ">Vueç›¸å…³ç»†èŠ‚é¢˜ | QT-7274 (qblog.top)</a></li>
<li><a target="_blank" rel="noopener" href="https://qblog.top/2023/08/30/vue3-xin-te-xing/#â—Vue3-0ä¸­çš„å“åº”å¼åŸç†">Vue3æ–°ç‰¹æ€§ | QT-7274 (qblog.top)</a></li>
</ul>
<h3 id="Viteæ‰“åŒ…å·¥å…·çš„æ„å»ºæµç¨‹"><a href="#Viteæ‰“åŒ…å·¥å…·çš„æ„å»ºæµç¨‹" class="headerlink" title="Viteæ‰“åŒ…å·¥å…·çš„æ„å»ºæµç¨‹"></a>Viteæ‰“åŒ…å·¥å…·çš„æ„å»ºæµç¨‹</h3><ol>
<li><strong>è¯»å–é…ç½®</strong>ï¼šVite é¦–å…ˆä¼šè¯»å–ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤ä¸º <code>vite.config.js</code>ï¼‰ï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®åˆå§‹åŒ–æ„å»ºç¯å¢ƒã€‚</li>
<li><strong>æ¨¡å—è§£æ</strong>ï¼šVite ä¼šè§£æå…¥å£æ–‡ä»¶ï¼ˆé»˜è®¤ä¸º <code>index.html</code>ï¼‰ï¼Œæ‰¾å‡ºæ‰€æœ‰çš„æ¨¡å—ä¾èµ–ã€‚Vite ä½¿ç”¨äº† ES Module çš„é™æ€å¯¼å…¥ç‰¹æ€§ï¼Œå¯ä»¥åœ¨ä¸æ‰§è¡Œä»£ç çš„æƒ…å†µä¸‹è§£æå‡ºæ‰€æœ‰çš„æ¨¡å—ä¾èµ–ã€‚</li>
<li><strong>æ¨¡å—è½¬æ¢</strong>ï¼šå¯¹äº JavaScript æ¨¡å—ï¼ŒVite ä¼šä½¿ç”¨ esbuild è¿›è¡Œè½¬æ¢ï¼Œè¿™æ¯”ä¼ ç»Ÿçš„ Babel è½¬æ¢è¦å¿«å¾—å¤šã€‚å¯¹äº Vueã€React ç­‰æ¡†æ¶çš„æ¨¡å—ï¼ŒVite ä¼šä½¿ç”¨å¯¹åº”çš„æ’ä»¶è¿›è¡Œè½¬æ¢ã€‚</li>
<li><strong>æ¨¡å—ä¼˜åŒ–</strong>ï¼šVite ä¼šé¢„ç¼–è¯‘ä¾èµ–æ¨¡å—ï¼Œå°†å…¶è½¬æ¢ä¸ºå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ ES Module æ ¼å¼ï¼Œå¤§å¤§æé«˜äº†é¡µé¢çš„åŠ è½½é€Ÿåº¦ã€‚</li>
<li><strong>ä»£ç æ‹†åˆ†</strong>ï¼šVite ä¼šæ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œä»£ç æ‹†åˆ†ï¼Œç”Ÿæˆå¤šä¸ª chunkï¼Œä»¥å®ç°ä»£ç çš„æŒ‰éœ€åŠ è½½ã€‚</li>
<li><strong>é™æ€èµ„æºå¤„ç†</strong>ï¼šVite ä¼šå¤„ç†å’Œä¼˜åŒ–é™æ€èµ„æºï¼Œå¦‚å›¾ç‰‡ã€æ ·å¼æ–‡ä»¶ç­‰ã€‚</li>
<li><strong>æ„å»ºè¾“å‡º</strong>ï¼šæœ€åï¼ŒVite ä¼šå°†è½¬æ¢å’Œä¼˜åŒ–åçš„ä»£ç è¾“å‡ºåˆ°æ„å»ºç›®å½•ï¼ˆé»˜è®¤ä¸º <code>dist</code>ï¼‰ã€‚</li>
</ol>
<h3 id="Vueéƒ¨ç½²å‡ºç°404é—®é¢˜"><a href="#Vueéƒ¨ç½²å‡ºç°404é—®é¢˜" class="headerlink" title="Vueéƒ¨ç½²å‡ºç°404é—®é¢˜"></a>Vueéƒ¨ç½²å‡ºç°404é—®é¢˜</h3><p>ç­”æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://qblog.top/2022/09/09/vue-xiang-mu-kai-fa-yu-bu-shu/#404é—®é¢˜">Vueé¡¹ç›®å¼€å‘ä¸éƒ¨ç½² | QT-7274 (qblog.top)</a></p>
<h2 id="è®¡ç®—å™¨"><a href="#è®¡ç®—å™¨" class="headerlink" title="è®¡ç®—å™¨"></a>è®¡ç®—å™¨</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function calculate(s) &#123;
  &#x2F;&#x2F;å»ç©ºæ ¼
  s &#x3D; s.replace(&#x2F; &#x2F;g, &quot;&quot;);
  if (s.length &#x3D;&#x3D;&#x3D; 0) return 0;
  let stack &#x3D; [];&#x2F;&#x2F;æ•°æ®æ ˆ
  let sign &#x3D; &#39;+&#39;; &#x2F;&#x2F;ç¬¦å·
  let res &#x3D; 0, pre &#x3D; 0, i &#x3D; 0;
  while (i &lt; s.length) &#123;
      let ch &#x3D; s.charAt(i);
      &#x2F;&#x2F;å¤„ç†ä¸¤ä½æ•°çš„é—®é¢˜
      if (!isNaN(ch)) &#123;
          pre &#x3D; pre*10+(ch-&#39;0&#39;);
      &#125;
      &#x2F;&#x2F;ç¢°åˆ°å·¦æ‹¬å· å°±æŠŠæ‹¬å·é‡Œé¢å½“æˆä¸€ä¸ª æ–°çš„è¢«åŠ æ•°
      if (ch &#x3D;&#x3D;&#x3D; &#39;(&#39;) &#123;
          let j &#x3D; findClosing(s.substring(i)); &#x2F;&#x2F; æ‰¾åˆ°å³æ‹¬å·çš„ä½ç½®ï¼Œè¿”å›å³æ‹¬å·çš„ç´¢å¼•ä½ç½®
          pre &#x3D; calculate(s.substring(i+1, i+j)); &#x2F;&#x2F; è®¡ç®—æ‹¬å·å†…çš„å¼å­
          i +&#x3D; j; &#x2F;&#x2F; è·³è¿‡å·²ç»è®¡ç®—è¿‡
      &#125;
      if (i &#x3D;&#x3D;&#x3D; s.length-1 || isNaN(ch)) &#123;
          &#x2F;&#x2F;å°†æ‰€æœ‰çš„ç»“æœå‹æ ˆ æœ€åç»Ÿä¸€åŠ èµ·æ¥
          switch (sign) &#123;
              case &#39;+&#39;:
                  stack.push(pre); break;
              case &#39;-&#39;:
                  stack.push(-pre); break;
              case &#39;*&#39;:
                  stack.push(stack.pop()*pre); break; &#x2F;&#x2F; å¼¹å‡ºè¿ç®—ç„¶åè¿ç®—
              case &#39;&#x2F;&#39;:
                  stack.push(stack.pop()&#x2F;pre); break;
          &#125;
          pre &#x3D; 0;
          &#x2F;&#x2F;è®°å½•å½“å‰çš„ç¬¦å·
          sign &#x3D; ch;
      &#125; 
      i++;
  &#125;
  &#x2F;&#x2F; æœ¬è´¨ä¸Šè¯´å…¨éƒ½æ˜¯åŠ æ³•
  while (stack.length !&#x3D;&#x3D; 0) res +&#x3D; stack.pop();
  return res;
&#125;

&#x2F;&#x2F;åˆ é™¤æ‰€æœ‰çš„æ‹¬å·å¯¹ï¼Œå¹¶è¿”å›å³æ‹¬å·çš„ä½ç½®
function findClosing(s) &#123;
  let level &#x3D; 0, i &#x3D; 0;
  for (i &#x3D; 0; i &lt; s.length; i++) &#123;
      if (s.charAt(i) &#x3D;&#x3D;&#x3D; &#39;(&#39;) level++;
      else if (s.charAt(i) &#x3D;&#x3D;&#x3D; &#39;)&#39;) &#123;
          level--;
          if (level &#x3D;&#x3D;&#x3D; 0) break;
      &#125; else continue;
  &#125;
  return i;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        æ–‡ç« ä½œè€…:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">QT-7274</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        æ–‡ç« é“¾æ¥:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://qt-7274.github.io/2024/03/02/qian-duan-zhi-shi-dian-da-gang-hui-zong/">https://qt-7274.github.io/2024/03/02/qian-duan-zhi-shi-dian-da-gang-hui-zong/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        ç‰ˆæƒå£°æ˜:
                    </i>
                </span>
                <span class="reprint-info">
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ¥å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº
                    <a href="/about" target="_blank">QT-7274</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>å¤åˆ¶æˆåŠŸï¼Œè¯·éµå¾ªæœ¬æ–‡çš„è½¬è½½è§„åˆ™</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">æŸ¥çœ‹</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%89%8D%E7%AB%AF/">
                                    <span class="chip bg-color">å‰ç«¯</span>
                                </a>
                            
                                <a href="/tags/%E8%83%9C%E5%A4%A9/">
                                    <span class="chip bg-color">èƒœå¤©</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>å¾®ä¿¡æ‰«ä¸€æ‰«å³å¯åˆ†äº«ï¼</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">èµ</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">ä½ çš„èµè¯†æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">æ”¯ä»˜å®</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">å¾® ä¿¡</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/images/loading.gif" data-original="/medias/reward/alipay.jpg" class="reward-img" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
                    </div>
                    <div id="wechat">
                        <img src="/medias/images/loading.gif" data-original="/medias/reward/wechat.png" class="reward-img" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.gif") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>è¯„è®º</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid;">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'tzmyy70PpnbbxclXN4jYmjPA-gzGzoHsz',
        appKey: 'TCY55mH7vS6x5sVr1bCLm5Gg',
        serverURLs: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        requiredFields: ['nick','mail'],
        enableQQ: 'true',
        lang: 'zh-cn',
        placeholder: 'ğŸ˜‰ç•…æ‰€æ¬²è¨€ï¼\nğŸ“²è¯·æ–‡æ˜è¯„è®ºï¼Œç¦æ­¢æ¶æ„è¯„è®ºğŸš« \nâš ï¸å…¬å¼€ç½‘ç»œç©ºé—´ï¼Œè¯·ä¸è¦å‘è¡¨ä»»ä½•åŒ…å«ä¸ªäººæˆ–å…¶ä»–äººçš„éšç§ä¿¡æ¯ğŸ”',
        master: ["f18e9f29c8274571d5a0752aca9310ef"],
        friends:["0aa4f09d8249581a4380a6fc541062e7","6a66a1ba019c52f168d99313efbef39a"]
    });
</script>

<!--é…·Qæ¨é€-->


    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;ä¸Šä¸€ç¯‡</div>
            <div class="card">
                <a href="/2024/03/05/this-de-bang-ding-gui-ze-xiang-jie/">
                    <div class="card-image">
                        
                        <img src="/medias/images/loading.gif" data-original="https://roseblog.oss-cn-beijing.aliyuncs.com/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E7%89%87/610e97e1abaa1.jpg" class="responsive-img" alt="thisçš„ç»‘å®šè§„åˆ™è¯¦è§£">
                        
                        <span class="card-title">thisçš„ç»‘å®šè§„åˆ™è¯¦è§£</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            è½¬è½½äºç¨€åœŸæ˜é‡‘â€”â€”ä½œè€…CoderBin
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2024-03-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" class="post-category">
                                    å‰ç«¯å¼€å‘
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%89%8D%E7%AB%AF/">
                        <span class="chip bg-color">å‰ç«¯</span>
                    </a>
                    
                    <a href="/tags/JavaScript/">
                        <span class="chip bg-color">JavaScript</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                ä¸‹ä¸€ç¯‡&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2024/02/16/gua-yong-yu-da-gui-mo-transformers-de-8bit-ju-zhen-cheng-fa-llm-int8/">
                    <div class="card-image">
                        
                        <img src="/medias/images/loading.gif" data-original="https://roseblog.oss-cn-beijing.aliyuncs.com/%E5%8D%9A%E5%AE%A2%E5%9B%BE%E7%89%87/image-20240216131753065.png" class="responsive-img" alt="é€‚ç”¨äºå¤§è§„æ¨¡Transformersçš„8bitçŸ©é˜µä¹˜æ³•â€”â€”LLM.int8()">
                        
                        <span class="card-title">é€‚ç”¨äºå¤§è§„æ¨¡Transformersçš„8bitçŸ©é˜µä¹˜æ³•â€”â€”LLM.int8()</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-02-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="post-category">
                                    æ·±åº¦å­¦ä¹ 
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                        <span class="chip bg-color">æ·±åº¦å­¦ä¹ </span>
                    </a>
                    
                    <a href="/tags/%E8%AE%BA%E6%96%87%E5%B7%A5%E4%BD%9C/">
                        <span class="chip bg-color">è®ºæ–‡å·¥ä½œ</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç å—åŠŸèƒ½ä¾èµ– -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- æ˜¯å¦åŠ è½½ä½¿ç”¨è‡ªå¸¦çš„ prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- ä»£ç è¯­è¨€ -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç å—å¤åˆ¶ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç å—æ”¶ç¼© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ç›®å½•</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ‚¬æµ®æŒ‰é’®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4, h5'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æ–‡ç« å¡ç‰‡ div çš„å®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„ç›¸å…³æ“ä½œ.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2025</span>
            
            <a href="/about" target="_blank">QT-7274</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- è¿è¡Œå¤©æ•°æé†’. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/QT-7274" class="tooltipped" target="_blank" data-tooltip="è®¿é—®æˆ‘çš„GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2531376773@qq.com" class="tooltipped" target="_blank" data-tooltip="é‚®ä»¶è”ç³»æˆ‘" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2531376773" class="tooltipped" target="_blank" data-tooltip="QQè”ç³»æˆ‘: 2531376773" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>


    <a  class="tooltipped" target="_blank" data-tooltip="å¾®ä¿¡è”ç³»æˆ‘: Q5268368" data-position="top" data-delay="50">
        <i class="fab fa-weixin"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æœç´¢é®ç½©æ¡† -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;æœç´¢</span>
            <input type="search" id="searchInput" name="s" placeholder="è¯·è¾“å…¥æœç´¢çš„å…³é”®å­—"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- é›ªèŠ±ç‰¹æ•ˆ -->
    

    <!-- é¼ æ ‡æ˜Ÿæ˜Ÿç‰¹æ•ˆ -->
    

    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--è…¾è®¯å…”å°å·¢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 3,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>

</html>
